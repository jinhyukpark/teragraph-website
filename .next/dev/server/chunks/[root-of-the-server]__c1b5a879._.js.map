{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/shared/schema.ts"],"sourcesContent":["import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport const contactMessages = pgTable(\"contact_messages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  title: text(\"title\").notNull(),\n  purpose: text(\"purpose\").notNull(),\n  content: text(\"content\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertContactMessageSchema = createInsertSchema(contactMessages).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertContactMessage = z.infer<typeof insertContactMessageSchema>;\nexport type ContactMessage = typeof contactMessages.$inferSelect;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;;AAGO,MAAM,QAAQ,IAAA,kKAAO,EAAC,SAAS;IACpC,IAAI,IAAA,+KAAO,EAAC,MAAM,UAAU,GAAG,OAAO,CAAC,qJAAG,CAAC,iBAAiB,CAAC;IAC7D,UAAU,IAAA,yKAAI,EAAC,YAAY,OAAO,GAAG,MAAM;IAC3C,UAAU,IAAA,yKAAI,EAAC,YAAY,OAAO;AACpC;AAEO,MAAM,mBAAmB,IAAA,gKAAkB,EAAC,OAAO,IAAI,CAAC;IAC7D,UAAU;IACV,UAAU;AACZ;AAKO,MAAM,kBAAkB,IAAA,kKAAO,EAAC,oBAAoB;IACzD,IAAI,IAAA,+KAAO,EAAC,MAAM,UAAU,GAAG,OAAO,CAAC,qJAAG,CAAC,iBAAiB,CAAC;IAC7D,OAAO,IAAA,yKAAI,EAAC,SAAS,OAAO;IAC5B,SAAS,IAAA,yKAAI,EAAC,WAAW,OAAO;IAChC,SAAS,IAAA,yKAAI,EAAC,WAAW,OAAO;IAChC,WAAW,IAAA,mLAAS,EAAC,cAAc,UAAU,GAAG,OAAO;AACzD;AAEO,MAAM,6BAA6B,IAAA,gKAAkB,EAAC,iBAAiB,IAAI,CAAC;IACjF,IAAI;IACJ,WAAW;AACb"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/db.ts"],"sourcesContent":["import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport * as schema from '@/shared/schema';\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;IAC7B,MAAM,IAAI,MACR;AAEJ;AAEO,MAAM,OAAO,IAAI,gKAAI,CAAC;IAAE,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAAC;AACnE,MAAM,KAAK,IAAA,2KAAO,EAAC;IAAE,QAAQ;IAAM,QAAA;AAAO"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/contact/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { db } from \"@/lib/db\";\nimport { contactMessages, insertContactMessageSchema } from \"@/shared/schema\";\nimport nodemailer from \"nodemailer\";\n\nconst transporter = nodemailer.createTransport({\n  host: process.env.SMTP_HOST || \"smtp.gmail.com\",\n  port: parseInt(process.env.SMTP_PORT || \"587\"),\n  secure: false,\n  auth: {\n    user: process.env.SMTP_USER,\n    pass: process.env.SMTP_PASS,\n  },\n});\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const validatedData = insertContactMessageSchema.parse(body);\n\n    const [message] = await db\n      .insert(contactMessages)\n      .values(validatedData)\n      .returning();\n\n    if (process.env.SMTP_USER && process.env.SMTP_PASS) {\n      try {\n        await transporter.sendMail({\n          from: process.env.SMTP_USER,\n          to: \"manager@teragraph.io\",\n          subject: `[TeraGraph Contact] ${validatedData.purpose}: ${validatedData.title}`,\n          html: `\n            <h2>New Contact Message</h2>\n            <p><strong>Title:</strong> ${validatedData.title}</p>\n            <p><strong>Purpose:</strong> ${validatedData.purpose}</p>\n            <p><strong>Message:</strong></p>\n            <p>${validatedData.content.replace(/\\n/g, \"<br>\")}</p>\n            <hr>\n            <p><small>Submitted at: ${new Date().toISOString()}</small></p>\n          `,\n        });\n        console.log(\"Email sent successfully to manager@illunex.com\");\n      } catch (emailError) {\n        console.error(\"Email sending failed:\", emailError);\n      }\n    } else {\n      console.log(\"SMTP credentials not configured, skipping email\");\n    }\n\n    return NextResponse.json({ success: true, message });\n  } catch (error) {\n    console.error(\"Contact form error:\", error);\n    return NextResponse.json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"Failed to process contact form\",\n      },\n      { status: 400 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;IAC7C,MAAM,QAAQ,GAAG,CAAC,SAAS,IAAI;IAC/B,MAAM,SAAS,QAAQ,GAAG,CAAC,SAAS,IAAI;IACxC,QAAQ;IACR,MAAM;QACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;QAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC7B;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,gBAAgB,gJAA0B,CAAC,KAAK,CAAC;QAEvD,MAAM,CAAC,QAAQ,GAAG,MAAM,iHAAE,CACvB,MAAM,CAAC,qIAAe,EACtB,MAAM,CAAC,eACP,SAAS;QAEZ,IAAI,QAAQ,GAAG,CAAC,SAAS,IAAI,QAAQ,GAAG,CAAC,SAAS,EAAE;YAClD,IAAI;gBACF,MAAM,YAAY,QAAQ,CAAC;oBACzB,MAAM,QAAQ,GAAG,CAAC,SAAS;oBAC3B,IAAI;oBACJ,SAAS,CAAC,oBAAoB,EAAE,cAAc,OAAO,CAAC,EAAE,EAAE,cAAc,KAAK,EAAE;oBAC/E,MAAM,CAAC;;uCAEsB,EAAE,cAAc,KAAK,CAAC;yCACpB,EAAE,cAAc,OAAO,CAAC;;eAElD,EAAE,cAAc,OAAO,CAAC,OAAO,CAAC,OAAO,QAAQ;;oCAE1B,EAAE,IAAI,OAAO,WAAW,GAAG;UACrD,CAAC;gBACH;gBACA,QAAQ,GAAG,CAAC;YACd,EAAE,OAAO,YAAY;gBACnB,QAAQ,KAAK,CAAC,yBAAyB;YACzC;QACF,OAAO;YACL,QAAQ,GAAG,CAAC;QACd;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAQ;IACpD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAClD,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}