module.exports=[61724,(e,t,i)=>{t.exports=e.x("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js"))},47909,(e,t,i)=>{t.exports=e.r(61724)},17413,(e,t,i)=>{(()=>{"use strict";let i,r,n,s,a;var o,l,c,p,u,d,h,f,m,g,v,y,b,x,_,w,S={491:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let r=i(223),n=i(172),s=i(930),a="context",o=new r.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,n.registerGlobal)(a,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,i,...r){return this._getContextManager().with(e,t,i,...r)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,n.getGlobal)(a)||o}disable(){this._getContextManager().disable(),(0,n.unregisterGlobal)(a,s.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let r=i(56),n=i(912),s=i(957),a=i(172);class o{constructor(){function e(e){return function(...t){let i=(0,a.getGlobal)("diag");if(i)return i[e](...t)}}const t=this;t.setLogger=(e,i={logLevel:s.DiagLogLevel.INFO})=>{var r,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(r=e.stack)?r:e.message),!1}"number"==typeof i&&(i={logLevel:i});let c=(0,a.getGlobal)("diag"),p=(0,n.createLogLevelDiagLogger)(null!=(o=i.logLevel)?o:s.DiagLogLevel.INFO,e);if(c&&!i.suppressOverrideMessage){let e=null!=(l=Error().stack)?l:"<failed to generate stacktrace>";c.warn(`Current logger will be overwritten from ${e}`),p.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",p,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new r.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let r=i(660),n=i(172),s=i(930),a="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,n.registerGlobal)(a,e,s.DiagAPI.instance())}getMeterProvider(){return(0,n.getGlobal)(a)||r.NOOP_METER_PROVIDER}getMeter(e,t,i){return this.getMeterProvider().getMeter(e,t,i)}disable(){(0,n.unregisterGlobal)(a,s.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let r=i(172),n=i(874),s=i(194),a=i(277),o=i(369),l=i(930),c="propagation",p=new n.NoopTextMapPropagator;class u{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalPropagator(e){return(0,r.registerGlobal)(c,e,l.DiagAPI.instance())}inject(e,t,i=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,i)}extract(e,t,i=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,i)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,r.unregisterGlobal)(c,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,r.getGlobal)(c)||p}}t.PropagationAPI=u},997:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let r=i(172),n=i(846),s=i(139),a=i(607),o=i(930),l="trace";class c{constructor(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalTracerProvider(e){let t=(0,r.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,r.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,r.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider}}t.TraceAPI=c},277:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let r=i(491),n=(0,i(780).createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(n)||void 0}t.getBaggage=s,t.getActiveBaggage=function(){return s(r.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(n,t)},t.deleteBaggage=function(e){return e.deleteValue(n)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class i{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let r=new i(this._entries);return r._entries.set(e,t),r}removeEntry(e){let t=new i(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new i(this._entries);for(let i of e)t._entries.delete(i);return t}clear(){return new i}}t.BaggageImpl=i},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let r=i(930),n=i(993),s=i(830),a=r.DiagAPI.instance();t.createBaggage=function(e={}){return new n.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=i(491).ContextAPI.getInstance()},223:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let r=i(780);t.NoopContextManager=class{active(){return r.ROOT_CONTEXT}with(e,t,i,...r){return t.call(i,...r)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class i{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,r)=>{let n=new i(t._currentContext);return n._currentContext.set(e,r),n},t.deleteValue=e=>{let r=new i(t._currentContext);return r._currentContext.delete(e),r}}}t.ROOT_CONTEXT=new i},506:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=i(930).DiagAPI.instance()},56:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let r=i(172);function n(e,t,i){let n=(0,r.getGlobal)("diag");if(n)return i.unshift(t),n[e](...i)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return n("debug",this._namespace,e)}error(...e){return n("error",this._namespace,e)}info(...e){return n("info",this._namespace,e)}warn(...e){return n("warn",this._namespace,e)}verbose(...e){return n("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let i=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<i.length;e++)this[i[e].n]=function(e){return function(...t){if(console){let i=console[e];if("function"!=typeof i&&(i=console.log),"function"==typeof i)return i.apply(console,t)}}}(i[e].c)}}},912:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let r=i(957);t.createLogLevelDiagLogger=function(e,t){function i(i,r){let n=t[i];return"function"==typeof n&&e>=r?n.bind(t):function(){}}return e<r.DiagLogLevel.NONE?e=r.DiagLogLevel.NONE:e>r.DiagLogLevel.ALL&&(e=r.DiagLogLevel.ALL),t=t||{},{error:i("error",r.DiagLogLevel.ERROR),warn:i("warn",r.DiagLogLevel.WARN),info:i("info",r.DiagLogLevel.INFO),debug:i("debug",r.DiagLogLevel.DEBUG),verbose:i("verbose",r.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(i=t.DiagLogLevel||(t.DiagLogLevel={}))[i.NONE=0]="NONE",i[i.ERROR=30]="ERROR",i[i.WARN=50]="WARN",i[i.INFO=60]="INFO",i[i.DEBUG=70]="DEBUG",i[i.VERBOSE=80]="VERBOSE",i[i.ALL=9999]="ALL"},172:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let r=i(200),n=i(521),s=i(130),a=n.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${a}`),l=r._globalThis;t.registerGlobal=function(e,t,i,r=!1){var s;let a=l[o]=null!=(s=l[o])?s:{version:n.VERSION};if(!r&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return i.error(t.stack||t.message),!1}if(a.version!==n.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${n.VERSION}`);return i.error(t.stack||t.message),!1}return a[e]=t,i.debug(`@opentelemetry/api: Registered a global for ${e} v${n.VERSION}.`),!0},t.getGlobal=function(e){var t,i;let r=null==(t=l[o])?void 0:t.version;if(r&&(0,s.isCompatible)(r))return null==(i=l[o])?void 0:i[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${n.VERSION}.`);let i=l[o];i&&delete i[e]}},130:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let r=i(521),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){let t=new Set([e]),i=new Set,r=e.match(n);if(!r)return()=>!1;let s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=s.prerelease)return function(t){return t===e};function a(e){return i.add(e),!1}return function(e){if(t.has(e))return!0;if(i.has(e))return!1;let r=e.match(n);if(!r)return a(e);let o={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=o.prerelease||s.major!==o.major)return a(e);if(0===s.major)return s.minor===o.minor&&s.patch<=o.patch?(t.add(e),!0):a(e);return s.minor<=o.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=s,t.isCompatible=s(r.VERSION)},886:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=i(653).MetricsAPI.getInstance()},901:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(i=t.ValueType||(t.ValueType={}))[i.INT=0]="INT",i[i.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class i{constructor(){}createHistogram(e,i){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,i){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,i){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,i){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,i){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,i){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=i;class r{}t.NoopMetric=r;class n extends r{add(e,t){}}t.NoopCounterMetric=n;class s extends r{add(e,t){}}t.NoopUpDownCounterMetric=s;class a extends r{record(e,t){}}t.NoopHistogramMetric=a;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class c extends o{}t.NoopObservableGaugeMetric=c;class p extends o{}t.NoopObservableUpDownCounterMetric=p,t.NOOP_METER=new i,t.NOOP_COUNTER_METRIC=new n,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new s,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new c,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new p,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let r=i(102);class n{getMeter(e,t,i){return r.NOOP_METER}}t.NoopMeterProvider=n,t.NOOP_METER_PROVIDER=new n},200:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(46),t)},651:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i._globalThis=void 0,i._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(651),t)},939:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=i(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,i){null!=e&&(e[t]=i)}}},845:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=i(997).TraceAPI.getInstance()},403:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let r=i(476);t.NonRecordingSpan=class{constructor(e=r.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let r=i(491),n=i(607),s=i(403),a=i(139),o=r.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,i=o.active()){var r;if(null==t?void 0:t.root)return new s.NonRecordingSpan;let l=i&&(0,n.getSpanContext)(i);return"object"==typeof(r=l)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&(0,a.isSpanContextValid)(l)?new s.NonRecordingSpan(l):new s.NonRecordingSpan}startActiveSpan(e,t,i,r){let s,a,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(s=t,l=i):(s=t,a=i,l=r);let c=null!=a?a:o.active(),p=this.startSpan(e,s,c),u=(0,n.setSpan)(c,p);return o.with(u,l,void 0,p)}}},124:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let r=i(614);t.NoopTracerProvider=class{getTracer(e,t,i){return new r.NoopTracer}}},125:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let r=new(i(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,i,r){this._provider=e,this.name=t,this.version=i,this.options=r}startSpan(e,t,i){return this._getTracer().startSpan(e,t,i)}startActiveSpan(e,t,i,r){let n=this._getTracer();return Reflect.apply(n.startActiveSpan,n,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):r}}},846:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let r=i(125),n=new(i(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,i){var n;return null!=(n=this.getDelegateTracer(e,t,i))?n:new r.ProxyTracer(this,e,t,i)}getDelegate(){var e;return null!=(e=this._delegate)?e:n}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,i){var r;return null==(r=this._delegate)?void 0:r.getTracer(e,t,i)}}},996:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(i=t.SamplingDecision||(t.SamplingDecision={}))[i.NOT_RECORD=0]="NOT_RECORD",i[i.RECORD=1]="RECORD",i[i.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let r=i(780),n=i(403),s=i(491),a=(0,r.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(a)||void 0}function l(e,t){return e.setValue(a,t)}t.getSpan=o,t.getActiveSpan=function(){return o(s.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return l(e,new n.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=o(e))?void 0:t.spanContext()}},325:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let r=i(564);class n{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,t),i}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let i=t.trim(),n=i.indexOf("=");if(-1!==n){let s=i.slice(0,n),a=i.slice(n+1,t.length);(0,r.validateKey)(s)&&(0,r.validateValue)(a)&&e.set(s,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new n;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=n},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let i="[_0-9a-z-*/]",r=`[a-z]${i}{0,255}`,n=`[a-z0-9]${i}{0,240}@[a-z]${i}{0,13}`,s=RegExp(`^(?:${r}|${n})$`),a=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return s.test(e)},t.validateValue=function(e){return a.test(e)&&!o.test(e)}},98:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let r=i(325);t.createTraceState=function(e){return new r.TraceStateImpl(e)}},476:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let r=i(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:r.TraceFlags.NONE}},357:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(i=t.SpanKind||(t.SpanKind={}))[i.INTERNAL=0]="INTERNAL",i[i.SERVER=1]="SERVER",i[i.CLIENT=2]="CLIENT",i[i.PRODUCER=3]="PRODUCER",i[i.CONSUMER=4]="CONSUMER"},139:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let r=i(476),n=i(403),s=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function o(e){return s.test(e)&&e!==r.INVALID_TRACEID}function l(e){return a.test(e)&&e!==r.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}},847:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(i=t.SpanStatusCode||(t.SpanStatusCode={}))[i.UNSET=0]="UNSET",i[i.OK=1]="OK",i[i.ERROR=2]="ERROR"},475:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(i=t.TraceFlags||(t.TraceFlags={}))[i.NONE=0]="NONE",i[i.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},E={};function T(e){var t=E[e];if(void 0!==t)return t.exports;var i=E[e]={exports:{}},r=!0;try{S[e].call(i.exports,i,i.exports,T),r=!1}finally{r&&delete E[e]}return i.exports}T.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.trace=k.propagation=k.metrics=k.diag=k.context=k.INVALID_SPAN_CONTEXT=k.INVALID_TRACEID=k.INVALID_SPANID=k.isValidSpanId=k.isValidTraceId=k.isSpanContextValid=k.createTraceState=k.TraceFlags=k.SpanStatusCode=k.SpanKind=k.SamplingDecision=k.ProxyTracerProvider=k.ProxyTracer=k.defaultTextMapSetter=k.defaultTextMapGetter=k.ValueType=k.createNoopMeter=k.DiagLogLevel=k.DiagConsoleLogger=k.ROOT_CONTEXT=k.createContextKey=k.baggageEntryMetadataFromString=void 0,o=T(369),Object.defineProperty(k,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return o.baggageEntryMetadataFromString}}),l=T(780),Object.defineProperty(k,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty(k,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}}),c=T(972),Object.defineProperty(k,"DiagConsoleLogger",{enumerable:!0,get:function(){return c.DiagConsoleLogger}}),p=T(957),Object.defineProperty(k,"DiagLogLevel",{enumerable:!0,get:function(){return p.DiagLogLevel}}),u=T(102),Object.defineProperty(k,"createNoopMeter",{enumerable:!0,get:function(){return u.createNoopMeter}}),d=T(901),Object.defineProperty(k,"ValueType",{enumerable:!0,get:function(){return d.ValueType}}),h=T(194),Object.defineProperty(k,"defaultTextMapGetter",{enumerable:!0,get:function(){return h.defaultTextMapGetter}}),Object.defineProperty(k,"defaultTextMapSetter",{enumerable:!0,get:function(){return h.defaultTextMapSetter}}),f=T(125),Object.defineProperty(k,"ProxyTracer",{enumerable:!0,get:function(){return f.ProxyTracer}}),m=T(846),Object.defineProperty(k,"ProxyTracerProvider",{enumerable:!0,get:function(){return m.ProxyTracerProvider}}),g=T(996),Object.defineProperty(k,"SamplingDecision",{enumerable:!0,get:function(){return g.SamplingDecision}}),v=T(357),Object.defineProperty(k,"SpanKind",{enumerable:!0,get:function(){return v.SpanKind}}),y=T(847),Object.defineProperty(k,"SpanStatusCode",{enumerable:!0,get:function(){return y.SpanStatusCode}}),b=T(475),Object.defineProperty(k,"TraceFlags",{enumerable:!0,get:function(){return b.TraceFlags}}),x=T(98),Object.defineProperty(k,"createTraceState",{enumerable:!0,get:function(){return x.createTraceState}}),_=T(139),Object.defineProperty(k,"isSpanContextValid",{enumerable:!0,get:function(){return _.isSpanContextValid}}),Object.defineProperty(k,"isValidTraceId",{enumerable:!0,get:function(){return _.isValidTraceId}}),Object.defineProperty(k,"isValidSpanId",{enumerable:!0,get:function(){return _.isValidSpanId}}),w=T(476),Object.defineProperty(k,"INVALID_SPANID",{enumerable:!0,get:function(){return w.INVALID_SPANID}}),Object.defineProperty(k,"INVALID_TRACEID",{enumerable:!0,get:function(){return w.INVALID_TRACEID}}),Object.defineProperty(k,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return w.INVALID_SPAN_CONTEXT}}),i=T(67),Object.defineProperty(k,"context",{enumerable:!0,get:function(){return i.context}}),r=T(506),Object.defineProperty(k,"diag",{enumerable:!0,get:function(){return r.diag}}),n=T(886),Object.defineProperty(k,"metrics",{enumerable:!0,get:function(){return n.metrics}}),s=T(939),Object.defineProperty(k,"propagation",{enumerable:!0,get:function(){return s.propagation}}),a=T(845),Object.defineProperty(k,"trace",{enumerable:!0,get:function(){return a.trace}}),k.default={context:i.context,diag:r.diag,metrics:n.metrics,propagation:s.propagation,trace:a.trace},t.exports=k})()},42315,(e,t,i)=>{"use strict";t.exports=e.r(18622)},47540,(e,t,i)=>{"use strict";t.exports=e.r(42315).vendored["react-rsc"].React},19481,(e,t,i)=>{"use strict";var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o={},l={RequestCookies:()=>m,ResponseCookies:()=>g,parseCookie:()=>u,parseSetCookie:()=>d,stringifyCookie:()=>p};for(var c in l)r(o,c,{get:l[c],enumerable:!0});function p(e){var t;let i=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),r=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===i.length?r:`${r}; ${i.join("; ")}`}function u(e){let t=new Map;for(let i of e.split(/; */)){if(!i)continue;let e=i.indexOf("=");if(-1===e){t.set(i,"true");continue}let[r,n]=[i.slice(0,e),i.slice(e+1)];try{t.set(r,decodeURIComponent(null!=n?n:"true"))}catch{}}return t}function d(e){if(!e)return;let[[t,i],...r]=u(e),{domain:n,expires:s,httponly:a,maxage:o,path:l,samesite:c,secure:p,partitioned:d,priority:m}=Object.fromEntries(r.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var g,v,y={name:t,value:decodeURIComponent(i),domain:n,...s&&{expires:new Date(s)},...a&&{httpOnly:!0},..."string"==typeof o&&{maxAge:Number(o)},path:l,...c&&{sameSite:h.includes(g=(g=c).toLowerCase())?g:void 0},...p&&{secure:!0},...m&&{priority:f.includes(v=(v=m).toLowerCase())?v:void 0},...d&&{partitioned:!0}};let e={};for(let t in y)y[t]&&(e[t]=y[t]);return e}}t.exports=((e,t,i,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))a.call(e,l)||l===i||r(e,l,{get:()=>t[l],enumerable:!(o=n(t,l))||o.enumerable});return e})(r({},"__esModule",{value:!0}),o);var h=["strict","lax","none"],f=["low","medium","high"],m=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,i]of u(t))this._parsed.set(e,{name:e,value:i})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let i=Array.from(this._parsed);if(!e.length)return i.map(([e,t])=>t);let r="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return i.filter(([e])=>e===r).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,i]=1===e.length?[e[0].name,e[0].value]:e,r=this._parsed;return r.set(t,{name:t,value:i}),this._headers.set("cookie",Array.from(r).map(([e,t])=>p(t)).join("; ")),this}delete(e){let t=this._parsed,i=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>p(t)).join("; ")),i}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},g=class{constructor(e){var t,i,r;this._parsed=new Map,this._headers=e;const n=null!=(r=null!=(i=null==(t=e.getSetCookie)?void 0:t.call(e))?i:e.get("set-cookie"))?r:[];for(const e of Array.isArray(n)?n:function(e){if(!e)return[];var t,i,r,n,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(i=e.charAt(o))){for(r=o,o+=1,l(),n=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=n,a.push(e.substring(t,r)),t=o):o=r+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}(n)){const t=d(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let i=Array.from(this._parsed.values());if(!e.length)return i;let r="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return i.filter(e=>e.name===r)}has(e){return this._parsed.has(e)}set(...e){let[t,i,r]=1===e.length?[e[0].name,e[0].value,e[0]]:e,n=this._parsed;return n.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:i,...r})),function(e,t){for(let[,i]of(t.delete("set-cookie"),e)){let e=p(i);t.append("set-cookie",e)}}(n,this._headers),this}delete(...e){let[t,i]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...i,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(p).join("; ")}}},93118,(e,t,i)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,i,r,n,s={};s.parse=function(t,i){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var n={},s=t.split(r),a=(i||{}).decode||e,o=0;o<s.length;o++){var l=s[o],c=l.indexOf("=");if(!(c<0)){var p=l.substr(0,c).trim(),u=l.substr(++c,l.length).trim();'"'==u[0]&&(u=u.slice(1,-1)),void 0==n[p]&&(n[p]=function(e,t){try{return t(e)}catch(t){return e}}(u,a))}}return n},s.serialize=function(e,t,r){var s=r||{},a=s.encode||i;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var o=a(t);if(o&&!n.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=s.maxAge){var c=s.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(s.domain){if(!n.test(s.domain))throw TypeError("option domain is invalid");l+="; Domain="+s.domain}if(s.path){if(!n.test(s.path))throw TypeError("option path is invalid");l+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l},e=decodeURIComponent,i=encodeURIComponent,r=/; */,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=s})()},47114,(e,t,i)=>{"use strict";function r(e,t,i){if(e){for(let r of(i&&(i=i.toLowerCase()),e))if(t===r.domain?.split(":",1)[0].toLowerCase()||i===r.defaultLocale.toLowerCase()||r.locales?.some(e=>e.toLowerCase()===i))return r}}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},49084,(e,t,i)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},97741,(e,t,i)=>{"use strict";function r(e){let t=e.indexOf("#"),i=e.indexOf("?"),r=i>-1&&(t<0||i<t);return r||t>-1?{pathname:e.substring(0,r?i:t),query:r?e.substring(i,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"parsePath",{enumerable:!0,get:function(){return r}})},34292,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"addPathPrefix",{enumerable:!0,get:function(){return n}});let r=e.r(97741);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:n,hash:s}=(0,r.parsePath)(e);return`${t}${i}${n}${s}`}},87622,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"addPathSuffix",{enumerable:!0,get:function(){return n}});let r=e.r(97741);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:n,hash:s}=(0,r.parsePath)(e);return`${i}${t}${n}${s}`}},98389,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"pathHasPrefix",{enumerable:!0,get:function(){return n}});let r=e.r(97741);function n(e,t){if("string"!=typeof e)return!1;let{pathname:i}=(0,r.parsePath)(e);return i===t||i.startsWith(t+"/")}},95414,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"addLocale",{enumerable:!0,get:function(){return s}});let r=e.r(34292),n=e.r(98389);function s(e,t,i,s){if(!t||t===i)return e;let a=e.toLowerCase();return!s&&((0,n.pathHasPrefix)(a,"/api")||(0,n.pathHasPrefix)(a,`/${t.toLowerCase()}`))?e:(0,r.addPathPrefix)(e,`/${t}`)}},25627,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let r=e.r(49084),n=e.r(34292),s=e.r(87622),a=e.r(95414);function o(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,r.removeTrailingSlash)(t)),e.buildId&&(t=(0,s.addPathSuffix)((0,n.addPathPrefix)(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=(0,n.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,s.addPathSuffix)(t,"/"):(0,r.removeTrailingSlash)(t)}},64512,(e,t,i)=>{"use strict";function r(e,t){let i;if(t?.host&&!Array.isArray(t.host))i=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;i=e.hostname}return i.toLowerCase()}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"getHostname",{enumerable:!0,get:function(){return r}})},13545,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"normalizeLocalePath",{enumerable:!0,get:function(){return n}});let r=new WeakMap;function n(e,t){let i;if(!t)return{pathname:e};let n=r.get(t);n||(n=t.map(e=>e.toLowerCase()),r.set(t,n));let s=e.split("/",2);if(!s[1])return{pathname:e};let a=s[1].toLowerCase(),o=n.indexOf(a);return o<0?{pathname:e}:(i=t[o],{pathname:e=e.slice(i.length+1)||"/",detectedLocale:i})}},50955,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"removePathPrefix",{enumerable:!0,get:function(){return n}});let r=e.r(98389);function n(e,t){if(!(0,r.pathHasPrefix)(e,t))return e;let i=e.slice(t.length);return i.startsWith("/")?i:`/${i}`}},60622,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let r=e.r(13545),n=e.r(50955),s=e.r(98389);function a(e,t){let{basePath:i,i18n:a,trailingSlash:o}=t.nextConfig??{},l={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):o};i&&(0,s.pathHasPrefix)(l.pathname,i)&&(l.pathname=(0,n.removePathPrefix)(l.pathname,i),l.basePath=i);let c=l.pathname;if(l.pathname.startsWith("/_next/data/")&&l.pathname.endsWith(".json")){let e=l.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");l.buildId=e[0],c="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(l.pathname=c)}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(l.pathname):(0,r.normalizeLocalePath)(l.pathname,a.locales);l.locale=e.detectedLocale,l.pathname=e.pathname??l.pathname,!e.detectedLocale&&l.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(c):(0,r.normalizeLocalePath)(c,a.locales)).detectedLocale&&(l.locale=e.detectedLocale)}return l}},99536,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"NextURL",{enumerable:!0,get:function(){return p}});let r=e.r(47114),n=e.r(25627),s=e.r(64512),a=e.r(60622),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class p{constructor(e,t,i){let r,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(r=t,n=i||{}):n=i||t||{},this[c]={url:l(e,r??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,i,n,o;let l=(0,a.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),p=(0,s.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(p):(0,r.detectDomainLocale)(null==(t=this[c].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,p);let u=(null==(i=this[c].domainLocale)?void 0:i.defaultLocale)||(null==(o=this[c].options.nextConfig)||null==(n=o.i18n)?void 0:n.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=u,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??u,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,n.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,i;if(!this[c].locale||!(null==(i=this[c].options.nextConfig)||null==(t=i.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new p(String(this),this[c].options)}}},91401,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={ACTION_SUFFIX:function(){return v},APP_DIR_ALIAS:function(){return U},CACHE_ONE_YEAR:function(){return C},DOT_NEXT_ALIAS:function(){return D},ESLINT_DEFAULT_DIRS:function(){return es},GSP_NO_RETURNED_VALUE:function(){return Y},GSSP_COMPONENT_MEMBER_ERROR:function(){return ei},GSSP_NO_RETURNED_VALUE:function(){return ee},HTML_CONTENT_TYPE_HEADER:function(){return a},INFINITE_CACHE:function(){return O},INSTRUMENTATION_HOOK_FILENAME:function(){return j},JSON_CONTENT_TYPE_HEADER:function(){return o},MATCHED_PATH_HEADER:function(){return p},MIDDLEWARE_FILENAME:function(){return R},MIDDLEWARE_LOCATION_REGEXP:function(){return N},NEXT_BODY_SUFFIX:function(){return x},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return P},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return w},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return S},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return A},NEXT_CACHE_TAGS_HEADER:function(){return _},NEXT_CACHE_TAG_MAX_ITEMS:function(){return T},NEXT_CACHE_TAG_MAX_LENGTH:function(){return k},NEXT_DATA_SUFFIX:function(){return y},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return c},NEXT_META_SUFFIX:function(){return b},NEXT_QUERY_PARAM_PREFIX:function(){return l},NEXT_RESUME_HEADER:function(){return E},NON_STANDARD_NODE_ENV:function(){return er},PAGES_DIR_ALIAS:function(){return M},PRERENDER_REVALIDATE_HEADER:function(){return u},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return d},PROXY_FILENAME:function(){return I},PROXY_LOCATION_REGEXP:function(){return L},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return G},ROOT_DIR_ALIAS:function(){return B},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return V},RSC_ACTION_ENCRYPTION_ALIAS:function(){return Q},RSC_ACTION_PROXY_ALIAS:function(){return F},RSC_ACTION_VALIDATE_ALIAS:function(){return $},RSC_CACHE_WRAPPER_ALIAS:function(){return z},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return H},RSC_MOD_REF_PROXY_ALIAS:function(){return q},RSC_PREFETCH_SUFFIX:function(){return h},RSC_SEGMENTS_DIR_SUFFIX:function(){return f},RSC_SEGMENT_SUFFIX:function(){return m},RSC_SUFFIX:function(){return g},SERVER_PROPS_EXPORT_ERROR:function(){return J},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return W},SERVER_PROPS_SSG_CONFLICT:function(){return K},SERVER_RUNTIME:function(){return ea},SSG_FALLBACK_EXPORT_ERROR:function(){return en},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return Z},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return X},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return s},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return et},WEBPACK_LAYERS:function(){return ec},WEBPACK_RESOURCE_QUERIES:function(){return ep},WEB_SOCKET_MAX_RECONNECTIONS:function(){return eo}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s="text/plain",a="text/html; charset=utf-8",o="application/json; charset=utf-8",l="nxtP",c="nxtI",p="x-matched-path",u="x-prerender-revalidate",d="x-prerender-revalidate-if-generated",h=".prefetch.rsc",f=".segments",m=".segment.rsc",g=".rsc",v=".action",y=".json",b=".meta",x=".body",_="x-next-cache-tags",w="x-next-revalidated-tags",S="x-next-revalidate-tag-token",E="next-resume",T=128,k=256,A=1024,P="_N_T_",C=31536e3,O=0xfffffffe,R="middleware",N=`(?:src/)?${R}`,I="proxy",L=`(?:src/)?${I}`,j="instrumentation",M="private-next-pages",D="private-dot-next",B="private-next-root-dir",U="private-next-app-dir",q="private-next-rsc-mod-ref-proxy",$="private-next-rsc-action-validate",F="private-next-rsc-server-reference",z="private-next-rsc-cache-wrapper",H="private-next-rsc-track-dynamic-import",Q="private-next-rsc-action-encryption",V="private-next-rsc-action-client-wrapper",G="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",Z="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",W="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",K="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",X="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",J="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Y="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",ee="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",et="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",ei="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",er='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',en="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",es=["app","pages","components","lib","src"],ea={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},eo=12,el={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},ec={...el,GROUP:{builtinReact:[el.reactServerComponents,el.actionBrowser],serverOnly:[el.reactServerComponents,el.actionBrowser,el.instrument,el.middleware],neutralTarget:[el.apiNode,el.apiEdge],clientOnly:[el.serverSideRendering,el.appPagesBrowser],bundled:[el.reactServerComponents,el.actionBrowser,el.serverSideRendering,el.appPagesBrowser,el.shared,el.instrument,el.middleware],appPages:[el.reactServerComponents,el.serverSideRendering,el.appPagesBrowser,el.actionBrowser]}},ep={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},80333,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={fromNodeOutgoingHttpHeaders:function(){return a},normalizeNextQueryParam:function(){return p},splitCookiesString:function(){return o},toNodeOutgoingHttpHeaders:function(){return l},validateURL:function(){return c}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s=e.r(91401);function a(e){let t=new Headers;for(let[i,r]of Object.entries(e))for(let e of Array.isArray(r)?r:[r])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(i,e));return t}function o(e){var t,i,r,n,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(i=e.charAt(o))){for(r=o,o+=1,l(),n=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=n,a.push(e.substring(t,r)),t=o):o=r+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function l(e){let t={},i=[];if(e)for(let[r,n]of e.entries())"set-cookie"===r.toLowerCase()?(i.push(...o(n)),t[r]=1===i.length?i[0]:i):t[r]=n;return t}function c(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function p(e){for(let t of[s.NEXT_QUERY_PARAM_PREFIX,s.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},47389,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={PageSignatureError:function(){return s},RemovedPageError:function(){return a},RemovedUAError:function(){return o}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});class s extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class o extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},472,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={RequestCookies:function(){return s.RequestCookies},ResponseCookies:function(){return s.ResponseCookies},stringifyCookie:function(){return s.stringifyCookie}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s=e.r(19481)},29666,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={INTERNALS:function(){return c},NextRequest:function(){return p}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s=e.r(99536),a=e.r(80333),o=e.r(47389),l=e.r(472),c=Symbol("internal request");class p extends Request{constructor(e,t={}){const i="string"!=typeof e&&"url"in e?e.url:String(e);(0,a.validateURL)(i),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(i,t);const r=new s.NextURL(i,{headers:(0,a.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[c]={cookies:new l.RequestCookies(this.headers),nextUrl:r,url:r.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[c].cookies}get nextUrl(){return this[c].nextUrl}get page(){throw new o.RemovedPageError}get ua(){throw new o.RemovedUAError}get url(){return this[c].url}}},30759,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,i){let r=Reflect.get(e,t,i);return"function"==typeof r?r.bind(e):r}static set(e,t,i,r){return Reflect.set(e,t,i,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},46633,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"NextResponse",{enumerable:!0,get:function(){return u}});let r=e.r(472),n=e.r(99536),s=e.r(80333),a=e.r(30759),o=e.r(472),l=Symbol("internal response"),c=new Set([301,302,303,307,308]);function p(e,t){var i;if(null==e||null==(i=e.request)?void 0:i.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let i=[];for(let[r,n]of e.request.headers)t.set("x-middleware-request-"+r,n),i.push(r);t.set("x-middleware-override-headers",i.join(","))}}class u extends Response{constructor(e,t={}){super(e,t);const i=this.headers,c=new Proxy(new o.ResponseCookies(i),{get(e,n,s){switch(n){case"delete":case"set":return(...s)=>{let a=Reflect.apply(e[n],e,s),l=new Headers(i);return a instanceof o.ResponseCookies&&i.set("x-middleware-set-cookie",a.getAll().map(e=>(0,r.stringifyCookie)(e)).join(",")),p(t,l),a};default:return a.ReflectAdapter.get(e,n,s)}}});this[l]={cookies:c,url:t.url?new n.NextURL(t.url,{headers:(0,s.toNodeOutgoingHttpHeaders)(i),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let i=Response.json(e,t);return new u(i.body,i)}static redirect(e,t){let i="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!c.has(i))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let r="object"==typeof t?t:{},n=new Headers(null==r?void 0:r.headers);return n.set("Location",(0,s.validateURL)(e)),new u(null,{...r,headers:n,status:i})}static rewrite(e,t){let i=new Headers(null==t?void 0:t.headers);return i.set("x-middleware-rewrite",(0,s.validateURL)(e)),p(t,i),new u(null,{...t,headers:i})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),p(e,t),new u(null,{...e,headers:t})}}},87963,(e,t,i)=>{"use strict";function r(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"ImageResponse",{enumerable:!0,get:function(){return r}})},99299,(e,t,i)=>{var r={226:function(t,i){!function(r,n){"use strict";var s="function",a="undefined",o="object",l="string",c="major",p="model",u="name",d="type",h="vendor",f="version",m="architecture",g="console",v="mobile",y="tablet",b="smarttv",x="wearable",_="embedded",w="Amazon",S="Apple",E="ASUS",T="BlackBerry",k="Browser",A="Chrome",P="Firefox",C="Google",O="Huawei",R="Microsoft",N="Motorola",I="Opera",L="Samsung",j="Sharp",M="Sony",D="Xiaomi",B="Zebra",U="Facebook",q="Chromium OS",$="Mac OS",F=function(e,t){var i={};for(var r in e)t[r]&&t[r].length%2==0?i[r]=t[r].concat(e[r]):i[r]=e[r];return i},z=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},H=function(e,t){return typeof e===l&&-1!==Q(t).indexOf(Q(e))},Q=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},G=function(e,t){for(var i,r,n,a,l,c,p=0;p<t.length&&!l;){var u=t[p],d=t[p+1];for(i=r=0;i<u.length&&!l&&u[i];)if(l=u[i++].exec(e))for(n=0;n<d.length;n++)c=l[++r],typeof(a=d[n])===o&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):void 0:this[a[0]]=c?a[1].call(this,c,a[2]):void 0:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):void 0):this[a]=c||void 0;p+=2}},Z=function(e,t){for(var i in t)if(typeof t[i]===o&&t[i].length>0){for(var r=0;r<t[i].length;r++)if(H(t[i][r],e))return"?"===i?void 0:i}else if(H(t[i],e))return"?"===i?void 0:i;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,I+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,I]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UC"+k]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+k],f],[/\bfocus\/([\w\.]+)/i],[f,[u,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,I+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,I+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI "+k]],[/fxios\/([-\w\.]+)/i],[f,[u,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+k]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+k],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,U],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,A+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,f],[/(cobalt)\/([\w\.]+)/i],[u,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,Q]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",Q]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[h,L],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[h,L],[d,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[h,S],[d,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[h,S],[d,y]],[/(macintosh);/i],[p,[h,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[h,j],[d,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[h,O],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[h,O],[d,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[h,D],[d,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[h,D],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[h,"OPPO"],[d,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[h,"Vivo"],[d,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[h,"Realme"],[d,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[h,N],[d,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[h,N],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[h,"LG"],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[h,"LG"],[d,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[h,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[h,"Nokia"],[d,v]],[/(pixel c)\b/i],[p,[h,C],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[h,C],[d,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[h,M],[d,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[h,M],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[h,"OnePlus"],[d,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[h,w],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[h,w],[d,v]],[/(playbook);[-\w\),; ]+(rim)/i],[p,h,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[h,T],[d,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[h,E],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[h,E],[d,v]],[/(nexus 9)/i],[p,[h,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[p,/_/g," "],[d,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[h,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[h,"Meizu"],[d,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,p,[d,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,p,[d,y]],[/(surface duo)/i],[p,[h,R],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[h,"Fairphone"],[d,v]],[/(u304aa)/i],[p,[h,"AT&T"],[d,v]],[/\bsie-(\w*)/i],[p,[h,"Siemens"],[d,v]],[/\b(rct\w+) b/i],[p,[h,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[p,[h,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[p,[h,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[h,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[p,[h,"NuVision"],[d,y]],[/\b(k88) b/i],[p,[h,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[p,[h,"ZTE"],[d,v]],[/\b(gen\d{3}) b.+49h/i],[p,[h,"Swiss"],[d,v]],[/\b(zur\d{3}) b/i],[p,[h,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[p,[h,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],p,[d,y]],[/\b(ns-?\w{0,9}) b/i],[p,[h,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[h,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],p,[d,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],p,[d,v]],[/\b(ph-1) /i],[p,[h,"Essential"],[d,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[h,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[p,[h,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[p,[h,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[p,[h,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[h,p,[d,v]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[h,R],[d,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[h,B],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[h,B],[d,v]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[h,L],[d,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,"LG"],[d,b]],[/(apple) ?tv/i],[h,[p,S+" TV"],[d,b]],[/crkey/i],[[p,A+"cast"],[h,C],[d,b]],[/droid.+aft(\w)( bui|\))/i],[p,[h,w],[d,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[h,j],[d,b]],[/(bravia[\w ]+)( bui|\))/i],[p,[h,M],[d,b]],[/(mitv-\w{5}) bui/i],[p,[h,D],[d,b]],[/Hbbtv.*(technisat) (.*);/i],[h,p,[d,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,V],[p,V],[d,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,p,[d,g]],[/droid.+; (shield) bui/i],[p,[h,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[p,[h,M],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[h,R],[d,g]],[/((pebble))app/i],[h,p,[d,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[h,S],[d,x]],[/droid.+; (glass) \d/i],[p,[h,C],[d,x]],[/droid.+; (wt63?0{2,3})\)/i],[p,[h,B],[d,x]],[/(quest( 2| pro)?)/i],[p,[h,U],[d,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,_]],[/(aeobc)\b/i],[p,[h,w],[d,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[d,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,v]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[f,Z,W]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[f,Z,W]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,$],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[u,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,q],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,f]]},X=function(e,t){if(typeof e===o&&(t=e,e=void 0),!(this instanceof X))return new X(e,t).getResult();var i=typeof r!==a&&r.navigator?r.navigator:void 0,n=e||(i&&i.userAgent?i.userAgent:""),g=i&&i.userAgentData?i.userAgentData:void 0,b=t?F(K,t):K,x=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[u]=void 0,t[f]=void 0,G.call(t,n,b.browser),t[c]=typeof(e=t[f])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,x&&i&&i.brave&&typeof i.brave.isBrave==s&&(t[u]="Brave"),t},this.getCPU=function(){var e={};return e[m]=void 0,G.call(e,n,b.cpu),e},this.getDevice=function(){var e={};return e[h]=void 0,e[p]=void 0,e[d]=void 0,G.call(e,n,b.device),x&&!e[d]&&g&&g.mobile&&(e[d]=v),x&&"Macintosh"==e[p]&&i&&typeof i.standalone!==a&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[p]="iPad",e[d]=y),e},this.getEngine=function(){var e={};return e[u]=void 0,e[f]=void 0,G.call(e,n,b.engine),e},this.getOS=function(){var e={};return e[u]=void 0,e[f]=void 0,G.call(e,n,b.os),x&&!e[u]&&g&&"Unknown"!=g.platform&&(e[u]=g.platform.replace(/chrome os/i,q).replace(/macos/i,$)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>350?V(e,350):e,this},this.setUA(n),this};if(X.VERSION="1.0.35",X.BROWSER=z([u,f,c]),X.CPU=z([m]),X.DEVICE=z([p,h,d,g,v,b,y,x,_]),X.ENGINE=X.OS=z([u,f]),typeof i!==a)t.exports&&(i=t.exports=X),i.UAParser=X;else if(typeof define===s&&define.amd)e.r,void 0!==X&&e.v(X);else typeof r!==a&&(r.UAParser=X);var J=typeof r!==a&&(r.jQuery||r.Zepto);if(J&&!J.ua){var Y=new X;J.ua=Y.getResult(),J.ua.get=function(){return Y.getUA()},J.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var i in t)J.ua[i]=t[i]}}}(this)}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}},a=!0;try{r[e].call(i.exports,i,i.exports,s),a=!1}finally{a&&delete n[e]}return i.exports}s.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",t.exports=s(226)},4386,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,n={isBot:function(){return o},userAgent:function(){return c},userAgentFromString:function(){return l}};for(var s in n)Object.defineProperty(i,s,{enumerable:!0,get:n[s]});let a=(r=e.r(99299))&&r.__esModule?r:{default:r};function o(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function l(e){return{...(0,a.default)(e),isBot:void 0!==e&&o(e)}}function c({headers:e}){return l(e.get("user-agent")||void 0)}},79187,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},53309,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"after",{enumerable:!0,get:function(){return n}});let r=e.r(56704);function n(e){let t=r.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:i}=t;return i.after(e)}},81053,(e,t,i)=>{"use strict";var r,n;Object.defineProperty(i,"__esModule",{value:!0}),r=e.r(53309),n=i,Object.keys(r).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})})},65252,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={DynamicServerError:function(){return a},isDynamicServerError:function(){return o}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=s}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===s}("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},97573,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={StaticGenBailoutError:function(){return a},isStaticGenBailoutError:function(){return o}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s="NEXT_STATIC_GEN_BAILOUT";class a extends Error{constructor(...e){super(...e),this.code=s}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===s}("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},4642,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={isHangingPromiseRejectionError:function(){return s},makeDevtoolsIOAwarePromise:function(){return u},makeHangingPromise:function(){return c}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===a}let a="HANGING_PROMISE_REJECTION";class o extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=a}}let l=new WeakMap;function c(e,t,i){if(e.aborted)return Promise.reject(new o(t,i));{let r=new Promise((r,n)=>{let s=n.bind(null,new o(t,i)),a=l.get(e);if(a)a.push(s);else{let t=[s];l.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return r.catch(p),r}}function p(){}function u(e,t,i){return t.stagedRendering?t.stagedRendering.delayUntilStage(i,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},96306,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={METADATA_BOUNDARY_NAME:function(){return s},OUTLET_BOUNDARY_NAME:function(){return o},ROOT_LAYOUT_BOUNDARY_NAME:function(){return l},VIEWPORT_BOUNDARY_NAME:function(){return a}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s="__next_metadata_boundary__",a="__next_viewport_boundary__",o="__next_outlet_boundary__",l="__next_root_layout_boundary__"},38244,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={atLeastOneTask:function(){return o},scheduleImmediate:function(){return a},scheduleOnNextTick:function(){return s},waitAtLeastOneReactRenderTask:function(){return l}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},a=e=>{setImmediate(e)};function o(){return new Promise(e=>a(e))}function l(){return new Promise(e=>setImmediate(e))}},31584,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={BailoutToCSRError:function(){return a},isBailoutToCSRError:function(){return o}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s="BAILOUT_TO_CLIENT_SIDE_RENDERING";class a extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=s}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}},76414,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"InvariantError",{enumerable:!0,get:function(){return r}});class r extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}},8211,(e,t,i)=>{"use strict";function r(){let e,t,i=new Promise((i,r)=>{e=i,t=r});return{resolve:e,reject:t,promise:i}}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"createPromiseWithResolvers",{enumerable:!0,get:function(){return r}})},18185,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,n={RenderStage:function(){return l},StagedRenderingController:function(){return c}};for(var s in n)Object.defineProperty(i,s,{enumerable:!0,get:n[s]});let a=e.r(76414),o=e.r(8211);var l=((r={})[r.Static=1]="Static",r[r.Runtime=2]="Runtime",r[r.Dynamic=3]="Dynamic",r);class c{constructor(e=null){this.abortSignal=e,this.currentStage=1,this.runtimeStagePromise=(0,o.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,o.createPromiseWithResolvers)(),e&&e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<2&&(this.runtimeStagePromise.promise.catch(p),this.runtimeStagePromise.reject(t)),this.currentStage<3&&(this.dynamicStagePromise.promise.catch(p),this.dynamicStagePromise.reject(t))},{once:!0})}advanceStage(e){!(this.currentStage>=e)&&(this.currentStage=e,e>=2&&this.runtimeStagePromise.resolve(),e>=3&&this.dynamicStagePromise.resolve())}getStagePromise(e){switch(e){case 2:return this.runtimeStagePromise.promise;case 3:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,i){var r,n,s;let a,o=(r=this.getStagePromise(e),n=t,s=i,a=new Promise((e,t)=>{r.then(e.bind(null,s),t)}),void 0!==n&&(a.displayName=n),a);return this.abortSignal&&o.catch(p),o}}function p(){}},68665,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,n,s={Postpone:function(){return C},PreludeState:function(){return X},abortAndThrowOnSynchronousRequestDataAccess:function(){return P},abortOnSynchronousPlatformIOAccess:function(){return k},accessedDynamicData:function(){return D},annotateDynamicAccess:function(){return F},consumeDynamicAccess:function(){return B},createDynamicTrackingState:function(){return b},createDynamicValidationState:function(){return x},createHangingInputAbortSignal:function(){return $},createRenderInBrowserAbortSignal:function(){return q},delayUntilRuntimeStage:function(){return ee},formatDynamicAPIAccesses:function(){return U},getFirstDynamicReason:function(){return _},isDynamicPostpone:function(){return N},isPrerenderInterruptedError:function(){return M},logDisallowedDynamicError:function(){return J},markCurrentScopeAsDynamic:function(){return w},postponeWithTracking:function(){return O},throwIfDisallowedDynamic:function(){return Y},throwToInterruptStaticGeneration:function(){return S},trackAllowedDynamicAccess:function(){return K},trackDynamicDataInDynamicRender:function(){return E},trackSynchronousPlatformIOAccessInDev:function(){return A},useDynamicRouteParams:function(){return z},useDynamicSearchParams:function(){return H}};for(var a in s)Object.defineProperty(i,a,{enumerable:!0,get:s[a]});let o=(r=e.r(47540))&&r.__esModule?r:{default:r},l=e.r(65252),c=e.r(97573),p=e.r(32319),u=e.r(56704),d=e.r(4642),h=e.r(96306),f=e.r(38244),m=e.r(31584),g=e.r(76414),v=e.r(18185),y="function"==typeof o.default.unstable_postpone;function b(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function x(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function _(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function w(e,t,i){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${i}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return O(e.route,i,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let r=Object.defineProperty(new l.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${i}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=i,e.dynamicUsageStack=r.stack,r}}}function S(e,t,i){let r=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw i.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=r.stack,r}function E(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function T(e,t,i){let r=j(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);i.controller.abort(r);let n=i.dynamicTracking;n&&n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function k(e,t,i,r){let n=r.dynamicTracking;T(e,t,r),n&&null===n.syncDynamicErrorWithStack&&(n.syncDynamicErrorWithStack=i)}function A(e){e.stagedRendering&&e.stagedRendering.advanceStage(v.RenderStage.Dynamic)}function P(e,t,i,r){if(!1===r.controller.signal.aborted){T(e,t,r);let n=r.dynamicTracking;n&&null===n.syncDynamicErrorWithStack&&(n.syncDynamicErrorWithStack=i)}throw j(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function C({reason:e,route:t}){let i=p.workUnitAsyncStorage.getStore();O(t,e,i&&"prerender-ppr"===i.type?i.dynamicTracking:null)}function O(e,t,i){(function(){if(!y)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),o.default.unstable_postpone(R(e,t))}function R(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function N(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&I(e.message)}function I(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===I(R("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let L="NEXT_PRERENDER_INTERRUPTED";function j(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=L,t}function M(e){return"object"==typeof e&&null!==e&&e.digest===L&&"name"in e&&"message"in e&&e instanceof Error}function D(e){return e.length>0}function B(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function U(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function q(){let e=new AbortController;return e.abort(Object.defineProperty(new m.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function $(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let i=(0,p.getRuntimeStagePromise)(e);i?i.then(()=>(0,f.scheduleOnNextTick)(()=>t.abort())):(0,f.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function F(e,t){let i=t.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function z(e){let t=u.workAsyncStorage.getStore(),i=p.workUnitAsyncStorage.getStore();if(t&&i)switch(i.type){case"prerender-client":case"prerender":{let r=i.fallbackRouteParams;r&&r.size>0&&o.default.use((0,d.makeHangingPromise)(i.renderSignal,t.route,e));break}case"prerender-ppr":{let r=i.fallbackRouteParams;if(r&&r.size>0)return O(t.route,e,i.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function H(e){let t=u.workAsyncStorage.getStore(),i=p.workUnitAsyncStorage.getStore();if(t)switch(!i&&(0,p.throwForMissingRequestStore)(e),i.type){case"prerender-client":o.default.use((0,d.makeHangingPromise)(i.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new m.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let Q=/\n\s+at Suspense \(<anonymous>\)/,V=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${h.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),G=RegExp(`\\n\\s+at ${h.METADATA_BOUNDARY_NAME}[\\n\\s]`),Z=RegExp(`\\n\\s+at ${h.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),W=RegExp(`\\n\\s+at ${h.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function K(e,t,i,r){if(!W.test(t)){if(G.test(t)){i.hasDynamicMetadata=!0;return}if(Z.test(t)){i.hasDynamicViewport=!0;return}if(V.test(t)){i.hasAllowedDynamic=!0,i.hasSuspenseAboveBody=!0;return}else if(Q.test(t)){i.hasAllowedDynamic=!0;return}else{var n,s;let a;if(r.syncDynamicErrorWithStack)return void i.dynamicErrors.push(r.syncDynamicErrorWithStack);let o=(n=`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,s=t,(a=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})).stack=a.name+": "+n+s,a);return void i.dynamicErrors.push(o)}}}var X=((n={})[n.Full=0]="Full",n[n.Empty=1]="Empty",n[n.Errored=2]="Errored",n);function J(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function Y(e,t,i,r){if(r.syncDynamicErrorWithStack)throw J(e,r.syncDynamicErrorWithStack),new c.StaticGenBailoutError;if(0!==t){if(i.hasSuspenseAboveBody)return;let r=i.dynamicErrors;if(r.length>0){for(let t=0;t<r.length;t++)J(e,r[t]);throw new c.StaticGenBailoutError}if(i.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new c.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new c.StaticGenBailoutError}else if(!1===i.hasAllowedDynamic&&i.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new c.StaticGenBailoutError}function ee(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},43824,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={isRequestAPICallableInsideAfter:function(){return c},throwForSearchParamsAccessInUseCache:function(){return l},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return o}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s=e.r(97573),a=e.r(24725);function o(e,t){throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function l(e,t){let i=Object.defineProperty(Error(`Route ${e.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(i,t),e.invalidDynamicUsageError??=i,i}function c(){let e=a.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},75674,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"connection",{enumerable:!0,get:function(){return c}});let r=e.r(56704),n=e.r(32319),s=e.r(68665),a=e.r(97573),o=e.r(4642),l=e.r(43824);function c(){let e=r.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside \`after()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but \`after()\` executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E827",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E847",enumerable:!1,configurable:!0});if(t)switch(t.type){case"cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E841",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,c),e.invalidDynamicUsageError??=t,t}case"private-cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E837",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,c),e.invalidDynamicUsageError??=t,t}case"unstable-cache":throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside a function cached with \`unstable_cache()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E840",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,o.makeHangingPromise)(t.renderSignal,e.route,"`connection()`");case"prerender-ppr":return(0,s.postponeWithTracking)(e.route,"connection",t.dynamicTracking);case"prerender-legacy":return(0,s.throwToInterruptStaticGeneration)("connection",e,t);case"request":return(0,s.trackDynamicDataInDynamicRender)(t),Promise.resolve(void 0)}}(0,n.throwForMissingRequestStore)("connection")}e.r(18185)},89171,(e,t,i)=>{let r={NextRequest:e.r(29666).NextRequest,NextResponse:e.r(46633).NextResponse,ImageResponse:e.r(87963).ImageResponse,userAgentFromString:e.r(4386).userAgentFromString,userAgent:e.r(4386).userAgent,URLPattern:e.r(79187).URLPattern,after:e.r(81053).after,connection:e.r(75674).connection};t.exports=r,i.NextRequest=r.NextRequest,i.NextResponse=r.NextResponse,i.ImageResponse=r.ImageResponse,i.userAgentFromString=r.userAgentFromString,i.userAgent=r.userAgent,i.URLPattern=r.URLPattern,i.after=r.after,i.connection=r.connection},27699,(e,t,i)=>{t.exports=e.x("events",()=>require("events"))},92509,(e,t,i)=>{t.exports=e.x("url",()=>require("url"))},22734,(e,t,i)=>{t.exports=e.x("fs",()=>require("fs"))},21517,(e,t,i)=>{t.exports=e.x("http",()=>require("http"))},24836,(e,t,i)=>{t.exports=e.x("https",()=>require("https"))},6461,(e,t,i)=>{t.exports=e.x("zlib",()=>require("zlib"))},88947,(e,t,i)=>{t.exports=e.x("stream",()=>require("stream"))},74510,(e,t,i)=>{"use strict";let r=e.r(92509);t.exports=class{constructor(e){this.options=e||{},this.cookies=[]}set(e,t){let i,n=r.parse(t||""),s=this.parse(e);return s.domain?(i=s.domain.replace(/^\./,""),(n.hostname.length<i.length||("."+n.hostname).substr(-i.length+1)!=="."+i)&&(s.domain=n.hostname)):s.domain=n.hostname,s.path||(s.path=this.getPath(n.pathname)),s.expires||(s.expires=new Date(Date.now()+1e3*(Number(this.options.sessionTimeout||1800)||1800))),this.add(s)}get(e){return this.list(e).map(e=>e.name+"="+e.value).join("; ")}list(e){let t,i,r=[];for(t=this.cookies.length-1;t>=0;t--){if(i=this.cookies[t],this.isExpired(i)){this.cookies.splice(t,t);continue}this.match(i,e)&&r.unshift(i)}return r}parse(e){let t={};return(e||"").toString().split(";").forEach(e=>{let i,r=e.split("="),n=r.shift().trim().toLowerCase(),s=r.join("=").trim();if(n)switch(n){case"expires":"Invalid Date"!==(s=new Date(s)).toString()&&(t.expires=s);break;case"path":t.path=s;break;case"domain":(i=s.toLowerCase()).length&&"."!==i.charAt(0)&&(i="."+i),t.domain=i;break;case"max-age":t.expires=new Date(Date.now()+1e3*(Number(s)||0));break;case"secure":t.secure=!0;break;case"httponly":t.httponly=!0;break;default:t.name||(t.name=n,t.value=s)}}),t}match(e,t){let i=r.parse(t||"");return(i.hostname===e.domain||"."===e.domain.charAt(0)&&("."+i.hostname).substr(-e.domain.length)===e.domain)&&this.getPath(i.pathname).substr(0,e.path.length)===e.path&&(!e.secure||"https:"===i.protocol)}add(e){let t,i;if(!e||!e.name)return!1;for(t=0,i=this.cookies.length;t<i;t++)if(this.compare(this.cookies[t],e)){if(this.isExpired(e))return this.cookies.splice(t,1),!1;return this.cookies[t]=e,!0}return this.isExpired(e)||this.cookies.push(e),!0}compare(e,t){return e.name===t.name&&e.path===t.path&&e.domain===t.domain&&e.secure===t.secure&&e.httponly==e.httponly}isExpired(e){return e.expires&&e.expires<new Date||!e.value}getPath(e){let t=(e||"/").split("/");return t.pop(),"/"!==(t=t.join("/").trim()).charAt(0)&&(t="/"+t),"/"!==t.substr(-1)&&(t+="/"),t}}},63818,e=>{e.v({name:"nodemailer",version:"7.0.11",description:"Easy as cake e-mail sending from your Node.js applications",main:"lib/nodemailer.js",scripts:{test:"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js",format:'prettier --write "**/*.{js,json,md}"',"format:check":'prettier --check "**/*.{js,json,md}"',lint:"eslint .","lint:fix":"eslint . --fix",update:"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},repository:{type:"git",url:"https://github.com/nodemailer/nodemailer.git"},keywords:["Nodemailer"],author:"Andris Reinman",license:"MIT-0",bugs:{url:"https://github.com/nodemailer/nodemailer/issues"},homepage:"https://nodemailer.com/",devDependencies:{"@aws-sdk/client-sesv2":"3.940.0",bunyan:"1.8.15",c8:"10.1.3",eslint:"9.39.1","eslint-config-prettier":"10.1.8",globals:"16.5.0",libbase64:"1.3.0",libmime:"5.3.7",libqp:"2.1.1","nodemailer-ntlm-auth":"1.0.4",prettier:"3.6.2",proxy:"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.16.1"},engines:{node:">=6.0.0"}})},4446,(e,t,i)=>{t.exports=e.x("net",()=>require("net"))},13970,(e,t,i)=>{"use strict";let r=e.r(21517),n=e.r(24836),s=e.r(92509),a=e.r(6461),o=e.r(88947).PassThrough,l=e.r(74510),c=e.r(63818),p=e.r(4446);t.exports=function(e,t){return function e(t,i){let u,d,h;(i=i||{}).fetchRes=i.fetchRes||new o,i.cookies=i.cookies||new l,i.redirects=i.redirects||0,i.maxRedirects=isNaN(i.maxRedirects)?5:i.maxRedirects,i.cookie&&([].concat(i.cookie||[]).forEach(e=>{i.cookies.set(e,t)}),i.cookie=!1);let f=i.fetchRes,m=s.parse(t),g=(i.method||"").toString().trim().toUpperCase()||"GET",v=!1,y="https:"===m.protocol?n:r,b={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+c.version};if(Object.keys(i.headers||{}).forEach(e=>{b[e.toLowerCase().trim()]=i.headers[e]}),i.userAgent&&(b["user-agent"]=i.userAgent),m.auth&&(b.Authorization="Basic "+Buffer.from(m.auth).toString("base64")),(u=i.cookies.get(t))&&(b.cookie=u),i.body){if(!1!==i.contentType&&(b["Content-Type"]=i.contentType||"application/x-www-form-urlencoded"),"function"==typeof i.body.pipe)b["Transfer-Encoding"]="chunked",(d=i.body).on("error",e=>{v||(v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e))});else{if(i.body instanceof Buffer)d=i.body;else if("object"==typeof i.body)try{d=Buffer.from(Object.keys(i.body).map(e=>{let t=i.body[e].toString().trim();return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"))}catch(e){if(v)return;v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e);return}else d=Buffer.from(i.body.toString().trim());b["Content-Type"]=i.contentType||"application/x-www-form-urlencoded",b["Content-Length"]=d.length}g=(i.method||"").toString().trim().toUpperCase()||"POST"}let x={method:g,host:m.hostname,path:m.path,port:m.port?m.port:"https:"===m.protocol?443:80,headers:b,rejectUnauthorized:!1,agent:!1};i.tls&&Object.keys(i.tls).forEach(e=>{x[e]=i.tls[e]}),"https:"!==m.protocol||!m.hostname||m.hostname===x.host||p.isIP(m.hostname)||x.servername||(x.servername=m.hostname);try{h=y.request(x)}catch(e){return v=!0,setImmediate(()=>{e.type="FETCH",e.sourceUrl=t,f.emit("error",e)}),f}return i.timeout&&h.setTimeout(i.timeout,()=>{if(v)return;v=!0,h.abort();let e=Error("Request Timeout");e.type="FETCH",e.sourceUrl=t,f.emit("error",e)}),h.on("error",e=>{v||(v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e))}),h.on("response",r=>{let n;if(!v){switch(r.headers["content-encoding"]){case"gzip":case"deflate":n=a.createUnzip()}if(r.headers["set-cookie"]&&[].concat(r.headers["set-cookie"]||[]).forEach(e=>{i.cookies.set(e,t)}),[301,302,303,307,308].includes(r.statusCode)&&r.headers.location){if(i.redirects++,i.redirects>i.maxRedirects){v=!0;let e=Error("Maximum redirect count exceeded");e.type="FETCH",e.sourceUrl=t,f.emit("error",e),h.abort();return}return i.method="GET",i.body=!1,e(s.resolve(t,r.headers.location),i)}if(f.statusCode=r.statusCode,f.headers=r.headers,r.statusCode>=300&&!i.allowErrorResponse){v=!0;let e=Error("Invalid status code "+r.statusCode);e.type="FETCH",e.sourceUrl=t,f.emit("error",e),h.abort();return}r.on("error",e=>{v||(v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e),h.abort())}),n?(r.pipe(n).pipe(f),n.on("error",e=>{v||(v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e),h.abort())})):r.pipe(f)}}),setImmediate(()=>{if(d)try{if("function"==typeof d.pipe)return d.pipe(h);h.write(d)}catch(e){v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e);return}h.end()}),f}(e,t)},t.exports.Cookies=l},79594,(e,t,i)=>{t.exports=e.x("dns",()=>require("dns"))},46786,(e,t,i)=>{t.exports=e.x("os",()=>require("os"))},14173,(e,t,i)=>{"use strict";let r,n=e.r(92509),s=e.r(24361),a=e.r(22734),o=e.r(13970),l=e.r(79594),c=e.r(4446),p=e.r(46786),u=0;t.exports._lastCacheCleanup=()=>u,t.exports._resetCacheCleanup=()=>{u=0};try{r=p.networkInterfaces()}catch(e){}t.exports.networkInterfaces=r;let d=(e,i)=>{let r=t.exports.networkInterfaces;return!r||Object.keys(r).map(e=>r[e]).reduce((e,t)=>e.concat(t),[]).filter(e=>!e.internal||i).filter(t=>t.family==="IPv"+e||t.family===e).length>0},h=(e,t,i,r)=>{if(!d(e,(i=i||{}).allowInternalNetworkInterfaces))return r(null,[]);(l.Resolver?new l.Resolver(i):l)["resolve"+e](t,(e,t)=>{if(e){switch(e.code){case l.NODATA:case l.NOTFOUND:case l.NOTIMP:case l.SERVFAIL:case l.CONNREFUSED:case l.REFUSED:case"EAI_AGAIN":return r(null,[])}return r(e)}return r(null,Array.isArray(t)?t:[].concat(t||[]))})},f=t.exports.dnsCache=new Map,m=(e,t)=>e?Object.assign({servername:e.servername,host:e.addresses&&e.addresses.length?1===e.addresses.length?e.addresses[0]:e.addresses[Math.floor(Math.random()*e.addresses.length)]:null},t||{}):Object.assign({},t||{});function g(e,t){let i=!1,r=[],n=0;e.on("error",e=>{i||(i=!0,t(e))}),e.on("readable",()=>{let t;for(;null!==(t=e.read());)r.push(t),n+=t.length}),e.on("end",()=>{let e;if(!i){i=!0;try{e=Buffer.concat(r,n)}catch(e){return t(e)}t(null,e)}})}t.exports.resolveHostname=(e,t)=>{let i;if(!(e=e||{}).host&&e.servername&&(e.host=e.servername),!e.host||c.isIP(e.host))return t(null,m({addresses:[e.host],servername:e.servername||!1},{cached:!1}));if(f.has(e.host)){i=f.get(e.host);let r=Date.now();if(r-u>3e4){for(let[e,t]of(u=r,f.entries()))t.expires&&t.expires<r&&f.delete(e);if(f.size>1e3){let e=Math.floor(100);Array.from(f.keys()).slice(0,e).forEach(e=>f.delete(e))}}if(!i.expires||i.expires>=r)return t(null,m(i.value,{cached:!0}))}h(4,e.host,e,(r,n)=>{if(r)return i?(f.set(e.host,{value:i.value,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,m(i.value,{cached:!0,error:r}))):t(r);if(n&&n.length){let i={addresses:n,servername:e.servername||e.host};return f.set(e.host,{value:i,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,m(i,{cached:!1}))}h(6,e.host,e,(r,n)=>{if(r)return i?(f.set(e.host,{value:i.value,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,m(i.value,{cached:!0,error:r}))):t(r);if(n&&n.length){let i={addresses:n,servername:e.servername||e.host};return f.set(e.host,{value:i,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,m(i,{cached:!1}))}try{l.lookup(e.host,{all:!0},(r,n)=>{if(r)return i?(f.set(e.host,{value:i.value,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,m(i.value,{cached:!0,error:r}))):t(r);let s=!!n&&n.filter(e=>d(e.family)).map(e=>e.address).shift();if(n&&n.length&&!s&&console.warn(`Failed to resolve IPv${n[0].family} addresses with current network`),!s&&i)return t(null,m(i.value,{cached:!0}));let a={addresses:s?[s]:[e.host],servername:e.servername||e.host};return f.set(e.host,{value:a,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,m(a,{cached:!1}))})}catch(n){if(i)return f.set(e.host,{value:i.value,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,m(i.value,{cached:!0,error:r}));return t(r)}})})},t.exports.parseConnectionUrl=e=>{e=e||"";let t={};return[n.parse(e,!0)].forEach(e=>{let i;switch(e.protocol){case"smtp:":t.secure=!1;break;case"smtps:":t.secure=!0;break;case"direct:":t.direct=!0}!isNaN(e.port)&&Number(e.port)&&(t.port=Number(e.port)),e.hostname&&(t.host=e.hostname),e.auth&&(i=e.auth.split(":"),t.auth||(t.auth={}),t.auth.user=i.shift(),t.auth.pass=i.join(":")),Object.keys(e.query||{}).forEach(i=>{let r=t,n=i,s=e.query[i];switch(!isNaN(s)&&(s=Number(s)),s){case"true":s=!0;break;case"false":s=!1}if(0===i.indexOf("tls."))n=i.substr(4),t.tls||(t.tls={}),r=t.tls;else if(i.indexOf(".")>=0)return;n in r||(r[n]=s)})}),t},t.exports._logFunc=(e,t,i,r,n,...s)=>{let a={};Object.keys(i||{}).forEach(e=>{"level"!==e&&(a[e]=i[e])}),Object.keys(r||{}).forEach(e=>{"level"!==e&&(a[e]=r[e])}),e[t](a,n,...s)},t.exports.getLogger=(e,i)=>{var r;let n,a,o,l,c={},p=["trace","debug","info","warn","error","fatal"];if(!(e=e||{}).logger)return p.forEach(e=>{c[e]=()=>!1}),c;let u=e.logger;return!0===e.logger&&(r=p,n=0,a=new Map,r.forEach(e=>{e.length>n&&(n=e.length)}),r.forEach(e=>{let t=e.toUpperCase();t.length<n&&(t+=" ".repeat(n-t.length)),a.set(e,t)}),o=(e,t,i,...r)=>{let n="";t&&("server"===t.tnx?n="S: ":"client"===t.tnx&&(n="C: "),t.sid&&(n="["+t.sid+"] "+n),t.cid&&(n="[#"+t.cid+"] "+n)),(i=s.format(i,...r)).split(/\r?\n/).forEach(t=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),a.get(e),n+t)})},l={},r.forEach(e=>{l[e]=o.bind(null,e)}),u=l),p.forEach(e=>{c[e]=(r,n,...s)=>{t.exports._logFunc(u,e,i,r,n,...s)}}),c},t.exports.callbackPromise=(e,t)=>function(){let i=Array.from(arguments),r=i.shift();r?t(r):e(...i)},t.exports.parseDataURI=e=>{let t,i;if("string"!=typeof e||!e.startsWith("data:"))return null;let r=e.indexOf(",");if(-1===r)return null;let n=e.substring(r+1),s=e.substring(5,r).split(";");if(s.length>0){let e=s[s.length-1].toLowerCase().trim();["base64","utf8","utf-8"].includes(e)&&-1===e.indexOf("=")&&(t=e,s.pop())}let a=s.length>0?s.shift():"application/octet-stream",o={};for(let e=0;e<s.length;e++){let t=s[e],i=t.indexOf("=");if(i>0){let e=t.substring(0,i).trim(),r=t.substring(i+1).trim();e&&(o[e]=r)}}try{if("base64"===t)i=Buffer.from(n,"base64");else try{i=Buffer.from(decodeURIComponent(n))}catch(e){i=Buffer.from(n)}}catch(e){i=Buffer.alloc(0)}return{data:i,encoding:t||null,contentType:a||"application/octet-stream",params:o}},t.exports.resolveContent=(e,i,r)=>{let n;r||(n=new Promise((e,i)=>{r=t.exports.callbackPromise(e,i)}));let s=e&&e[i]&&e[i].content||e[i],l=("object"==typeof e[i]&&e[i].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!s)return r(null,s);if("object"==typeof s){if("function"==typeof s.pipe)return g(s,(t,n)=>{if(t)return r(t);e[i].content?e[i].content=n:e[i]=n,r(null,n)});else if(/^https?:\/\//i.test(s.path||s.href))return g(o(s.path||s.href),r);else if(/^data:/i.test(s.path||s.href)){let e=t.exports.parseDataURI(s.path||s.href);return e&&e.data?r(null,e.data):r(null,Buffer.from(0))}else if(s.path)return g(a.createReadStream(s.path),r)}return"string"!=typeof e[i].content||["utf8","usascii","ascii"].includes(l)||(s=Buffer.from(e[i].content,l)),setImmediate(()=>r(null,s)),n},t.exports.assign=function(){let e=Array.from(arguments),t=e.shift()||{};return e.forEach(e=>{Object.keys(e||{}).forEach(i=>{["tls","auth"].includes(i)&&e[i]&&"object"==typeof e[i]?(t[i]||(t[i]={}),Object.keys(e[i]).forEach(r=>{t[i][r]=e[i][r]})):t[i]=e[i]})}),t},t.exports.encodeXText=e=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(e))return e;let t=Buffer.from(e),i="";for(let e=0,r=t.length;e<r;e++){let r=t[e];r<33||r>126||43===r||61===r?i+="+"+(r<16?"0":"")+r.toString(16).toUpperCase():i+=String.fromCharCode(r)}return i}},20140,(e,t,i)=>{"use strict";let r=e.r(14747),n="application/octet-stream",s=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/geo+json","geojson"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),a=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);t.exports={detectMimeType(e){if(!e)return n;let t=r.parse(e),i=(t.ext.substr(1)||t.name||"").split("?").shift().trim().toLowerCase(),s=n;return(a.has(i)&&(s=a.get(i)),Array.isArray(s))?s[0]:s},detectExtension(e){if(!e)return"bin";let t=(e||"").toLowerCase().trim().split("/"),i=t.shift().trim(),r=t.join("/").trim();if(s.has(i+"/"+r)){let e=s.get(i+"/"+r);return Array.isArray(e)?e[0]:e}return"text"===i?"txt":"bin"}}},54799,(e,t,i)=>{t.exports=e.x("crypto",()=>require("crypto"))},84140,(e,t,i)=>{"use strict";let r=/^xn--/,n=/[^\0-\x7F]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,a={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},o=Math.floor,l=String.fromCharCode;function c(e){throw RangeError(a[e])}function p(e,t){let i=e.split("@"),r="";return i.length>1&&(r=i[0]+"@",e=i[1]),r+(function(e,t){let i=[],r=e.length;for(;r--;)i[r]=t(e[r]);return i})((e=e.replace(s,".")).split("."),t).join(".")}function u(e){let t=[],i=0,r=e.length;for(;i<r;){let n=e.charCodeAt(i++);if(n>=55296&&n<=56319&&i<r){let r=e.charCodeAt(i++);(64512&r)==56320?t.push(((1023&n)<<10)+(1023&r)+65536):(t.push(n),i--)}else t.push(n)}return t}let d=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},h=function(e,t,i){let r=0;for(e=i?o(e/700):e>>1,e+=o(e/t);e>455;r+=36)e=o(e/35);return o(r+36*e/(e+38))},f=function(e){let t=[],i=e.length,r=0,n=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(let i=0;i<a;++i)e.charCodeAt(i)>=128&&c("not-basic"),t.push(e.charCodeAt(i));for(let p=a>0?a+1:0;p<i;){let a=r;for(let t=1,n=36;;n+=36){var l;p>=i&&c("invalid-input");let a=(l=e.charCodeAt(p++))>=48&&l<58?26+(l-48):l>=65&&l<91?l-65:l>=97&&l<123?l-97:36;a>=36&&c("invalid-input"),a>o((0x7fffffff-r)/t)&&c("overflow"),r+=a*t;let u=n<=s?1:n>=s+26?26:n-s;if(a<u)break;let d=36-u;t>o(0x7fffffff/d)&&c("overflow"),t*=d}let u=t.length+1;s=h(r-a,u,0==a),o(r/u)>0x7fffffff-n&&c("overflow"),n+=o(r/u),r%=u,t.splice(r++,0,n)}return String.fromCodePoint(...t)},m=function(e){let t=[],i=(e=u(e)).length,r=128,n=0,s=72;for(let i of e)i<128&&t.push(l(i));let a=t.length,p=a;for(a&&t.push("-");p<i;){let i=0x7fffffff;for(let t of e)t>=r&&t<i&&(i=t);let u=p+1;for(let f of(i-r>o((0x7fffffff-n)/u)&&c("overflow"),n+=(i-r)*u,r=i,e))if(f<r&&++n>0x7fffffff&&c("overflow"),f===r){let e=n;for(let i=36;;i+=36){let r=i<=s?1:i>=s+26?26:i-s;if(e<r)break;let n=e-r,a=36-r;t.push(l(d(r+n%a,0))),e=o(n/a)}t.push(l(d(e,0))),s=h(n,u,p===a),n=0,++p}++n,++r}return t.join("")};t.exports={version:"2.3.1",ucs2:{decode:u,encode:e=>String.fromCodePoint(...e)},decode:f,encode:m,toASCII:function(e){return p(e,function(e){return n.test(e)?"xn--"+m(e):e})},toUnicode:function(e){return p(e,function(e){return r.test(e)?f(e.slice(4).toLowerCase()):e})}}},20511,(e,t,i)=>{"use strict";let r=e.r(88947).Transform;function n(e){return"string"==typeof e&&(e=Buffer.from(e,"utf-8")),e.toString("base64")}function s(e,t){if(e=(e||"").toString(),t=t||76,e.length<=t)return e;let i=[],r=0,n=1024*t;for(;r<e.length;){let s=e.substr(r,n).replace(RegExp(".{"+t+"}","g"),"$&\r\n");i.push(s),r+=n}return i.join("")}t.exports={encode:n,wrap:s,Encoder:class extends r{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){if("buffer"!==t&&(e=Buffer.from(e,t)),!e||!e.length)return setImmediate(i);this.inputBytes+=e.length,this._remainingBytes&&this._remainingBytes.length&&(e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length),this._remainingBytes=!1),e.length%3?(this._remainingBytes=e.slice(e.length-e.length%3),e=e.slice(0,e.length-e.length%3)):this._remainingBytes=!1;let r=this._curLine+n(e);if(this.options.lineLength){let e=(r=s(r,this.options.lineLength)).lastIndexOf("\n");e<0?(this._curLine=r,r=""):(this._curLine=r.substring(e+1),(r=r.substring(0,e+1))&&!r.endsWith("\r\n")&&(r+="\r\n"))}else this._curLine="";r&&(this.outputBytes+=r.length,this.push(Buffer.from(r,"ascii"))),setImmediate(i)}_flush(e){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=n(this._remainingBytes)),this._curLine&&(this.outputBytes+=this._curLine.length,this.push(Buffer.from(this._curLine,"ascii")),this._curLine=""),e()}}}},63275,(e,t,i)=>{"use strict";let r=e.r(88947).Transform;function n(e){let t;"string"==typeof e&&(e=Buffer.from(e,"utf-8"));let i=[[9],[10],[13],[32,60],[62,126]],r="";for(let n=0,s=e.length;n<s;n++){if(function(e,t){for(let i=t.length-1;i>=0;i--)if(t[i].length&&(1===t[i].length&&e===t[i][0]||2===t[i].length&&e>=t[i][0]&&e<=t[i][1]))return!0;return!1}(t=e[n],i)&&(32!==t&&9!==t||n!==s-1&&10!==e[n+1]&&13!==e[n+1])){r+=String.fromCharCode(t);continue}r+="="+(t<16?"0":"")+t.toString(16).toUpperCase()}return r}function s(e,t){let i,r,n;if(e=(e||"").toString(),t=t||76,e.length<=t)return e;let s=0,a=e.length,o=Math.floor(t/3),l="";for(;s<a;){if(i=(n=e.substr(s,t)).match(/\r\n/)){l+=n=n.substr(0,i.index+i[0].length),s+=n.length;continue}if("\n"===n.substr(-1)){l+=n,s+=n.length;continue}if(i=n.substr(-o).match(/\n.*?$/)){l+=n=n.substr(0,n.length-(i[0].length-1)),s+=n.length;continue}if(n.length>t-o&&(i=n.substr(-o).match(/[ \t.,!?][^ \t.,!?]*$/)))n=n.substr(0,n.length-(i[0].length-1));else if(n.match(/[=][\da-f]{0,2}$/i))for((i=n.match(/[=][\da-f]{0,1}$/i))&&(n=n.substr(0,n.length-i[0].length));n.length>3&&n.length<a-s&&!n.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(i=n.match(/[=][\da-f]{2}$/gi))&&!((r=parseInt(i[0].substr(1,2),16))<128)&&(n=n.substr(0,n.length-3),!(r>=192)););s+n.length<a&&"\n"!==n.substr(-1)?(n.length===t&&n.match(/[=][\da-f]{2}$/i)?n=n.substr(0,n.length-3):n.length===t&&(n=n.substr(0,n.length-1)),s+=n.length,n+="=\r\n"):s+=n.length,l+=n}return l}t.exports={encode:n,wrap:s,Encoder:class extends r{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){let r;if("buffer"!==t&&(e=Buffer.from(e,t)),!e||!e.length)return i();this.inputBytes+=e.length,this.options.lineLength?(r=(r=s(r=this._curLine+n(e),this.options.lineLength)).replace(/(^|\n)([^\n]*)$/,(e,t,i)=>(this._curLine=i,t)))&&(this.outputBytes+=r.length,this.push(r)):(r=n(e),this.outputBytes+=r.length,this.push(r,"ascii")),i()}_flush(e){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),e()}}}},1204,(e,t,i)=>{"use strict";let r=e.r(20511),n=e.r(63275),s=e.r(20140);t.exports={isPlainText:(e,t)=>!("string"!=typeof e||(t?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/).test(e)),hasLongerLines:(e,t)=>e.length>131072||RegExp("^.{"+(t+1)+",}","m").test(e),encodeWord(e,t,i){let s;t=(t||"Q").toString().toUpperCase().trim().charAt(0);let a="UTF-8";if((i=i||0)&&i>7+a.length&&(i-=7+a.length),"Q"===t?s=n.encode(e).replace(/[^a-z0-9!*+\-/=]/gi,e=>{let t=e.charCodeAt(0).toString(16).toUpperCase();return" "===e?"_":"="+(1===t.length?"0"+t:t)}):"B"===t&&(s="string"==typeof e?e:r.encode(e),i=i?Math.max(3,(i-i%4)/4*3):0),i&&("B"!==t?s:r.encode(e)).length>i)if("Q"===t)s=this.splitMimeEncodedString(s,i).join("?= =?"+a+"?"+t+"?");else{let e=[],n="";for(let t=0,a=s.length;t<a;t++){let o=s.charAt(t);/[\ud83c\ud83d\ud83e]/.test(o)&&t<a-1&&(o+=s.charAt(++t)),Buffer.byteLength(n+o)<=i||0===t?n+=o:(e.push(r.encode(n)),n=o)}n&&e.push(r.encode(n)),s=e.length>1?e.join("?= =?"+a+"?"+t+"?"):e.join("")}else"B"===t&&(s=r.encode(e));return"=?"+a+"?"+t+"?"+s+("?="===s.substr(-2)?"":"?=")},encodeWords(e,t,i,r){i=i||0;let n=e.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!n)return e;if(r)return this.encodeWord(e,t,i);let s=e.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!s)return e;let a=n.index+(n[0].match(/[^\s]/)||{index:0}).index,o=s.index+(s[1]||"").length;return(a?e.substr(0,a):"")+this.encodeWord(e.substring(a,o),t||"Q",i)+(o<e.length?e.substr(o):"")},buildHeaderValue(e){let t=[];return Object.keys(e.params||{}).forEach(i=>{let r=e.params[i];!this.isPlainText(r,!0)||r.length>=75?this.buildHeaderParam(i,r,50).forEach(e=>{/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(e.value)&&"*"!==e.key.substr(-1)?t.push(e.key+"="+JSON.stringify(e.value)):t.push(e.key+"="+e.value)}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(r)?t.push(i+"="+JSON.stringify(r)):t.push(i+"="+r)}),e.value+(t.length?"; "+t.join("; "):"")},buildHeaderParam(e,t,i){let r,n,s,a,o,l,c=[],p="string"==typeof t?t:(t||"").toString(),u=0;if(i=i||50,this.isPlainText(t,!0)){if(p.length<=i)return[{key:e,value:p}];(p=p.replace(RegExp(".{"+i+"}","g"),e=>(c.push({line:e}),"")))&&c.push({line:p})}else{if(/[\uD800-\uDBFF]/.test(p)){for(o=0,r=[],l=p.length;o<l;o++)(s=(n=p.charAt(o)).charCodeAt(0))>=55296&&s<=56319&&o<l-1?(n+=p.charAt(o+1),r.push(n),o++):r.push(n);p=r}a="utf-8''";let e=!0;for(o=0,u=0,l=p.length;o<l;o++){if(n=p[o],e)n=this.safeEncodeURIComponent(n);else if((n=" "===n?n:this.safeEncodeURIComponent(n))!==p[o])if((this.safeEncodeURIComponent(a)+n).length>=i)c.push({line:a,encoded:e}),a="",u=o-1;else{e=!0,o=u,a="";continue}(a+n).length>=i?(c.push({line:a,encoded:e}),a=n=" "===p[o]?" ":this.safeEncodeURIComponent(p[o]),n===p[o]?(e=!1,u=o-1):e=!0):a+=n}a&&c.push({line:a,encoded:e})}return c.map((t,i)=>({key:e+"*"+i+(t.encoded?"*":""),value:t.line}))},parseHeaderValue(e){let t,i={value:!1,params:{}},r=!1,n="",s="value",a=!1,o=!1;for(let l=0,c=e.length;l<c;l++)if(t=e.charAt(l),"key"===s){if("="===t){r=n.trim().toLowerCase(),s="value",n="";continue}n+=t}else{if(o)n+=t;else if("\\"===t){o=!0;continue}else a&&t===a?a=!1:a||'"'!==t?a||";"!==t?n+=t:(!1===r?i.value=n.trim():i.params[r]=n.trim(),s="key",n=""):a=t;o=!1}return"value"===s?!1===r?i.value=n.trim():i.params[r]=n.trim():n.trim()&&(i.params[n.trim().toLowerCase()]=""),Object.keys(i.params).forEach(e=>{let t,r,n,s;(n=e.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(t=e.substr(0,n.index),r=Number(n[2]||n[3])||0,i.params[t]&&"object"==typeof i.params[t]||(i.params[t]={charset:!1,values:[]}),s=i.params[e],0===r&&"*"===n[0].substr(-1)&&(n=s.match(/^([^']*)'[^']*'(.*)$/))&&(i.params[t].charset=n[1]||"iso-8859-1",s=n[2]),i.params[t].values[r]=s,delete i.params[e])}),Object.keys(i.params).forEach(e=>{let t;i.params[e]&&Array.isArray(i.params[e].values)&&(t=i.params[e].values.map(e=>e||"").join(""),i.params[e].charset?i.params[e]="=?"+i.params[e].charset+"?Q?"+t.replace(/[=?_\s]/g,e=>{let t=e.charCodeAt(0).toString(16);return" "===e?"_":"%"+(t.length<2?"0":"")+t}).replace(/%/g,"=")+"?=":i.params[e]=t)}),i},detectExtension:e=>s.detectExtension(e),detectMimeType:e=>s.detectMimeType(e),foldLines(e,t,i){e=(e||"").toString(),t=t||76;let r=0,n=e.length,s="",a,o;for(;r<n;){if((a=e.substr(r,t)).length<t){s+=a;break}if(o=a.match(/^[^\n\r]*(\r?\n|\r)/)){s+=a=o[0],r+=a.length;continue}(o=a.match(/(\s+)[^\s]*$/))&&o[0].length-(i?(o[1]||"").length:0)<a.length?a=a.substr(0,a.length-(o[0].length-(i?(o[1]||"").length:0))):(o=e.substr(r+a.length).match(/^[^\s]+(\s*)/))&&(a+=o[0].substr(0,o[0].length-(i?0:(o[1]||"").length))),s+=a,(r+=a.length)<n&&(s+="\r\n")}return s},splitMimeEncodedString:(e,t)=>{let i,r,n,s,a=[];for(t=Math.max(t||0,12);e.length;){for((r=(i=e.substr(0,t)).match(/[=][0-9A-F]?$/i))&&(i=i.substr(0,r.index)),s=!1;!s;)s=!0,(r=e.substr(i.length).match(/^[=]([0-9A-F]{2})/i))&&(n=parseInt(r[1],16))<194&&n>127&&(i=i.substr(0,i.length-3),s=!1);i.length&&a.push(i),e=e.substr(i.length)}return a},encodeURICharComponent:e=>{let t="",i=e.charCodeAt(0).toString(16).toUpperCase();if(i.length%2&&(i="0"+i),i.length>2)for(let e=0,r=i.length/2;e<r;e++)t+="%"+i.substr(e,2);else t+="%"+i;return t},safeEncodeURIComponent(e){e=(e||"").toString();try{e=encodeURIComponent(e)}catch(t){return e.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return e.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,e=>this.encodeURICharComponent(e))}}},69985,(e,t,i)=>{"use strict";class r{constructor(e){this.str=(e||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e=[];for(let e=0,t=this.str.length;e<t;e++){let i=this.str.charAt(e),r=e<t-1?this.str.charAt(e+1):null;this.checkChar(i,r)}return this.list.forEach(t=>{t.value=(t.value||"").toString().trim(),t.value&&e.push(t)}),e}checkChar(e,t){if(this.escaped);else if(e===this.operatorExpecting){this.node={type:"operator",value:e},t&&![" ","	","\r","\n",",",";"].includes(t)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&e in this.operators){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[e],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&"\\"===e){this.escaped=!0;return}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),"\n"===e&&(e=" "),(e.charCodeAt(0)>=33||[" ","	"].includes(e))&&(this.node.value+=e),this.escaped=!1}}t.exports=function e(t,i){let n=(i=i||{})._depth||0;if(n>50)return[];let s=new r(t).tokenize(),a=[],o=[],l=[];if(s.forEach(e=>{"operator"===e.type&&(","===e.value||";"===e.value)?(o.length&&a.push(o),o=[]):o.push(e)}),o.length&&a.push(o),a.forEach(t=>{(t=function(t,i){let r,n,s,a=!1,o="text",l=[],c={address:[],comment:[],group:[],text:[],textWasQuoted:[]},p=!1;for(n=0,s=t.length;n<s;n++){let e=t[n],i=n?t[n-1]:null;if("operator"===e.type)switch(e.value){case"<":o="address",p=!1;break;case"(":o="comment",p=!1;break;case":":o="group",a=!0,p=!1;break;case'"':p=!p,o="text";break;default:o="text",p=!1}else e.value&&("address"===o&&(e.value=e.value.replace(/^[^<]*<\s*/,"")),i&&i.noBreak&&c[o].length?(c[o][c[o].length-1]+=e.value,"text"===o&&p&&(c.textWasQuoted[c.textWasQuoted.length-1]=!0)):(c[o].push(e.value),"text"===o&&c.textWasQuoted.push(p)))}if(!c.text.length&&c.comment.length&&(c.text=c.comment,c.comment=[]),a){c.text=c.text.join(" ");let t=[];c.group.length&&e(c.group.join(","),{_depth:i+1}).forEach(e=>{e.group?t=t.concat(e.group):t.push(e)}),l.push({name:c.text||r&&r.name,group:t})}else{if(!c.address.length&&c.text.length){for(n=c.text.length-1;n>=0;n--)if(!c.textWasQuoted[n]&&c.text[n].match(/^[^@\s]+@[^@\s]+$/)){c.address=c.text.splice(n,1),c.textWasQuoted.splice(n,1);break}let e=function(e){return c.address.length?e:(c.address=[e.trim()]," ")};if(!c.address.length)for(n=c.text.length-1;n>=0&&(c.textWasQuoted[n]||(c.text[n]=c.text[n].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,e).trim(),!c.address.length));n--);}if(!c.text.length&&c.comment.length&&(c.text=c.comment,c.comment=[]),c.address.length>1&&(c.text=c.text.concat(c.address.splice(1))),c.text=c.text.join(" "),c.address=c.address.join(" "),!c.address&&a)return[];(r={address:c.address||c.text||"",name:c.text||c.address||""}).address===r.name&&((r.address||"").match(/@/)?r.name="":r.address=""),l.push(r)}return l}(t,n)).length&&(l=l.concat(t))}),i.flatten){let e=[],t=i=>{i.forEach(i=>{if(i.group)return t(i.group);e.push(i)})};return t(l),e}return l}},42181,(e,t,i)=>{"use strict";let r=e.r(88947).Transform;t.exports=class extends r{constructor(){super(),this.lastByte=!1}_transform(e,t,i){e.length&&(this.lastByte=e[e.length-1]),this.push(e),i()}_flush(e){return 10===this.lastByte||(13===this.lastByte?this.push(Buffer.from("\n")):this.push(Buffer.from("\r\n"))),e()}}},74133,(e,t,i)=>{"use strict";let r=e.r(88947).Transform;t.exports=class extends r{constructor(e){super(e),this.options=e||{},this.lastByte=!1}_transform(e,t,i){let r,n=0;for(let t=0,i=e.length;t<i;t++)10===e[t]&&(t&&13!==e[t-1]||!t&&13!==this.lastByte)&&(t>n&&(r=e.slice(n,t),this.push(r)),this.push(Buffer.from("\r\n")),n=t+1);n&&n<e.length?(r=e.slice(n),this.push(r)):n||this.push(e),this.lastByte=e[e.length-1],i()}}},86065,(e,t,i)=>{"use strict";let r=e.r(88947).Transform;t.exports=class extends r{constructor(e){super(e),this.options=e||{}}_transform(e,t,i){let r,n=0;for(let t=0,i=e.length;t<i;t++)13===e[t]&&(r=e.slice(n,t),n=t+1,this.push(r));n&&n<e.length?(r=e.slice(n),this.push(r)):n||this.push(e),i()}}},97676,(e,t,i)=>{"use strict";let r=e.r(54799),n=e.r(22734),s=e.r(84140),a=e.r(88947).PassThrough,o=e.r(14173),l=e.r(1204),c=e.r(63275),p=e.r(20511),u=e.r(69985),d=e.r(13970),h=e.r(42181),f=e.r(74133),m=e.r(86065);class g{constructor(e,t){this.nodeCounter=0,t=t||{},this.baseBoundary=t.baseBoundary||r.randomBytes(8).toString("hex"),this.boundaryPrefix=t.boundaryPrefix||"--_NmP",this.disableFileAccess=!!t.disableFileAccess,this.disableUrlAccess=!!t.disableUrlAccess,this.normalizeHeaderKey=t.normalizeHeaderKey,this.date=new Date,this.rootNode=t.rootNode||this,this.keepBcc=!!t.keepBcc,t.filename&&(this.filename=t.filename,e||(e=l.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(t.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=t.parentNode,this.hostname=t.hostname,this.newline=t.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],e&&this.setHeader("Content-Type",e)}createChild(e,t){t||"object"!=typeof e||(t=e,e=void 0);let i=new g(e,t);return this.appendChild(i),i}appendChild(e){return e.rootNode!==this.rootNode&&(e.rootNode=this.rootNode,e._nodeId=++this.rootNode.nodeCounter),e.parentNode=this,this.childNodes.push(e),e}replace(e){return e===this?this:(this.parentNode.childNodes.forEach((t,i)=>{t===this&&(e.rootNode=this.rootNode,e.parentNode=this.parentNode,e._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,e.parentNode.childNodes[i]=e)}),e)}remove(){if(!this.parentNode)return this;for(let e=this.parentNode.childNodes.length-1;e>=0;e--)if(this.parentNode.childNodes[e]===this)return this.parentNode.childNodes.splice(e,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(e,t){let i=!1,r;if(!t&&e&&"object"==typeof e)return e.key&&"value"in e?this.setHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.setHeader(e.key,e.value)}):Object.keys(e).forEach(t=>{this.setHeader(t,e[t])}),this;r={key:e=this._normalizeHeaderKey(e),value:t};for(let t=0,n=this._headers.length;t<n;t++)this._headers[t].key===e&&(i?(this._headers.splice(t,1),t--,n--):(this._headers[t]=r,i=!0));return i||this._headers.push(r),this}addHeader(e,t){return!t&&e&&"object"==typeof e?e.key&&e.value?this.addHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.addHeader(e.key,e.value)}):Object.keys(e).forEach(t=>{this.addHeader(t,e[t])}):Array.isArray(t)?t.forEach(t=>{this.addHeader(e,t)}):this._headers.push({key:this._normalizeHeaderKey(e),value:t}),this}getHeader(e){e=this._normalizeHeaderKey(e);for(let t=0,i=this._headers.length;t<i;t++)if(this._headers[t].key===e)return this._headers[t].value}setContent(e){return this.content=e,"function"==typeof this.content.pipe?(this._contentErrorHandler=e=>{this.content.removeListener("error",this._contentErrorHandler),this.content=e},this.content.once("error",this._contentErrorHandler)):"string"==typeof this.content&&(this._isPlainText=l.isPlainText(this.content),this._isPlainText&&l.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(e){let t;e||(t=new Promise((t,i)=>{e=o.callbackPromise(t,i)}));let i=this.createReadStream(),r=[],n=0,s=!1;return i.on("readable",()=>{let e;for(;null!==(e=i.read());)r.push(e),n+=e.length}),i.once("error",t=>{if(!s)return s=!0,e(t)}),i.once("end",t=>{if(!s)return s=!0,t&&t.length&&(r.push(t),n+=t.length),e(null,Buffer.concat(r,n))}),t}getTransferEncoding(){let e=!1,t=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&&((e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim())&&["base64","quoted-printable"].includes(e)||(/^text\//i.test(t)?e=this._isPlainText&&!this._hasLongLines?"7bit":"string"==typeof this.content||this.content instanceof Buffer?"Q"===this._getTextEncoding(this.content)?"quoted-printable":"base64":"B"===this.textEncoding?"base64":"quoted-printable":/^(multipart|message)\//i.test(t)||(e=e||"base64"))),e}buildHeaders(){let e=this.getTransferEncoding(),t=[];if(e&&this.setHeader("Content-Transfer-Encoding",e),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let e=this._headers.length-2;e>=0;e--){let t=this._headers[e];"Content-Type"===t.key&&(this._headers.splice(e,1),this._headers.push(t))}}return this._headers.forEach(e=>{let i,r,n=e.key,s=e.value,a={};if(!s||"object"!=typeof s||["From","Sender","To","Cc","Bcc","Reply-To","Date","References"].includes(n)||(Object.keys(s).forEach(e=>{"value"!==e&&(a[e]=s[e])}),(s=(s.value||"").toString()).trim())){if(a.prepared)return void(a.foldLines?t.push(l.foldLines(n+": "+s)):t.push(n+": "+s));switch(e.key){case"Content-Disposition":i=l.parseHeaderValue(s),this.filename&&(i.params.filename=this.filename),s=l.buildHeaderValue(i);break;case"Content-Type":i=l.parseHeaderValue(s),this._handleContentType(i),i.value.match(/^text\/plain\b/)&&"string"==typeof this.content&&/[\u0080-\uFFFF]/.test(this.content)&&(i.params.charset="utf-8"),s=l.buildHeaderValue(i),this.filename&&(((r=this._encodeWords(this.filename))!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(r))&&(r='"'+r+'"'),s+="; name="+r);break;case"Bcc":if(!this.keepBcc)return}if(((s=this._encodeHeaderValue(n,s))||"").toString().trim()){if("function"==typeof this.normalizeHeaderKey){let e=this.normalizeHeaderKey(n,s);e&&"string"==typeof e&&e.length&&(n=e)}t.push(l.foldLines(n+": "+s,76))}}}),t.join("\r\n")}createReadStream(e){let t,i=new a(e=e||{}),r=i;this.stream(i,e,e=>{e?r.emit("error",e):i.end()});for(let e=0,i=this._transforms.length;e<i;e++)t="function"==typeof this._transforms[e]?this._transforms[e]():this._transforms[e],r.once("error",e=>{t.emit("error",e)}),r=r.pipe(t);t=new h,r.once("error",e=>{t.emit("error",e)}),r=r.pipe(t);for(let e=0,i=this._processFuncs.length;e<i;e++)r=(t=this._processFuncs[e])(r);if(this.newline){let e=["win","windows","dos","\r\n"].includes(this.newline.toString().toLowerCase())?new f:new m,t=r.pipe(e);return r.on("error",e=>t.emit("error",e)),t}return r}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,t,i){let r,n,s=this.getTransferEncoding(),a=!1,o=e=>{a||(a=!0,i(e))},l=()=>{let i=0,r=()=>{if(i>=this.childNodes.length)return e.write("\r\n--"+this.boundary+"--\r\n"),o();let n=this.childNodes[i++];e.write((i>1?"\r\n":"")+"--"+this.boundary+"\r\n"),n.stream(e,t,e=>{if(e)return o(e);setImmediate(r)})};if(!this.multipart)return o();setImmediate(r)},u=()=>{if(!this.content)return setImmediate(l);{if("[object Error]"===Object.prototype.toString.call(this.content))return o(this.content);"function"==typeof this.content.pipe&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=e=>o(e),this.content.once("error",this._contentErrorHandler));let i=()=>{["quoted-printable","base64"].includes(s)?((r=new("base64"===s?p:c).Encoder(t)).pipe(e,{end:!1}),r.once("end",l),r.once("error",e=>o(e)),(n=this._getStream(this.content)).pipe(r)):((n=this._getStream(this.content)).pipe(e,{end:!1}),n.once("end",l)),n.once("error",e=>o(e))};if(this.content._resolve){let e=[],t=0,r=!1,n=this._getStream(this.content);n.on("error",e=>{r||(r=!0,o(e))}),n.on("readable",()=>{let i;for(;null!==(i=n.read());)e.push(i),t+=i.length}),n.on("end",()=>{r||(r=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(e,t),setImmediate(i))})}else setImmediate(i);return}};this._raw?setImmediate(()=>{if("[object Error]"===Object.prototype.toString.call(this._raw))return o(this._raw);"function"==typeof this._raw.pipe&&this._raw.removeListener("error",this._contentErrorHandler);let t=this._getStream(this._raw);t.pipe(e,{end:!1}),t.on("error",t=>e.emit("error",t)),t.on("end",l)}):(e.write(this.buildHeaders()+"\r\n\r\n"),setImmediate(u))}setEnvelope(e){let t;this._envelope={from:!1,to:[]},e.from&&(t=[],this._convertAddresses(this._parseAddresses(e.from),t),(t=t.filter(e=>e&&e.address)).length&&t[0]&&(this._envelope.from=t[0].address)),["to","cc","bcc"].forEach(t=>{e[t]&&this._convertAddresses(this._parseAddresses(e[t]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(e=>e.address).filter(e=>e);let i=["to","cc","bcc","from"];return Object.keys(e).forEach(t=>{i.includes(t)||(this._envelope[t]=e[t])}),this}getAddresses(){let e={};return this._headers.forEach(t=>{let i=t.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(i)&&(Array.isArray(e[i])||(e[i]=[]),this._convertAddresses(this._parseAddresses(t.value),e[i]))}),e}getEnvelope(){if(this._envelope)return this._envelope;let e={from:!1,to:[]};return this._headers.forEach(t=>{let i=[];"From"===t.key||!e.from&&["Reply-To","Sender"].includes(t.key)?(this._convertAddresses(this._parseAddresses(t.value),i),i.length&&i[0]&&(e.from=i[0].address)):["To","Cc","Bcc"].includes(t.key)&&this._convertAddresses(this._parseAddresses(t.value),e.to)}),e.to=e.to.map(e=>e.address),e}messageId(){let e=this.getHeader("Message-ID");return e||(e=this._generateMessageId(),this.setHeader("Message-ID",e)),e}setRaw(e){return this._raw=e,this._raw&&"function"==typeof this._raw.pipe&&(this._contentErrorHandler=e=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=e},this._raw.once("error",this._contentErrorHandler)),this}_getStream(e){let t;return e._resolvedValue?(t=new a,setImmediate(()=>{try{t.end(e._resolvedValue)}catch(e){t.emit("error",e)}}),t):"function"==typeof e.pipe?e:e&&"string"==typeof e.path&&!e.href?this.disableFileAccess?(t=new a,setImmediate(()=>t.emit("error",Error("File access rejected for "+e.path))),t):n.createReadStream(e.path):e&&"string"==typeof e.href?this.disableUrlAccess?(t=new a,setImmediate(()=>t.emit("error",Error("Url access rejected for "+e.href))),t):d(e.href,{headers:e.httpHeaders}):(t=new a,setImmediate(()=>{try{t.end(e||"")}catch(e){t.emit("error",e)}}),t)}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(e=>e&&e.address?(e.address=this._normalizeAddress(e.address),e.name=e.name||"",[e]):u(e)))}_normalizeHeaderKey(e){return e=(e||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,e=>e.toUpperCase()).replace(/^Content-Features$/i,"Content-features")}_handleContentType(e){this.contentType=e.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&&this.contentType.substr(this.contentType.indexOf("/")+1),this.multipart?this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,t){switch(e=this._normalizeHeaderKey(e)){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(t));case"Message-ID":case"In-Reply-To":case"Content-Id":return"<"!==(t=(t||"").toString().replace(/\r?\n|\r/g," ")).charAt(0)&&(t="<"+t),">"!==t.charAt(t.length-1)&&(t+=">"),t;case"References":return(t=[].concat.apply([],[].concat(t||"").map(e=>(e=(e||"").toString().replace(/\r?\n|\r/g," ").trim()).replace(/<[^>]*>/g,e=>e.replace(/\s/g,"")).split(/\s+/))).map(e=>("<"!==e.charAt(0)&&(e="<"+e),">"!==e.charAt(e.length-1)&&(e+=">"),e))).join(" ").trim();case"Date":if("[object Date]"===Object.prototype.toString.call(t))return t.toUTCString().replace(/GMT/,"+0000");return t=(t||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(t);case"Content-Type":case"Content-Disposition":return(t||"").toString().replace(/\r?\n|\r/g," ");default:return t=(t||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(t)}}_convertAddresses(e,t){let i=[];return t=t||[],[].concat(e||[]).forEach(e=>{if(e.address)e.address=this._normalizeAddress(e.address),e.name?e.name&&i.push(`${this._encodeAddressName(e.name)} <${e.address}>`):i.push(e.address.indexOf(" ")>=0?`<${e.address}>`:`${e.address}`),e.address&&!t.filter(t=>t.address===e.address).length&&t.push(e);else if(e.group){let r=(e.group.length?this._convertAddresses(e.group,t):"").trim();i.push(`${this._encodeAddressName(e.name)}:${r};`)}}),i.join(", ")}_normalizeAddress(e){let t,i=(e=(e||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim()).lastIndexOf("@");if(i<0)return e;let r=e.substr(0,i),n=e.substr(i+1);try{t=s.toASCII(n.toLowerCase())}catch(e){}return r.indexOf(" ")>=0&&('"'!==r.charAt(0)&&(r='"'+r),'"'!==r.substr(-1)&&(r+='"')),`${r}@${t}`}_encodeAddressName(e){if(!/^[\w ]*$/.test(e))if(/^[\x20-\x7e]*$/.test(e))return'"'+e.replace(/([\\"])/g,"\\$1")+'"';else return l.encodeWord(e,this._getTextEncoding(e),52);return e}_encodeWords(e){return l.encodeWords(e,this._getTextEncoding(e),52,!0)}_getTextEncoding(e){e=(e||"").toString();let t=this.textEncoding;return t||(t=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length<(e.match(/[a-z]/gi)||[]).length?"Q":"B"),t}_generateMessageId(){return"<"+[2,2,2,6].reduce((e,t)=>e+"-"+r.randomBytes(t).toString("hex"),r.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}}t.exports=g},65903,(e,t,i)=>{"use strict";let r=e.r(97676),n=e.r(1204),s=e.r(14173).parseDataURI;t.exports=class{constructor(e){this.mail=e||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(e=>/^text\/html\b/i.test(e.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&1===this._attachments.attached.length,this.mail.raw?this.message=new r("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=>{let t=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());this.mail[t]&&this.message.setHeader(e,this.mail[t])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(e){let t,i,r=[].concat(this.mail.attachments||[]).map((e,t)=>{let i;/^data:/i.test(e.path||e.href)&&(e=this._processDataUrl(e));let r=e.contentType||n.detectMimeType(e.filename||e.path||e.href||"bin"),s=/^image\//i.test(r),a=/^message\//i.test(r);return i={contentType:r,contentDisposition:e.contentDisposition||(a||s&&e.cid?"inline":"attachment"),contentTransferEncoding:"contentTransferEncoding"in e?e.contentTransferEncoding:a?"7bit":"base64"},e.filename?i.filename=e.filename:!a&&!1!==e.filename&&(i.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(t+1),0>i.filename.indexOf(".")&&(i.filename+="."+n.detectExtension(i.contentType))),/^https?:\/\//i.test(e.path)&&(e.href=e.path,e.path=void 0),e.cid&&(i.cid=e.cid),e.raw?i.raw=e.raw:e.path?i.content={path:e.path}:e.href?i.content={href:e.href,httpHeaders:e.httpHeaders}:i.content=e.content||"",e.encoding&&(i.encoding=e.encoding),e.headers&&(i.headers=e.headers),i});return(this.mail.icalEvent&&(t="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},i={},Object.keys(t).forEach(e=>{i[e]=t[e]}),i.contentType="application/ics",i.headers||(i.headers={}),i.filename=i.filename||"invite.ics",i.headers["Content-Disposition"]="attachment",i.headers["Content-Transfer-Encoding"]="base64"),e)?{attached:r.filter(e=>!e.cid).concat(i||[]),related:r.filter(e=>!!e.cid)}:{attached:r.concat(i||[]),related:[]}}getAlternatives(){let e=[],t,i,r,s,a,o;return this.mail.text&&((t="object"==typeof this.mail.text&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text}).contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&((r="object"==typeof this.mail.watchHtml&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml}).contentType="text/watch-html; charset=utf-8"),this.mail.amp&&((s="object"==typeof this.mail.amp&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp}).contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(a="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},o={},Object.keys(a).forEach(e=>{o[e]=a[e]}),o.content&&"object"==typeof o.content&&(o.content._resolve=!0),o.filename=!1,o.contentType="text/calendar; charset=utf-8; method="+(o.method||"PUBLISH").toString().trim().toUpperCase(),o.headers||(o.headers={})),this.mail.html&&((i="object"==typeof this.mail.html&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html}).contentType="text/html; charset=utf-8"),[].concat(t||[]).concat(r||[]).concat(s||[]).concat(i||[]).concat(o||[]).concat(this.mail.alternatives||[]).forEach(t=>{let i;/^data:/i.test(t.path||t.href)&&(t=this._processDataUrl(t)),i={contentType:t.contentType||n.detectMimeType(t.filename||t.path||t.href||"txt"),contentTransferEncoding:t.contentTransferEncoding},t.filename&&(i.filename=t.filename),/^https?:\/\//i.test(t.path)&&(t.href=t.path,t.path=void 0),t.raw?i.raw=t.raw:t.path?i.content={path:t.path}:t.href?i.content={href:t.href}:i.content=t.content||"",t.encoding&&(i.encoding=t.encoding),t.headers&&(i.headers=t.headers),e.push(i)}),e}_createMixed(e){let t;return t=e?e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new r("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(t):this._useRelated&&this._createRelated(t),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(e=>{this._useRelated&&e===this._htmlNode||this._createContentNode(t,e)}),t}_createAlternative(e){let t;return t=e?e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new r("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(e=>{this._useRelated&&this._htmlNode===e?this._createRelated(t):this._createContentNode(t,e)}),t}_createRelated(e){let t;return t=e?e.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new r('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(t,this._htmlNode),this._attachments.related.forEach(e=>this._createContentNode(t,e)),t}_createContentNode(e,t){let i;(t=t||{}).content=t.content||"";let n=(t.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return i=e?e.createChild(t.contentType,{filename:t.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new r(t.contentType,{filename:t.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),t.headers&&i.addHeader(t.headers),t.cid&&i.setHeader("Content-Id","<"+t.cid.replace(/[<>]/g,"")+">"),t.contentTransferEncoding?i.setHeader("Content-Transfer-Encoding",t.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(t.contentType)&&i.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(t.contentType)||t.contentDisposition)&&i.setHeader("Content-Disposition",t.contentDisposition||(t.cid&&/^image\//i.test(t.contentType)?"inline":"attachment")),"string"!=typeof t.content||["utf8","usascii","ascii"].includes(n)||(t.content=Buffer.from(t.content,n)),t.raw?i.setRaw(t.raw):i.setContent(t.content),i}_processDataUrl(e){let t,i=e.path||e.href;if(!i||"string"!=typeof i||!i.startsWith("data:"))return e;if(i.length>0x3200000){let t="application/octet-stream",r=i.indexOf(",");if(r>0&&r<200){let e=i.substring(5,r).split(";");e[0]&&e[0].includes("/")&&(t=e[0].trim())}return Object.assign({},e,{path:!1,href:!1,content:Buffer.alloc(0),contentType:e.contentType||t})}try{t=s(i)}catch(t){return e}return t&&(e.content=t.data,e.contentType=e.contentType||t.contentType,"path"in e&&(e.path=!1),"href"in e&&(e.href=!1)),e}}},60021,(e,t,i)=>{"use strict";let r=e.r(88947).Transform;t.exports=class extends r{constructor(e){super(e),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(e){let t=this.lastBytes.length,i=Math.min(e.length,t);for(let e=0,r=t-i;e<r;e++)this.lastBytes[e]=this.lastBytes[e+i];for(let r=1;r<=i;r++)this.lastBytes[t-r]=e[e.length-r]}checkHeaders(e){if(this.headersParsed)return!0;let t=this.lastBytes.length,i=0;this.curLinePos=0;for(let r=0,n=this.lastBytes.length+e.length;r<n;r++)if(10===(r<t?this.lastBytes[r]:e[r-t])&&r){let n=r-1<t?this.lastBytes[r-1]:e[r-1-t],s=r>1&&(r-2<t?this.lastBytes[r-2]:e[r-2-t]);if(10===n||13===n&&10===s){this.headersParsed=!0,i=r-t+1,this.headerBytes+=i;break}}if(this.headersParsed){if(this.headerChunks.push(e.slice(0,i)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),e.length-1>i){let t=e.slice(i);this.bodySize+=t.length,setImmediate(()=>this.push(t))}return!1}return this.headerBytes+=e.length,this.headerChunks.push(e),this.updateLastBytes(e),!1}_transform(e,t,i){let r;if(!e||!e.length)return i();"string"==typeof e&&(e=Buffer.from(e,t));try{r=this.checkHeaders(e)}catch(e){return i(e)}r&&(this.bodySize+=e.length,this.push(e)),setImmediate(i)}_flush(e){if(this.headerChunks){let e=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=e.length,this.push(e),this.headerChunks=null}e()}parseHeaders(){let e=(this.rawHeaders||"").toString().split(/\r?\n/);for(let t=e.length-1;t>0;t--)/^\s/.test(e[t])&&(e[t-1]+="\n"+e[t],e.splice(t,1));return e.filter(e=>e.trim()).map(e=>({key:e.substr(0,e.indexOf(":")).trim().toLowerCase(),line:e}))}}},44366,(e,t,i)=>{"use strict";let r=e.r(88947).Transform,n=e.r(54799);t.exports=class extends r{constructor(e){super(),e=e||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=n.createHash(e.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=e.debug,this._debugBody=!!e.debug&&[]}updateHash(e){let t,i="",r="file";for(let t=e.length-1;t>=0;t--){let n=e[t];if("file"===r&&(10===n||13===n));else if("file"===r&&(9===n||32===n))r="line";else if("line"===r&&(9===n||32===n));else if(("file"===r||"line"===r)&&(r="body",t===e.length-1))break;if(0===t){if("file"===r&&(!this.remainder||/[\r\n]$/.test(this.remainder))||"line"===r&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=e.toString("binary");return}else if("line"===r||"file"===r){i=e.toString("binary"),e=!1;break}}if("body"===r){i=e.slice(t+1).toString("binary"),e=e.slice(0,t+1);break}}let n=!!this.remainder;if(e&&!n){for(let t=0,i=e.length;t<i;t++)if(t&&10===e[t]&&13!==e[t-1]){n=!0;break}else if(t&&13===e[t]&&32===e[t-1]){n=!0;break}else if(t&&32===e[t]&&32===e[t-1]){n=!0;break}else if(9===e[t]){n=!0;break}}n?(t=this.remainder+(e?e.toString("binary"):""),this.remainder=i,t=t.replace(/\r?\n/g,"\n").replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,"\r\n"),e=Buffer.from(t,"binary")):i&&(this.remainder=i),this.debug&&this._debugBody.push(e),this.bodyHash.update(e)}_transform(e,t,i){if(!e||!e.length)return i();"string"==typeof e&&(e=Buffer.from(e,t)),this.updateHash(e),this.byteLength+=e.length,this.push(e),i()}_flush(e){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from("\r\n")),this.byteLength||this.push(Buffer.from("\r\n")),this.emit("hash",this.bodyHash.digest("base64"),!!this.debug&&Buffer.concat(this._debugBody)),e()}}},55885,(e,t,i)=>{"use strict";let r=e.r(84140),n=e.r(1204),s=e.r(54799);function a(e,t,i){let r=new Set,n=new Set,s=new Map;(i||"").toLowerCase().split(":").forEach(e=>{n.add(e.trim())}),(t||"").toLowerCase().split(":").filter(e=>!n.has(e.trim())).forEach(e=>{r.add(e.trim())});for(let t=e.length-1;t>=0;t--){let i=e[t];r.has(i.key)&&!s.has(i.key)&&s.set(i.key,o(i.line))}let a=[],l=[];return r.forEach(e=>{s.has(e)&&(l.push(e),a.push(e+":"+s.get(e)))}),{headers:a.join("\r\n")+"\r\n",fieldNames:l.join(":")}}function o(e){return e.substr(e.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}t.exports=(e,t,i,l)=>{var c,p,u,d,h;let f,m,g,v=a(e,(l=l||{}).headerFieldNames||"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",l.skipFields),y=(c=l.domainName,p=l.keySelector,u=v.fieldNames,d=t,h=i,g=["v=1","a=rsa-"+d,"c=relaxed/relaxed","d="+r.toASCII(c),"q=dns/txt","s="+p,"bh="+h,"h="+u].join("; "),n.foldLines("DKIM-Signature: "+g,76)+";\r\n b=");v.headers+="dkim-signature:"+o(y),(f=s.createSign(("rsa-"+t).toUpperCase())).update(v.headers);try{m=f.sign(l.privateKey,"base64")}catch(e){return!1}return y+m.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,"$&\r\n ").trim()},t.exports.relaxedHeaders=a},23092,(e,t,i)=>{"use strict";let r=e.r(60021),n=e.r(44366),s=e.r(55885),a=e.r(88947).PassThrough,o=e.r(22734),l=e.r(14747),c=e.r(54799);class p{constructor(e,t,i,r){this.options=e||{},this.keys=t,this.cacheTreshold=Number(this.options.cacheTreshold)||2097152,this.hashAlgo=this.options.hashAlgo||"sha256",this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=!!this.cacheDir&&l.join(this.cacheDir,"message."+Date.now()+"-"+c.randomBytes(14).toString("hex")),this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=i,this.output=r,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",e=>{this.hasErrored=!0,this.cleanup(),r.emit("error",e)})}cleanup(){this.cache&&this.cachePath&&o.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=o.createReadStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.output.emit("error",e)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let e=this.chunks[this.readPos++];if(!1===this.output.write(e))return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let e=0,t=()=>{if(e>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let i=this.keys[e++],r=s(this.headers,this.hashAlgo,this.bodyHash,{domainName:i.domainName,keySelector:i.keySelector,privateKey:i.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return r&&this.output.write(Buffer.from(r+"\r\n")),setImmediate(t)};if(this.bodyHash&&this.headers)return t();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=o.createWriteStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;null!==this.relaxedBody.read(););}),this.hasErrored=!0,this.output.emit("error",e)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new r,this.relaxedBody=new n({hashAlgo:this.hashAlgo}),this.parser.on("headers",e=>{this.headers=e}),this.relaxedBody.on("hash",e=>{this.bodyHash=e}),this.relaxedBody.on("readable",()=>{let e;if(!this.cache){for(;null!==(e=this.relaxedBody.read());)if(this.chunks.push(e),this.chunklen+=e.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}}t.exports=class{constructor(e){this.options=e||{},this.keys=[].concat(this.options.keys||{domainName:e.domainName,keySelector:e.keySelector,privateKey:e.privateKey})}sign(e,t){let i=new a,r=e,n=!1;Buffer.isBuffer(e)?(n=e,r=new a):"string"==typeof e&&(n=Buffer.from(e),r=new a);let s=this.options;t&&Object.keys(t).length&&(s={},Object.keys(this.options||{}).forEach(e=>{s[e]=this.options[e]}),Object.keys(t||{}).forEach(e=>{e in s||(s[e]=t[e])}));let o=new p(s,this.keys,r,i);return setImmediate(()=>{o.signStream(),n&&setImmediate(()=>{r.end(n)})}),i}}},55004,(e,t,i)=>{t.exports=e.x("tls",()=>require("tls"))},20158,(e,t,i)=>{"use strict";let r=e.r(4446),n=e.r(55004),s=e.r(92509);t.exports=function e(t,i,a,o){let l,c,p,u=s.parse(t);l={host:u.hostname,port:Number(u.port)?Number(u.port):"https:"===u.protocol?443:80},"https:"===u.protocol?(l.rejectUnauthorized=!1,c=n.connect.bind(n)):c=r.connect.bind(r);let d=!1,h=e=>{if(!d){d=!0;try{p.destroy()}catch(e){}o(e)}},f=()=>{let e=Error("Proxy socket timed out");e.code="ETIMEDOUT",h(e)};(p=c(l,()=>{if(d)return;let e={Host:a+":"+i,Connection:"close"};u.auth&&(e["Proxy-Authorization"]="Basic "+Buffer.from(u.auth).toString("base64")),p.write("CONNECT "+a+":"+i+" HTTP/1.1\r\n"+Object.keys(e).map(t=>t+": "+e[t]).join("\r\n")+"\r\n\r\n");let t="",r=e=>{let i,n;if(!d&&(t+=e.toString("binary"),i=t.match(/\r\n\r\n/))){if(p.removeListener("data",r),n=t.substr(i.index+i[0].length),t=t.substr(0,i.index),n&&p.unshift(Buffer.from(n,"binary")),d=!0,!(i=t.match(/^HTTP\/\d+\.\d+ (\d+)/i))||"2"!==(i[1]||"").charAt(0)){try{p.destroy()}catch(e){}return o(Error("Invalid response from proxy"+(i&&": "+i[1]||"")))}return p.removeListener("error",h),p.removeListener("timeout",f),p.setTimeout(0),o(null,p)}};p.on("data",r)})).setTimeout(e.timeout||3e4),p.on("timeout",f),p.once("error",h)}},10919,(e,t,i)=>{"use strict";let r=e.r(14173),n=e.r(97676),s=e.r(1204);t.exports=class{constructor(e,t){this.mailer=e,this.data={},this.message=null,t=t||{};let i=e.options||{},r=e._defaults||{};Object.keys(t).forEach(e=>{this.data[e]=t[e]}),this.data.headers=this.data.headers||{},Object.keys(r).forEach(e=>{e in this.data?"headers"===e&&Object.keys(r.headers).forEach(e=>{e in this.data.headers||(this.data.headers[e]=r.headers[e])}):this.data[e]=r[e]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(e=>{e in i&&(this.data[e]=i[e])})}resolveContent(...e){return r.resolveContent(...e)}resolveAll(e){let t=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((e,i)=>{t.push([this.data.alternatives,i])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((e,i)=>{!e.filename&&(e.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(i+1),0>e.filename.indexOf(".")&&(e.filename+="."+s.detectExtension(e.contentType))),e.contentType||(e.contentType=s.detectMimeType(e.filename||e.path||e.href||"bin")),t.push([this.data.attachments,i])});let i=new n;["from","to","cc","bcc","sender","replyTo"].forEach(e=>{let t;this.message?t=[].concat(i._parseAddresses(this.message.getHeader("replyTo"===e?"reply-to":e))||[]):this.data[e]&&(t=[].concat(i._parseAddresses(this.data[e])||[])),t&&t.length?this.data[e]=t:e in this.data&&(this.data[e]=null)}),["from","sender"].forEach(e=>{this.data[e]&&(this.data[e]=this.data[e].shift())});let a=0,o=()=>{if(a>=t.length)return e(null,this.data);let i=t[a++];if(!i[0]||!i[0][i[1]])return o();r.resolveContent(...i,(t,r)=>{if(t)return e(t);let n={content:r};i[0][i[1]]&&"object"==typeof i[0][i[1]]&&!Buffer.isBuffer(i[0][i[1]])&&Object.keys(i[0][i[1]]).forEach(e=>{e in n||["content","path","href","raw"].includes(e)||(n[e]=i[0][i[1]][e])}),i[0][i[1]]=n,o()})};setImmediate(()=>o())}normalize(e){let t=this.data.envelope||this.message.getEnvelope(),i=this.message.messageId();this.resolveAll((r,n)=>r?e(r):(n.envelope=t,n.messageId=i,["html","text","watchHtml","amp"].forEach(e=>{n[e]&&n[e].content&&("string"==typeof n[e].content?n[e]=n[e].content:Buffer.isBuffer(n[e].content)&&(n[e]=n[e].content.toString()))}),n.icalEvent&&Buffer.isBuffer(n.icalEvent.content)&&(n.icalEvent.content=n.icalEvent.content.toString("base64"),n.icalEvent.encoding="base64"),n.alternatives&&n.alternatives.length&&n.alternatives.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),n.attachments&&n.attachments.length&&n.attachments.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),n.normalizedHeaders={},Object.keys(n.headers||{}).forEach(e=>{let t=[].concat(n.headers[e]||[]).shift();(t=t&&t.value||t)&&(["references","in-reply-to","message-id","content-id"].includes(e)&&(t=this.message._encodeHeaderValue(e,t)),n.normalizedHeaders[e]=t)}),n.list&&"object"==typeof n.list&&this._getListHeaders(n.list).forEach(e=>{n.normalizedHeaders[e.key]=e.value.map(e=>e&&e.value||e).join(", ")}),n.references&&(n.normalizedHeaders.references=this.message._encodeHeaderValue("references",n.references)),n.inReplyTo&&(n.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",n.inReplyTo)),e(null,n)))}setMailerHeader(){this.message&&this.data.xMailer&&this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(this.message&&this.data.priority)switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low")}}setListHeaders(){this.message&&this.data.list&&"object"==typeof this.data.list&&this.data.list&&"object"==typeof this.data.list&&this._getListHeaders(this.data.list).forEach(e=>{e.value.forEach(t=>{this.message.addHeader(e.key,t)})})}_getListHeaders(e){return Object.keys(e).map(t=>({key:"list-"+t.toLowerCase().trim(),value:[].concat(e[t]||[]).map(e=>({prepared:!0,foldLines:!0,value:[].concat(e||[]).map(e=>{if("string"==typeof e&&(e={url:e}),e&&e.url){if("id"===t.toLowerCase().trim()){let t=e.comment||"";return t=s.isPlainText(t)?'"'+t+'"':s.encodeWord(t),(e.comment?t+" ":"")+this._formatListUrl(e.url).replace(/^<[^:]+\/{,2}/,"")}let i=e.comment||"";return s.isPlainText(i)||(i=s.encodeWord(i)),this._formatListUrl(e.url)+(e.comment?" ("+i+")":"")}return""}).filter(e=>e).join(", ")}))}))}_formatListUrl(e){return(e=e.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(e))?"<"+e+">":/^[^@]+@[^@]+$/.test(e)?"<mailto:"+e+">":"<http://"+e+">"}}},98267,(e,t,i)=>{"use strict";let r=e.r(27699),n=e.r(14173),s=e.r(20140),a=e.r(65903),o=e.r(23092),l=e.r(20158),c=e.r(24361),p=e.r(92509),u=e.r(63818),d=e.r(10919),h=e.r(4446),f=e.r(79594),m=e.r(54799);t.exports=class extends r{constructor(e,t,i){super(),this.options=t||{},this._defaults=i||{},this._defaultPlugins={compile:[(...e)=>this._convertDataImages(...e)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=!!this.options.dkim&&new o(this.options.dkim),this.transporter=e,this.transporter.mailer=this,this.logger=n.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),"function"==typeof this.transporter.on&&(this.transporter.on("log",e=>{this.logger.debug({tnx:"transport"},"%s: %s",e.type,e.message)}),this.transporter.on("error",e=>{this.logger.error({err:e,tnx:"transport"},"Transport Error: %s",e.message),this.emit("error",e)}),this.transporter.on("idle",(...e)=>{this.emit("idle",...e)}),this.transporter.on("clear",(...e)=>{this.emit("clear",...e)})),["close","isIdle","verify"].forEach(e=>{this[e]=(...t)=>"function"==typeof this.transporter[e]?("verify"===e&&"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[e](...t)):(this.logger.warn({tnx:"transport",methodName:e},"Non existing method %s called for transport",e),!1)}),this.options.proxy&&"string"==typeof this.options.proxy&&this.setupProxy(this.options.proxy)}use(e,t){return e=(e||"").toString(),this._userPlugins.hasOwnProperty(e)?this._userPlugins[e].push(t):this._userPlugins[e]=[t],this}sendMail(e,t=null){let i;t||(i=new Promise((e,i)=>{t=n.callbackPromise(e,i)})),"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let r=new d(this,e);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",r,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",e.message),t(e);r.message=new a(r.data).compile(),r.setMailerHeader(),r.setPriorityHeaders(),r.setListHeaders(),this._processPlugins("stream",r,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"stream"},"PluginStream Error: %s",e.message),t(e);(r.data.dkim||this.dkim)&&r.message.processFunc(e=>{let t=r.data.dkim?new o(r.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:r.message.messageId(),dkimDomains:t.keys.map(e=>e.keySelector+"."+e.domainName).join(", ")},"Signing outgoing message with %s keys",t.keys.length),t.sign(e,r.data._dkim)}),this.transporter.send(r,(...e)=>{e[0]&&this.logger.error({err:e[0],tnx:"transport",action:"send"},"Send Error: %s",e[0].message),t(...e)})})}),i}getVersionString(){return c.format("%s (%s; +%s; %s/%s)",u.name,u.version,u.homepage,this.transporter.name,this.transporter.version)}_processPlugins(e,t,i){if(e=(e||"").toString(),!this._userPlugins.hasOwnProperty(e))return i();let r=this._userPlugins[e]||[],n=this._defaultPlugins[e]||[];if(r.length&&this.logger.debug({tnx:"transaction",pluginCount:r.length,step:e},"Using %s plugins for %s",r.length,e),r.length+n.length===0)return i();let s=0,a="default",o=()=>{let e="default"===a?n:r;if(s>=e.length)if("default"!==a||!r.length)return i();else a="user",s=0,e=r;(0,e[s++])(t,e=>{if(e)return i(e);o()})};o()}setupProxy(e){let t=p.parse(e);this.getSocket=(e,i)=>{let r=t.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+r))return this.meta.get("proxy_handler_"+r)(t,e,i);switch(r){case"http":case"https":l(t.href,e.port,e.host,(e,t)=>e?i(e):i(null,{connection:t}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return i(Error("Socks module not loaded"));let r=r=>{let n=!!this.meta.get("proxy_socks_module").SocksClient,s=n?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),a=Number(t.protocol.replace(/\D/g,""))||5,o={proxy:{ipaddress:r,port:Number(t.port),type:a},[n?"destination":"target"]:{host:e.host,port:e.port},command:"connect"};if(t.auth){let e=decodeURIComponent(t.auth.split(":").shift()),i=decodeURIComponent(t.auth.split(":").pop());n?(o.proxy.userId=e,o.proxy.password=i):4===a?o.userid=e:o.authentication={username:e,password:i}}s.createConnection(o,(e,t)=>e?i(e):i(null,{connection:t.socket||t}))};if(h.isIP(t.hostname))return r(t.hostname);return f.resolve(t.hostname,(e,t)=>{if(e)return i(e);r(Array.isArray(t)?t[0]:t)})}}i(Error("Unknown proxy configuration"))}}_convertDataImages(e,t){if(!this.options.attachDataUrls&&!e.data.attachDataUrls||!e.data.html)return t();e.resolveContent(e.data,"html",(i,r)=>{if(i)return t(i);let n=0;r=(r||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(t,i,r,a)=>{let o=m.randomBytes(10).toString("hex")+"@localhost";return e.data.attachments||(e.data.attachments=[]),Array.isArray(e.data.attachments)||(e.data.attachments=[].concat(e.data.attachments||[])),e.data.attachments.push({path:r,cid:o,filename:"image-"+ ++n+"."+s.detectExtension(a)}),i+"cid:"+o}),e.data.html=r,t()})}set(e,t){return this.meta.set(e,t)}get(e){return this.meta.get(e)}}},89400,(e,t,i)=>{"use strict";let r=e.r(88947).Transform;t.exports=class extends r{constructor(e){super(e),this.options=e||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(e,t,i){let r,n=[],s=0,a,o,l=0;if(!e||!e.length)return i();for("string"==typeof e&&(e=Buffer.from(e)),this.inByteCount+=e.length,a=0,o=e.length;a<o;a++)46===e[a]?(!a||10!==e[a-1])&&(a||this.lastByte&&10!==this.lastByte)||(r=e.slice(l,a+1),n.push(r),n.push(Buffer.from(".")),s+=r.length+1,l=a+1):10===e[a]&&(a&&13!==e[a-1]||!a&&13!==this.lastByte)&&(a>l?(r=e.slice(l,a),n.push(r),s+=r.length+2):s+=2,n.push(Buffer.from("\r\n")),l=a+1);s?(l<e.length&&(r=e.slice(l),n.push(r),s+=r.length),this.outByteCount+=s,this.push(Buffer.concat(n,s))):(this.outByteCount+=e.length,this.push(e)),this.lastByte=e[e.length-1],i()}_flush(e){let t;t=10===this.lastByte?Buffer.from(".\r\n"):13===this.lastByte?Buffer.from("\n.\r\n"):Buffer.from("\r\n.\r\n"),this.outByteCount+=t.length,this.push(t),e()}}},25106,(e,t,i)=>{"use strict";let r=e.r(63818),n=e.r(27699).EventEmitter,s=e.r(4446),a=e.r(55004),o=e.r(46786),l=e.r(54799),c=e.r(89400),p=e.r(88947).PassThrough,u=e.r(14173);t.exports=class extends n{constructor(e){super(e),this.id=l.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=e||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.servername=this.options.servername?this.options.servername:!s.isIP(this.host)&&this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,void 0===this.options.secure&&465===this.port&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=u.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(e=>{let t=(e||"").toString().trim().toUpperCase();t&&this.customAuth.set(t,this.options.customAuth[e])}),this.version=r.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=e=>this._onData(e),this._onSocketError=e=>this._onError(e,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(e){if("function"==typeof e){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),e()});let t=this._isDestroyedMessage("connect");if(t)return e(this._formatError(t,"ECONNECTION",!1,"CONN"))}let t={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||3e4};this.options.localAddress&&(t.localAddress=this.options.localAddress);let i=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||12e4),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,i(),this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(e=>{e?this._onError(Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"CONN"):this._onConnect()})):setImmediate(()=>this._onConnect());return}return this.options.socket?(this._socket=this.options.socket,u.resolveHostname(t,(e,r)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:r.host,cached:!!r.cached},"Resolved %s as %s [cache %s]",t.host,r.host,r.cached?"hit":"miss"),Object.keys(r).forEach(e=>{"_"!==e.charAt(0)&&r[e]&&(t[e]=r[e])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(e=>{t[e]=this.options.tls[e]}),this.servername&&!t.servername&&(t.servername=this.servername),u.resolveHostname(t,(e,r)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:r.host,cached:!!r.cached},"Resolved %s as %s [cache %s]",t.host,r.host,r.cached?"hit":"miss"),Object.keys(r).forEach(e=>{"_"!==e.charAt(0)&&r[e]&&(t[e]=r[e])});try{this._socket=a.connect(t,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):u.resolveHostname(t,(e,r)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:r.host,cached:!!r.cached},"Resolved %s as %s [cache %s]",t.host,r.host,r.cached?"hit":"miss"),Object.keys(r).forEach(e=>{"_"!==e.charAt(0)&&r[e]&&(t[e]=r[e])});try{this._socket=s.connect(t,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let e="end";"init"===this.stage&&(e="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',e);let t=this._socket&&this._socket.socket||this._socket;if(t&&!t.destroyed)try{t[e]()}catch(e){}this._destroy()}login(e,t){let i=this._isDestroyedMessage("login");if(i)return t(this._formatError(i,"ECONNECTION",!1,"API"));if(this._auth=e||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,this._authMethod||!this._auth.oauth2||this._auth.credentials?this._authMethod&&("XOAUTH2"!==this._authMethod||this._auth.oauth2)||(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()):this._authMethod="XOAUTH2","XOAUTH2"!==this._authMethod&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass))if(!(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod)))return t(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));else this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options};if(this.customAuth.has(this._authMethod)){let e,i=this.customAuth.get(this._authMethod),r=!1,n=()=>{r||(r=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,t(null,!0))},s=i=>{r||(r=!0,t(this._formatError(i,"EAUTH",e,"AUTH "+this._authMethod)))},a=i({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(t,i)=>{let r;return i||(r=new Promise((e,t)=>{i=u.callbackPromise(e,t)})),this._responseActions.push(r=>{e=r;let n=r.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),s={command:t,response:r};n?(s.status=Number(n[1])||0,n[2]&&(s.code=n[2]),s.text=r.substr(n[0].length)):(s.text=r,s.status=0),i(null,s)}),setImmediate(()=>this._sendCommand(t)),r},resolve:n,reject:s});a&&"function"==typeof a.catch&&a.then(n).catch(s);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,t);return;case"LOGIN":this._responseActions.push(e=>{this._actionAUTH_LOGIN_USER(e,t)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(e=>{this._actionAUTHComplete(e,t)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5(e,t)}),this._sendCommand("AUTH CRAM-MD5");return}return t(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(e,t,i){if(!t)return i(this._formatError("Empty message","EMESSAGE",!1,"API"));let r=this._isDestroyedMessage("send message");if(r)return i(this._formatError(r,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&e.size>this._maxAllowedSize)return setImmediate(()=>{i(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let n=!1,s=function(){n||(n=!0,i(...arguments))};"function"==typeof t.on&&t.on("error",e=>s(this._formatError(e,"ESTREAM",!1,"API")));let a=Date.now();this._setEnvelope(e,(e,i)=>{if(e){let i=new p;return"function"==typeof t.pipe?t.pipe(i):(i.write(t),i.end()),s(e)}let r=Date.now(),n=this._createSendStream((e,t)=>e?s(e):(i.envelopeTime=r-a,i.messageTime=Date.now()-r,i.messageSize=n.outByteCount,i.response=t,s(null,i)));"function"==typeof t.pipe?t.pipe(n):(n.write(t),n.end())})}reset(e){this._sendCommand("RSET"),this._responseActions.push(t=>"2"!==t.charAt(0)?e(this._formatError("Could not reset session state. response="+t,"EPROTOCOL",t,"RSET")):(this._envelope=!1,e(null,!0)))}_onConnect(){(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed)?this.close():(this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||6e5),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||3e4),this._responseActions.push(this._actionGreeting),this._socket.resume())}_onData(e){let t;if(this._destroyed||!e||!e.length)return;let i=(e||"").toString("binary"),r=(this._remainder+i).split(/\r?\n/);this._remainder=r.pop();for(let e=0,i=r.length;e<i;e++){if(this._responseQueue.length&&(t=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(t.split("\n").pop()))){this._responseQueue[this._responseQueue.length-1]+="\n"+r[e];continue}this._responseQueue.push(r[e])}this._responseQueue.length&&(t=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(t.split("\n").pop()))||this._processResponse()}_onError(e,t,i,r){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._destroyed||(e=this._formatError(e,t,i,r),this.logger.error(i,e.message),this.emit("error",e),this.close())}_formatError(e,t,i,r){let n;n=/Error\]$/i.test(Object.prototype.toString.call(e))?e:Error(e),t&&"Error"!==t&&(n.code=t),i&&(n.response=i,n.message+=": "+i);let s="string"==typeof i&&Number((i.match(/^\d+/)||[])[0])||!1;return s&&(n.responseCode=s),r&&(n.command=r),n}_onClose(){let e=!1;return(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=e=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)?this._onError(Error("Connection closed unexpectedly"),"ETLS",e,"CONN"):![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed||/^[45]\d{2}\b/.test(e)?this._onError(Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN"):void this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(e){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let t=this._socket,i={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(e=>{i[e]=this.options.tls[e]}),this.servername&&!i.servername&&(i.servername=this.servername),this.upgrading=!0;try{this._socket=a.connect(i,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),t.removeListener("close",this._onSocketClose),t.removeListener("end",this._onSocketEnd),e(null,!0)))}catch(t){return e(t)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||6e5),this._socket.on("timeout",this._onSocketTimeout),t.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let e=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(e.split("\n").pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},e.replace(/\r?\n$/,"")),e.trim()||setImmediate(()=>this._processResponse());let t=this._responseActions.shift();if("function"!=typeof t)return this._onError(Error("Unexpected Response"),"EPROTOCOL",e,"CONN");t.call(this,e),setImmediate(()=>this._processResponse())}_sendCommand(e,t){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(t||e||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(e+"\r\n","utf-8"))}}_setEnvelope(e,t){let i=[],r=!1;if(this._envelope=e||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(e=>(e&&e.address||e||"").toString().trim()),!this._envelope.to.length)return t(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return t(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(r=!0);for(let e=0,i=this._envelope.to.length;e<i;e++){if(!this._envelope.to[e]||/[\r\n<>]/.test(this._envelope.to[e]))return t(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[e]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[e])&&(r=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(e){return t(this._formatError("Invalid DSN "+e.message,"EENVELOPE",!1,"API"))}this._responseActions.push(e=>{this._actionMAIL(e,t)}),r&&this._supportedExtensions.includes("SMTPUTF8")&&(i.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(i.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&i.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&i.push("RET="+u.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&i.push("ENVID="+u.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(i.length?" "+i.join(" "):""))}_setDsnEnvelope(e){let t=(e.ret||e.return||"").toString().toUpperCase()||null;if(t)switch(t){case"HDRS":case"HEADERS":t="HDRS";break;case"FULL":case"BODY":t="FULL"}if(t&&!["FULL","HDRS"].includes(t))throw Error("ret: "+JSON.stringify(t));let i=(e.envid||e.id||"").toString()||null,r=e.notify||null;if(r){"string"==typeof r&&(r=r.split(","));let e=["NEVER","SUCCESS","FAILURE","DELAY"];if((r=r.map(e=>e.trim().toUpperCase())).filter(t=>!e.includes(t)).length||r.length>1&&r.includes("NEVER"))throw Error("notify: "+JSON.stringify(r.join(",")));r=r.join(",")}let n=(e.recipient||e.orcpt||"").toString()||null;return n&&0>n.indexOf(";")&&(n="rfc822;"+n),{ret:t,envid:i,notify:r,orcpt:n}}_getDsnRcptToArgs(){let e=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&e.push("NOTIFY="+u.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&e.push("ORCPT="+u.encodeXText(this._envelope.dsn.orcpt))),e.length?" "+e.join(" "):""}_createSendStream(e){let t,i=new c;return this.options.lmtp?this._envelope.accepted.forEach((t,i)=>{let r=i===this._envelope.accepted.length-1;this._responseActions.push(i=>{this._actionLMTPStream(t,r,i,e)})}):this._responseActions.push(t=>{this._actionSMTPStream(t,e)}),i.pipe(this._socket,{end:!1}),this.options.debug&&((t=new p).on("readable",()=>{let e;for(;e=t.read();)this.logger.debug({tnx:"message"},e.toString("binary").replace(/\r?\n$/,""))}),i.pipe(t)),i.once("end",()=>{this.logger.info({tnx:"message",inByteCount:i.inByteCount,outByteCount:i.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",i.outByteCount,i.inByteCount)}),i}_actionGreeting(e){(clearTimeout(this._greetingTimeout),"220"!==e.substr(0,3))?this._onError(Error("Invalid greeting. response="+e),"EPROTOCOL",e,"CONN"):this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(e){"2"!==e.charAt(0)?this._onError(Error("Invalid LHLO. response="+e),"EPROTOCOL",e,"LHLO"):this._actionEHLO(e)}_actionEHLO(e){let t;if("421"===e.substr(0,3))return void this._onError(Error("Server terminates connection. response="+e),"ECONNECTION",e,"EHLO");if("2"!==e.charAt(0))return this.options.requireTLS?void this._onError(Error("EHLO failed but HELO does not support required STARTTLS. response="+e),"ECONNECTION",e,"EHLO"):(this._responseActions.push(this._actionHELO),void this._sendCommand("HELO "+this.name));if(this._ehloLines=e.split(/\r?\n/).map(e=>e.replace(/^\d+[ -]/,"").trim()).filter(e=>e).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(e)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(e)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(e)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(e)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(e)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(e)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(e)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(e)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(e)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(e)&&this._supportedAuth.push("XOAUTH2"),(t=e.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(t[1])||0),this.emit("connect")}_actionHELO(e){"2"!==e.charAt(0)?this._onError(Error("Invalid HELO. response="+e),"EPROTOCOL",e,"HELO"):(this.allowsAuth=!0,this.emit("connect"))}_actionSTARTTLS(e){if("2"!==e.charAt(0))return this.options.opportunisticTLS?(this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect")):void this._onError(Error("Error upgrading connection with STARTTLS"),"ETLS",e,"STARTTLS");this._upgradeConnection((e,t)=>{e?this._onError(Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"STARTTLS"):(this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),t?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect"))})}_actionAUTH_LOGIN_USER(e,t){/^334[ -]/.test(e)?(this._responseActions.push(e=>{this._actionAUTH_LOGIN_PASS(e,t)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))):t(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",e,"AUTH LOGIN"))}_actionAUTH_CRAM_MD5(e,t){let i=e.match(/^334\s+(.+)$/),r="";if(!i)return t(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",e,"AUTH CRAM-MD5"));r=i[1];let n=Buffer.from(r,"base64").toString("ascii"),s=l.createHmac("md5",this._auth.credentials.pass);s.update(n);let a=this._auth.credentials.user+" "+s.digest("hex");this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5_PASS(e,t)}),this._sendCommand(Buffer.from(a).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(e,t){if(!e.match(/^235\s+/))return t(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",e,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,t(null,!0)}_actionAUTH_LOGIN_PASS(e,t){if(!/^334[ -]/.test(e))return t(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",e,"AUTH LOGIN"));this._responseActions.push(e=>{this._actionAUTHComplete(e,t)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(e,t,i){if(i||"function"!=typeof t||(i=t,t=!1),"334"===e.substr(0,3)){this._responseActions.push(e=>{t||"XOAUTH2"!==this._authMethod?this._actionAUTHComplete(e,!0,i):setImmediate(()=>this._handleXOauth2Token(!0,i))}),this._sendCommand("");return}if("2"!==e.charAt(0))return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),i(this._formatError("Invalid login","EAUTH",e,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,i(null,!0)}_actionMAIL(e,t){let i,r;if(2!==Number(e.charAt(0)))return i=this._usingSmtpUtf8&&/^550 /.test(e)&&/[\x80-\uFFFF]/.test(this._envelope.from)?"Internationalized mailbox name not allowed":"Mail command failed",t(this._formatError(i,"EENVELOPE",e,"MAIL FROM"));if(!this._envelope.rcptQueue.length)return t(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"));if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)r=this._envelope.rcptQueue.shift(),this._recipientQueue.push(r),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+r+">"+this._getDsnRcptToArgs());else r=this._envelope.rcptQueue.shift(),this._recipientQueue.push(r),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+r+">"+this._getDsnRcptToArgs())}_actionRCPT(e,t){let i,r,n=this._recipientQueue.shift();if(2!==Number(e.charAt(0))?(i=this._usingSmtpUtf8&&/^553 /.test(e)&&/[\x80-\uFFFF]/.test(n)?"Internationalized mailbox name not allowed":"Recipient command failed",this._envelope.rejected.push(n),(r=this._formatError(i,"EENVELOPE",e,"RCPT TO")).recipient=n,this._envelope.rejectedErrors.push(r)):this._envelope.accepted.push(n),this._envelope.rcptQueue.length||this._recipientQueue.length)this._envelope.rcptQueue.length&&(n=this._envelope.rcptQueue.shift(),this._recipientQueue.push(n),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+n+">"+this._getDsnRcptToArgs()));else{if(!(this._envelope.rejected.length<this._envelope.to.length))return(r=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",e,"RCPT TO")).rejected=this._envelope.rejected,r.rejectedErrors=this._envelope.rejectedErrors,t(r);this._responseActions.push(e=>{this._actionDATA(e,t)}),this._sendCommand("DATA")}}_actionDATA(e,t){if(!/^[23]/.test(e))return t(this._formatError("Data command failed","EENVELOPE",e,"DATA"));let i={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(i.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(i.rejectedErrors=this._envelope.rejectedErrors),t(null,i)}_actionSMTPStream(e,t){return 2!==Number(e.charAt(0))?t(this._formatError("Message failed","EMESSAGE",e,"DATA")):t(null,e)}_actionLMTPStream(e,t,i,r){let n;if(2!==Number(i.charAt(0))){(n=this._formatError("Message failed for recipient "+e,"EMESSAGE",i,"DATA")).recipient=e,this._envelope.rejected.push(e),this._envelope.rejectedErrors.push(n);for(let t=0,i=this._envelope.accepted.length;t<i;t++)this._envelope.accepted[t]===e&&this._envelope.accepted.splice(t,1)}if(t)return r(null,i)}_handleXOauth2Token(e,t){this._auth.oauth2.getToken(e,(i,r)=>{if(i)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),t(this._formatError(i,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(i=>{this._actionAUTHComplete(i,e,t)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(r),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(e){if(this._destroyed)return"Cannot "+e+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+e+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+e+" - smtp connection socket is already half-closed."}}_getHostname(){let e;try{e=o.hostname()||""}catch(t){e="localhost"}return(!e||0>e.indexOf("."))&&(e="[127.0.0.1]"),e.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(e="["+e+"]"),e}}},29856,(e,t,i)=>{"use strict";let r=e.r(88947).Stream,n=e.r(13970),s=e.r(54799),a=e.r(14173);t.exports=class extends r{constructor(e,t){if(super(),this.options=e||{},e&&e.serviceClient){if(!e.privateKey||!e.user)return void setImmediate(()=>this.emit("error",Error('Options "privateKey" and "user" are required for service account!')));let t=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=t||300}if(this.logger=a.getLogger({logger:t},{component:this.options.component||"OAuth2"}),this.provisionCallback="function"==typeof this.options.provisionCallback&&this.options.provisionCallback,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let e=Math.max(Number(this.options.timeout)||0,0);this.expires=e&&Date.now()+1e3*e||0}this.renewing=!1,this.renewalQueue=[]}getToken(e,t){if(!e&&this.accessToken&&(!this.expires||this.expires>Date.now()))return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"reuse"},"Reusing existing access token for %s",this.options.user),t(null,this.accessToken);if(!this.provisionCallback&&!this.options.refreshToken&&!this.options.serviceClient)return this.accessToken?(this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"reuse"},"Reusing existing access token (no refresh capability) for %s",this.options.user),t(null,this.accessToken)):(this.logger.error({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Cannot renew access token for %s: No refresh mechanism available",this.options.user),t(Error("Can't create new access token for user")));if(this.renewing)return this.renewalQueue.push({renew:e,callback:t});this.renewing=!0;let i=(e,i)=>{this.renewalQueue.forEach(t=>t.callback(e,i)),this.renewalQueue=[],this.renewing=!1,e?this.logger.error({err:e,tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),t(e,i)};this.provisionCallback?this.provisionCallback(this.options.user,!!e,(e,t,r)=>{!e&&t&&(this.accessToken=t,this.expires=r||0),i(e,t)}):this.generateToken(i)}updateToken(e,t){this.accessToken=e,t=Math.max(Number(t)||0,0),this.expires=t&&Date.now()+1e3*t||0,this.emit("token",{user:this.options.user,accessToken:e||"",expires:this.expires})}generateToken(e){let t,i;if(this.options.serviceClient){let r,n=Math.floor(Date.now()/1e3),s={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:n,exp:n+this.options.serviceRequestTimeout};try{r=this.jwtSignRS256(s)}catch(t){return e(Error("Can't generate token. Check your auth options"))}t={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:r},i={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:s}}else{if(!this.options.refreshToken)return e(Error("Can't create new access token for user"));t={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},i={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(e=>{t[e]=this.options.customParams[e],i[e]=this.options.customParams[e]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(i)),this.postRequest(this.options.accessUrl,t,this.options,(t,i)=>{let r;if(t)return e(t);try{r=JSON.parse(i.toString())}catch(t){return e(t)}if(!r||"object"!=typeof r)return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(i||"").toString()),e(Error("Invalid authentication response"));let n={};if(Object.keys(r).forEach(e=>{"access_token"!==e?n[e]=r[e]:n[e]=(r[e]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(n)),r.error){let t=r.error;return r.error_description&&(t+=": "+r.error_description),r.error_uri&&(t+=" ("+r.error_uri+")"),e(Error(t))}return r.access_token?(this.updateToken(r.access_token,r.expires_in),e(null,this.accessToken)):e(Error("No access token"))})}buildXOAuth2Token(e){let t=["user="+(this.options.user||""),"auth=Bearer "+(e||this.accessToken),"",""];return Buffer.from(t.join("\x01"),"utf-8").toString("base64")}postRequest(e,t,i,r){let s=!1,a=[],o=0,l=n(e,{method:"post",headers:i.customHeaders,body:t,allowErrorResponse:!0});l.on("readable",()=>{let e;for(;null!==(e=l.read());)a.push(e),o+=e.length}),l.once("error",e=>{if(!s)return s=!0,r(e)}),l.once("end",()=>{if(!s)return s=!0,r(null,Buffer.concat(a,o))})}toBase64URL(e){return"string"==typeof e&&(e=Buffer.from(e)),e.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(e){e=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(e)].map(e=>this.toBase64URL(e)).join(".");let t=s.createSign("RSA-SHA256").update(e).sign(this.options.privateKey);return e+"."+this.toBase64URL(t)}}},90817,(e,t,i)=>{"use strict";let r=e.r(25106),n=e.r(14173).assign,s=e.r(29856),a=e.r(27699);t.exports=class extends a{constructor(e){if(super(),this.pool=e,this.options=e.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let e=new s(this.options.auth,this.logger);e.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||e.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:e,method:"XOAUTH2"},e.on("token",e=>this.pool.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(e){this.pool.getSocket(this.options,(t,i)=>{if(t)return e(t);let s=!1,a=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,a.host||"",a.port||""),a=n(!1,a),Object.keys(i).forEach(e=>{a[e]=i[e]})),this.connection=new r(a),this.connection.once("error",t=>{if(this.emit("error",t),!s)return s=!0,e(t)}),this.connection.once("end",()=>{if(this.close(),s)return;s=!0;let t=setTimeout(()=>{if(s)return;let t=Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(t.code="ETLS"),e(t)},1e3);try{t.unref()}catch(e){}}),this.connection.connect(()=>{if(!s)if(!this.auth||!this.connection.allowsAuth&&!a.forceAuth)return s=!0,this._connected=!0,e(null,!0);else this.connection.login(this.auth,t=>{if(!s){if(s=!0,t)return this.connection.close(),this.emit("error",t),e(t);this._connected=!0,e(null,!0)}})})})}send(e,t){if(!this._connected)return this.connect(i=>i?t(i):this.send(e,t));let i=e.message.getEnvelope(),r=e.message.messageId(),n=[].concat(i.to||[]);n.length>3&&n.push("...and "+n.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:r,cid:this.id},"Sending message %s using #%s to <%s>",r,this.id,n.join(", ")),e.data.dsn&&(i.dsn=e.data.dsn),this.connection.send(i,e.message.createReadStream(),(e,n)=>{if(this.messages++,e)return this.connection.close(),this.emit("error",e),t(e);n.envelope={from:i.from,to:i.to},n.messageId=r,setImmediate(()=>{let e;this.messages>=this.options.maxMessages?((e=Error("Resource exhausted")).code="EMAXLIMIT",this.connection.close(),this.emit("error",e)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),t(null,n)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}}},55381,e=>{e.v(JSON.parse('{"1und1":{"description":"1&1 Mail (German hosting provider)","host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"126":{"description":"126 Mail (NetEase)","host":"smtp.126.com","port":465,"secure":true},"163":{"description":"163 Mail (NetEase)","host":"smtp.163.com","port":465,"secure":true},"Aliyun":{"description":"Alibaba Cloud Mail","domains":["aliyun.com"],"host":"smtp.aliyun.com","port":465,"secure":true},"AliyunQiye":{"description":"Alibaba Cloud Enterprise Mail","host":"smtp.qiye.aliyun.com","port":465,"secure":true},"AOL":{"description":"AOL Mail","domains":["aol.com"],"host":"smtp.aol.com","port":587},"Aruba":{"description":"Aruba PEC (Italian email provider)","domains":["aruba.it","pec.aruba.it"],"aliases":["Aruba PEC"],"host":"smtps.aruba.it","port":465,"secure":true,"authMethod":"LOGIN"},"Bluewin":{"description":"Bluewin (Swiss email provider)","host":"smtpauths.bluewin.ch","domains":["bluewin.ch"],"port":465},"BOL":{"description":"BOL Mail (Brazilian provider)","domains":["bol.com.br"],"host":"smtp.bol.com.br","port":587,"requireTLS":true},"DebugMail":{"description":"DebugMail (email testing service)","host":"debugmail.io","port":25},"Disroot":{"description":"Disroot (privacy-focused provider)","domains":["disroot.org"],"host":"disroot.org","port":587,"secure":false,"authMethod":"LOGIN"},"DynectEmail":{"description":"Dyn Email Delivery","aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"ElasticEmail":{"description":"Elastic Email","aliases":["Elastic Email"],"host":"smtp.elasticemail.com","port":465,"secure":true},"Ethereal":{"description":"Ethereal Email (email testing service)","aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"description":"FastMail","domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"Feishu Mail":{"description":"Feishu Mail (Lark)","aliases":["Feishu","FeishuMail"],"domains":["www.feishu.cn"],"host":"smtp.feishu.cn","port":465,"secure":true},"Forward Email":{"description":"Forward Email (email forwarding service)","aliases":["FE","ForwardEmail"],"domains":["forwardemail.net"],"host":"smtp.forwardemail.net","port":465,"secure":true},"GandiMail":{"description":"Gandi Mail","aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"description":"Gmail","aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"GMX":{"description":"GMX Mail","domains":["gmx.com","gmx.net","gmx.de"],"host":"mail.gmx.com","port":587},"Godaddy":{"description":"GoDaddy Email (US)","host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"description":"GoDaddy Email (Asia)","host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"description":"GoDaddy Email (Europe)","host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"description":"Hot.ee (Estonian email provider)","host":"mail.hot.ee"},"Hotmail":{"description":"Outlook.com / Hotmail","aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp-mail.outlook.com","port":587},"iCloud":{"description":"iCloud Mail","aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"Infomaniak":{"description":"Infomaniak Mail (Swiss hosting provider)","host":"mail.infomaniak.com","domains":["ik.me","ikmail.com","etik.com"],"port":587},"KolabNow":{"description":"KolabNow (secure email service)","domains":["kolabnow.com"],"aliases":["Kolab"],"host":"smtp.kolabnow.com","port":465,"secure":true,"authMethod":"LOGIN"},"Loopia":{"description":"Loopia (Swedish hosting provider)","host":"mailcluster.loopia.se","port":465},"Loops":{"description":"Loops","host":"smtp.loops.so","port":587},"mail.ee":{"description":"Mail.ee (Estonian email provider)","host":"smtp.mail.ee"},"Mail.ru":{"description":"Mail.ru","host":"smtp.mail.ru","port":465,"secure":true},"Mailcatch.app":{"description":"Mailcatch (email testing service)","host":"sandbox-smtp.mailcatch.app","port":2525},"Maildev":{"description":"MailDev (local email testing)","port":1025,"ignoreTLS":true},"MailerSend":{"description":"MailerSend","host":"smtp.mailersend.net","port":587},"Mailgun":{"description":"Mailgun","host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"description":"Mailjet","host":"in.mailjet.com","port":587},"Mailosaur":{"description":"Mailosaur (email testing service)","host":"mailosaur.io","port":25},"Mailtrap":{"description":"Mailtrap","host":"live.smtp.mailtrap.io","port":587},"Mandrill":{"description":"Mandrill (by Mailchimp)","host":"smtp.mandrillapp.com","port":587},"Naver":{"description":"Naver Mail (Korean email provider)","host":"smtp.naver.com","port":587},"OhMySMTP":{"description":"OhMySMTP (email delivery service)","host":"smtp.ohmysmtp.com","port":587,"secure":false},"One":{"description":"One.com Email","host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"description":"OpenMailBox","aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"description":"Microsoft 365 / Office 365","host":"smtp.office365.com","port":587,"secure":false},"Postmark":{"description":"Postmark","aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"Proton":{"description":"Proton Mail","aliases":["ProtonMail","Proton.me","Protonmail.com","Protonmail.ch"],"domains":["proton.me","protonmail.com","pm.me","protonmail.ch"],"host":"smtp.protonmail.ch","port":587,"requireTLS":true},"qiye.aliyun":{"description":"Alibaba Mail Enterprise Edition","host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"description":"QQ Mail","domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"description":"QQ Enterprise Mail","aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"Resend":{"description":"Resend","host":"smtp.resend.com","port":465,"secure":true},"Runbox":{"description":"Runbox (Norwegian email provider)","domains":["runbox.com"],"host":"smtp.runbox.com","port":465,"secure":true},"SendCloud":{"description":"SendCloud (Chinese email delivery)","host":"smtp.sendcloud.net","port":2525},"SendGrid":{"description":"SendGrid","host":"smtp.sendgrid.net","port":587},"SendinBlue":{"description":"Brevo (formerly Sendinblue)","aliases":["Brevo"],"host":"smtp-relay.brevo.com","port":587},"SendPulse":{"description":"SendPulse","host":"smtp-pulse.com","port":465,"secure":true},"SES":{"description":"AWS SES US East (N. Virginia)","host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-1":{"description":"AWS SES Asia Pacific (Tokyo)","host":"email-smtp.ap-northeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-2":{"description":"AWS SES Asia Pacific (Seoul)","host":"email-smtp.ap-northeast-2.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-3":{"description":"AWS SES Asia Pacific (Osaka)","host":"email-smtp.ap-northeast-3.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTH-1":{"description":"AWS SES Asia Pacific (Mumbai)","host":"email-smtp.ap-south-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-1":{"description":"AWS SES Asia Pacific (Singapore)","host":"email-smtp.ap-southeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-2":{"description":"AWS SES Asia Pacific (Sydney)","host":"email-smtp.ap-southeast-2.amazonaws.com","port":465,"secure":true},"SES-CA-CENTRAL-1":{"description":"AWS SES Canada (Central)","host":"email-smtp.ca-central-1.amazonaws.com","port":465,"secure":true},"SES-EU-CENTRAL-1":{"description":"AWS SES Europe (Frankfurt)","host":"email-smtp.eu-central-1.amazonaws.com","port":465,"secure":true},"SES-EU-NORTH-1":{"description":"AWS SES Europe (Stockholm)","host":"email-smtp.eu-north-1.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"description":"AWS SES Europe (Ireland)","host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-2":{"description":"AWS SES Europe (London)","host":"email-smtp.eu-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-3":{"description":"AWS SES Europe (Paris)","host":"email-smtp.eu-west-3.amazonaws.com","port":465,"secure":true},"SES-SA-EAST-1":{"description":"AWS SES South America (So Paulo)","host":"email-smtp.sa-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"description":"AWS SES US East (N. Virginia)","host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-2":{"description":"AWS SES US East (Ohio)","host":"email-smtp.us-east-2.amazonaws.com","port":465,"secure":true},"SES-US-GOV-EAST-1":{"description":"AWS SES GovCloud (US-East)","host":"email-smtp.us-gov-east-1.amazonaws.com","port":465,"secure":true},"SES-US-GOV-WEST-1":{"description":"AWS SES GovCloud (US-West)","host":"email-smtp.us-gov-west-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-1":{"description":"AWS SES US West (N. California)","host":"email-smtp.us-west-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"description":"AWS SES US West (Oregon)","host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"Seznam":{"description":"Seznam Email (Czech email provider)","aliases":["Seznam Email"],"domains":["seznam.cz","email.cz","post.cz","spoluzaci.cz"],"host":"smtp.seznam.cz","port":465,"secure":true},"SMTP2GO":{"description":"SMTP2GO","host":"mail.smtp2go.com","port":2525},"Sparkpost":{"description":"SparkPost","aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"description":"Tipimail (email delivery service)","host":"smtp.tipimail.com","port":587},"Tutanota":{"description":"Tutanota (Tuta Mail)","domains":["tutanota.com","tuta.com","tutanota.de","tuta.io"],"host":"smtp.tutanota.com","port":465,"secure":true},"Yahoo":{"description":"Yahoo Mail","domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"description":"Yandex Mail","domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zimbra":{"description":"Zimbra Mail Server","aliases":["Zimbra Collaboration"],"host":"smtp.zimbra.com","port":587,"requireTLS":true},"Zoho":{"description":"Zoho Mail","host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}'))},60564,(e,t,i)=>{"use strict";let r=e.r(55381),n={};function s(e){return e.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function a(e){let t=["domains","aliases"],i={};return Object.keys(e).forEach(r=>{0>t.indexOf(r)&&(i[r]=e[r])}),i}Object.keys(r).forEach(e=>{let t=r[e];n[s(e)]=a(t),[].concat(t.aliases||[]).forEach(e=>{n[s(e)]=a(t)}),[].concat(t.domains||[]).forEach(e=>{n[s(e)]=a(t)})}),t.exports=function(e){return n[e=s(e.split("@").pop())]||!1}},70027,(e,t,i)=>{"use strict";let r=e.r(27699),n=e.r(90817),s=e.r(25106),a=e.r(60564),o=e.r(14173),l=e.r(63818);t.exports=class extends r{constructor(e){let t;super(),"string"==typeof(e=e||{})&&(e={url:e});let i=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(t=o.parseConnectionUrl(e.url),i=i||t.service),this.options=o.assign(!1,e,t,i&&a(i)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=o.getLogger(this.options,{component:this.options.component||"smtp-pool"});let r=new s(this.options);this.name="SMTP (pool)",this.version=l.version+"[client:"+r.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(e,t){return setImmediate(()=>t(null,!1))}send(e,t){return!this._closed&&(this._queue.push({mail:e,requeueAttempts:0,callback:t}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let e,t=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!t&&!this._queue.length)return;for(let i=t-1;i>=0;i--)this._connections[i]&&this._connections[i].available&&((e=this._connections[i]).close(),this.logger.info({tnx:"connection",cid:e.id,action:"removed"},"Connection #%s removed",e.id));if(t&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let i=()=>{if(!this._queue.length)return void this.logger.debug({tnx:"connection"},"Pending queue entries cleared");let t=this._queue.shift();if(t&&"function"==typeof t.callback)try{t.callback(Error("Connection pool was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}setImmediate(i)};setImmediate(i)}_processMessages(){let e,t,i;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(t=0,i=this._connections.length;t<i;t++)if(this._connections[t].available){e=this._connections[t];break}if(!e&&this._connections.length<this.options.maxConnections&&(e=this._createConnection()),!e){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let r=e.queueEntry=this._queue.shift();r.messageId=(e.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),e.available=!1,this.logger.debug({tnx:"pool",cid:e.id,messageId:r.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",r.messageId,e.id,e.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),e.send(r.mail,(t,i)=>{if(r===e.queueEntry){try{r.callback(t,i)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}})}_createConnection(){let e=new n(this);return e.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:e.id,action:"conection"},"Created new pool resource #%s",e.id),e.on("available",()=>{this.logger.debug({tnx:"connection",cid:e.id,action:"available"},"Connection #%s became available",e.id),this._closed?this.close():this._processMessages()}),e.once("error",t=>{if("EMAXLIMIT"!==t.code?this.logger.error({err:t,tnx:"pool",cid:e.id},"Pool Error for #%s: %s",e.id,t.message):this.logger.debug({tnx:"pool",cid:e.id,action:"maxlimit"},"Max messages limit exchausted for #%s",e.id),e.queueEntry){try{e.queueEntry.callback(t)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}this._removeConnection(e),this._continueProcessing()}),e.once("close",()=>{this.logger.info({tnx:"connection",cid:e.id,action:"closed"},"Connection #%s was closed",e.id),this._removeConnection(e),e.queueEntry?setTimeout(()=>{e.queueEntry&&(this._shouldRequeuOnConnectionClose(e.queueEntry)?this._requeueEntryOnConnectionClose(e):this._failDeliveryOnConnectionClose(e)),this._continueProcessing()},50):(this._closed||!this.idling||this._connections.length||this.emit("clear"),this._continueProcessing())}),this._connections.push(e),e}_shouldRequeuOnConnectionClose(e){return void 0===this.options.maxRequeues||this.options.maxRequeues<0||e.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(e){if(e.queueEntry&&e.queueEntry.callback){try{e.queueEntry.callback(Error("Reached maximum number of retries after connection was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",messageId:e.queueEntry.messageId,cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}}_requeueEntryOnConnectionClose(e){e.queueEntry.requeueAttempts=e.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:e.id,messageId:e.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts),this._queue.unshift(e.queueEntry),e.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(e){let t=this._connections.indexOf(e);-1!==t&&this._connections.splice(t,1)}_checkRateLimit(e){if(!this._rateLimit.limit)return e();let t=Date.now();return this._rateLimit.counter<this._rateLimit.limit?e():(this._rateLimit.waiting.push(e),this._rateLimit.checkpoint<=t-this._rateLimit.delta)?this._clearRateLimit():void(!this._rateLimit.timeout&&(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(t-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=t))}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;)setImmediate(this._rateLimit.waiting.shift())}isIdle(){return this.idling}verify(e){let t;e||(t=new Promise((t,i)=>{e=o.callbackPromise(t,i)}));let i=new n(this).auth;return this.getSocket(this.options,(t,r)=>{if(t)return e(t);let n=this.options;r&&r.connection&&(this.logger.info({tnx:"proxy",remoteAddress:r.connection.remoteAddress,remotePort:r.connection.remotePort,destHost:n.host||"",destPort:n.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",r.connection.remoteAddress,r.connection.remotePort,n.host||"",n.port||""),n=o.assign(!1,n),Object.keys(r).forEach(e=>{n[e]=r[e]}));let a=new s(n),l=!1;a.once("error",t=>{if(!l)return l=!0,a.close(),e(t)}),a.once("end",()=>{if(!l)return l=!0,e(Error("Connection closed"))});let c=()=>{if(!l)return l=!0,a.quit(),e(null,!0)};a.connect(()=>{if(!l)if(i&&(a.allowsAuth||n.forceAuth))a.login(i,t=>{if(!l){if(t)return l=!0,a.close(),e(t);c()}});else if(!i&&a.allowsAuth&&n.forceAuth){let t=Error("Authentication info was not provided");return t.code="NoAuth",l=!0,a.close(),e(t)}else c()})}),t}}},88312,(e,t,i)=>{"use strict";let r=e.r(27699),n=e.r(25106),s=e.r(60564),a=e.r(14173),o=e.r(29856),l=e.r(63818);t.exports=class extends r{constructor(e){let t;super(),"string"==typeof(e=e||{})&&(e={url:e});let i=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(t=a.parseConnectionUrl(e.url),i=i||t.service),this.options=a.assign(!1,e,t,i&&s(i)),this.logger=a.getLogger(this.options,{component:this.options.component||"smtp-transport"});let r=new n(this.options);this.name="SMTP",this.version=l.version+"[client:"+r.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(e,t){return setImmediate(()=>t(null,!1))}getAuth(e){if(!e)return this.auth;let t=!1,i={};if(this.options.auth&&"object"==typeof this.options.auth&&Object.keys(this.options.auth).forEach(e=>{t=!0,i[e]=this.options.auth[e]}),e&&"object"==typeof e&&Object.keys(e).forEach(r=>{t=!0,i[r]=e[r]}),!t)return!1;if("OAUTH2"!==(i.type||"").toString().toUpperCase())return{type:(i.type||"").toString().toUpperCase()||"LOGIN",user:i.user,credentials:{user:i.user||"",pass:i.pass,options:i.options},method:(i.method||"").trim().toUpperCase()||this.options.authMethod||!1};{if(!i.service&&!i.user)return!1;let e=new o(i,this.logger);return e.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||e.provisionCallback,e.on("token",e=>this.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e)),{type:"OAUTH2",user:i.user,oauth2:e,method:"XOAUTH2"}}}send(e,t){this.getSocket(this.options,(i,r)=>{if(i)return t(i);let s=!1,o=this.options;r&&r.connection&&(this.logger.info({tnx:"proxy",remoteAddress:r.connection.remoteAddress,remotePort:r.connection.remotePort,destHost:o.host||"",destPort:o.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",r.connection.remoteAddress,r.connection.remotePort,o.host||"",o.port||""),o=a.assign(!1,o),Object.keys(r).forEach(e=>{o[e]=r[e]}));let l=new n(o);l.once("error",e=>{if(!s)return s=!0,l.close(),t(e)}),l.once("end",()=>{if(s)return;let e=setTimeout(()=>{if(s)return;s=!0;let e=Error("Unexpected socket close");l&&l._socket&&l._socket.upgrading&&(e.code="ETLS"),t(e)},1e3);try{e.unref()}catch(e){}});let c=()=>{let i=e.message.getEnvelope(),r=e.message.messageId(),n=[].concat(i.to||[]);n.length>3&&n.push("...and "+n.splice(2).length+" more"),e.data.dsn&&(i.dsn=e.data.dsn),this.logger.info({tnx:"send",messageId:r},"Sending message %s to <%s>",r,n.join(", ")),l.send(i,e.message.createReadStream(),(e,n)=>{if(s=!0,l.close(),e)return this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",r,e.message),t(e);n.envelope={from:i.from,to:i.to},n.messageId=r;try{return t(null,n)}catch(e){this.logger.error({err:e,tnx:"callback"},"Callback error for %s: %s",r,e.message)}})};l.connect(()=>{if(s)return;let i=this.getAuth(e.data.auth);i&&(l.allowsAuth||o.forceAuth)?l.login(i,e=>{if(i&&i!==this.auth&&i.oauth2&&i.oauth2.removeAllListeners(),!s){if(e)return s=!0,l.close(),t(e);c()}}):c()})})}verify(e){let t;return e||(t=new Promise((t,i)=>{e=a.callbackPromise(t,i)})),this.getSocket(this.options,(t,i)=>{if(t)return e(t);let r=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:r.host||"",destPort:r.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,r.host||"",r.port||""),r=a.assign(!1,r),Object.keys(i).forEach(e=>{r[e]=i[e]}));let s=new n(r),o=!1;s.once("error",t=>{if(!o)return o=!0,s.close(),e(t)}),s.once("end",()=>{if(!o)return o=!0,e(Error("Connection closed"))});let l=()=>{if(!o)return o=!0,s.quit(),e(null,!0)};s.connect(()=>{if(o)return;let t=this.getAuth({});if(t&&(s.allowsAuth||r.forceAuth))s.login(t,t=>{if(!o){if(t)return o=!0,s.close(),e(t);l()}});else if(!t&&s.allowsAuth&&r.forceAuth){let t=Error("Authentication info was not provided");return t.code="NoAuth",o=!0,s.close(),e(t)}else l()})}),t}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}}},33405,(e,t,i)=>{t.exports=e.x("child_process",()=>require("child_process"))},36047,(e,t,i)=>{"use strict";let r=e.r(33405).spawn,n=e.r(63818),s=e.r(14173);t.exports=class{constructor(e){e=e||{},this._spawn=r,this.options=e||{},this.name="Sendmail",this.version=n.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=s.getLogger(this.options,{component:this.options.component||"sendmail"}),e&&("string"==typeof e?this.path=e:"object"==typeof e&&(e.path&&(this.path=e.path),Array.isArray(e.args)&&(this.args=e.args),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())))}send(e,t){let i,r,n;e.message.keepBcc=!0;let s=e.data.envelope||e.message.getEnvelope(),a=e.message.messageId();if([].concat(s.from||[]).concat(s.to||[]).some(e=>/^-/.test(e)))return t(Error("Can not send mail. Invalid envelope addresses."));i=this.args?["-i"].concat(this.args).concat(s.to):["-i"].concat(s.from?["-f",s.from]:[]).concat(s.to);let o=i=>{if(!n&&(n=!0,"function"==typeof t))if(i)return t(i);else return t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:a,response:"Messages queued for delivery"})};try{r=this._spawn(this.path,i)}catch(e){return this.logger.error({err:e,tnx:"spawn",messageId:a},"Error occurred while spawning sendmail. %s",e.message),o(e)}if(!r)return o(Error("sendmail was not found"));{r.on("error",e=>{this.logger.error({err:e,tnx:"spawn",messageId:a},"Error occurred when sending message %s. %s",a,e.message),o(e)}),r.once("exit",e=>{let t;if(!e)return o();t=127===e?Error("Sendmail command not found, process exited with code "+e):Error("Sendmail exited with code "+e),this.logger.error({err:t,tnx:"stdin",messageId:a},"Error sending message %s to sendmail. %s",a,t.message),o(t)}),r.once("close",o),r.stdin.on("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:a},"Error occurred when piping message %s to sendmail. %s",a,e.message),o(e)});let t=[].concat(s.to||[]);t.length>3&&t.push("...and "+t.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:a},"Sending message %s to <%s>",a,t.join(", "));let i=e.message.createReadStream();i.once("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:a},"Error occurred when generating message %s. %s",a,e.message),r.kill("SIGINT"),o(e)}),i.pipe(r.stdin)}}}},11152,(e,t,i)=>{"use strict";let r=e.r(63818),n=e.r(14173);t.exports=class{constructor(e){e=e||{},this.options=e||{},this.name="StreamTransport",this.version=r.version,this.logger=n.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())}send(e,t){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),r=e.message.messageId(),n=[].concat(i.to||[]);n.length>3&&n.push("...and "+n.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:r},"Sending message %s to <%s> using %s line breaks",r,n.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let i;try{i=e.message.createReadStream()}catch(e){return this.logger.error({err:e,tnx:"send",messageId:r},"Creating send stream failed for %s. %s",r,e.message),t(e)}if(!this.options.buffer)return i.once("error",e=>{this.logger.error({err:e,tnx:"send",messageId:r},"Failed creating message for %s. %s",r,e.message)}),t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:r,message:i});let n=[],s=0;i.on("readable",()=>{let e;for(;null!==(e=i.read());)n.push(e),s+=e.length}),i.once("error",e=>(this.logger.error({err:e,tnx:"send",messageId:r},"Failed creating message for %s. %s",r,e.message),t(e))),i.on("end",()=>t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:r,message:Buffer.concat(n,s)}))})}}},18766,(e,t,i)=>{"use strict";let r=e.r(63818),n=e.r(14173);t.exports=class{constructor(e){e=e||{},this.options=e||{},this.name="JSONTransport",this.version=r.version,this.logger=n.getLogger(this.options,{component:this.options.component||"json-transport"})}send(e,t){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),r=e.message.messageId(),n=[].concat(i.to||[]);n.length>3&&n.push("...and "+n.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:r},"Composing JSON structure of %s to <%s>",r,n.join(", ")),setImmediate(()=>{e.normalize((e,n)=>e?(this.logger.error({err:e,tnx:"send",messageId:r},"Failed building JSON structure for %s. %s",r,e.message),t(e)):(delete n.envelope,delete n.normalizedHeaders,t(null,{envelope:i,messageId:r,message:this.options.skipEncoding?n:JSON.stringify(n)})))})}}},97611,(e,t,i)=>{"use strict";let r=e.r(27699),n=e.r(63818),s=e.r(14173),a=e.r(74133),o=e.r(97676);t.exports=class extends r{constructor(e){super(),e=e||{},this.options=e||{},this.ses=this.options.SES,this.name="SESTransport",this.version=n.version,this.logger=s.getLogger(this.options,{component:this.options.component||"ses-transport"})}getRegion(e){return this.ses.sesClient.config&&"function"==typeof this.ses.sesClient.config.region?this.ses.sesClient.config.region().then(t=>e(null,t)).catch(t=>e(t)):e(null,!1)}send(e,t){let i={ts:Date.now(),pending:!0},r=e.message._headers.find(e=>/^from$/i.test(e.key));if(r){let e=new o("text/plain");r=e._convertAddresses(e._parseAddresses(r.value))}let n=e.data.envelope||e.message.getEnvelope(),s=e.message.messageId(),l=[].concat(n.to||[]);l.length>3&&l.push("...and "+l.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:s},"Sending message %s to <%s>",s,l.join(", ")),setImmediate(()=>{var o;let l,c,p,u;return o=(a,o)=>{if(a)return this.logger.error({err:a,tnx:"send",messageId:s},"Failed creating message for %s. %s",s,a.message),i.pending=!1,t(a);let l={Content:{Raw:{Data:o}},FromEmailAddress:r||n.from,Destination:{ToAddresses:n.to}};Object.keys(e.data.ses||{}).forEach(t=>{l[t]=e.data.ses[t]}),this.getRegion((e,r)=>{(e||!r)&&(r="us-east-1");let a=new this.ses.SendEmailCommand(l);this.ses.sesClient.send(a).then(e=>{"us-east-1"===r&&(r="email"),i.pending=!0,t(null,{envelope:{from:n.from,to:n.to},messageId:"<"+e.MessageId+(/@/.test(e.MessageId)?"":"@"+r+".amazonses.com")+">",response:e.MessageId,raw:o})}).catch(e=>{this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",s,e.message),i.pending=!1,t(e)})})},e.data._dkim||(e.data._dkim={}),e.data._dkim.skipFields&&"string"==typeof e.data._dkim.skipFields?e.data._dkim.skipFields+=":date:message-id":e.data._dkim.skipFields="date:message-id",c=(l=e.message.createReadStream()).pipe(new a),p=[],u=0,void(c.on("readable",()=>{let e;for(;null!==(e=c.read());)p.push(e),u+=e.length}),l.once("error",e=>c.emit("error",e)),c.once("error",e=>{o(e)}),c.once("end",()=>o(null,Buffer.concat(p,u))))})}verify(e){let t;e||(t=new Promise((t,i)=>{e=s.callbackPromise(t,i)}));let i=t=>t&&!["InvalidParameterValue","MessageRejected"].includes(t.code||t.Code||t.name)?e(t):e(null,!0),r={Content:{Raw:{Data:Buffer.from("From: <invalid@invalid>\r\nTo: <invalid@invalid>\r\n Subject: Invalid\r\n\r\nInvalid")}},FromEmailAddress:"invalid@invalid",Destination:{ToAddresses:["invalid@invalid"]}};return this.getRegion((e,t)=>{(e||!t)&&(t="us-east-1");let n=new this.ses.SendEmailCommand(r);this.ses.sesClient.send(n).then(e=>i(null,e)).catch(e=>i(e))}),t}}},29508,(e,t,i)=>{"use strict";let r=e.r(98267),n=e.r(14173),s=e.r(70027),a=e.r(88312),o=e.r(36047),l=e.r(11152),c=e.r(18766),p=e.r(97611),u=e.r(13970),d=e.r(63818),h=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),f=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),m=(process.env.ETHEREAL_API_KEY||"").replace(/\s*/g,"")||null,g=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),v=!1;t.exports.createTransport=function(e,t){let i,u;if("object"==typeof e&&"function"!=typeof e.send||"string"==typeof e&&/^(smtps?|direct):/i.test(e))if((u=(i="string"==typeof e?e:e.url)?n.parseConnectionUrl(i):e).pool)e=new s(u);else if(u.sendmail)e=new o(u);else if(u.streamTransport)e=new l(u);else if(u.jsonTransport)e=new c(u);else if(u.SES){if(u.SES.ses&&u.SES.aws){let e=Error("Using legacy SES configuration, expecting @aws-sdk/client-sesv2, see https://nodemailer.com/transports/ses/");throw e.code="LegacyConfig",e}e=new p(u)}else e=new a(u);return new r(e,u,t)},t.exports.createTestAccount=function(e,t){let i;if(t||"function"!=typeof e||(t=e,e=!1),t||(i=new Promise((e,i)=>{t=n.callbackPromise(e,i)})),g&&v)return setImmediate(()=>t(null,v)),i;e=e||h;let r=[],s=0,a={},o={requestor:d.name,version:d.version};m&&(a.Authorization="Bearer "+m);let l=u(e+"/user",{contentType:"application/json",method:"POST",headers:a,body:Buffer.from(JSON.stringify(o))});return l.on("readable",()=>{let e;for(;null!==(e=l.read());)r.push(e),s+=e.length}),l.once("error",e=>t(e)),l.once("end",()=>{let e,i,n=Buffer.concat(r,s);try{e=JSON.parse(n.toString())}catch(e){i=e}return i?t(i):"success"!==e.status||e.error?t(Error(e.error||"Request failed")):void(delete e.status,t(null,v=e))}),i},t.exports.getTestMessageUrl=function(e){if(!e||!e.response)return!1;let t=new Map;return e.response.replace(/\[([^\]]+)\]$/,(e,i)=>{i.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(e,i,r)=>{t.set(i,r)})}),!!(t.has("STATUS")&&t.has("MSGID"))&&(v.web||f)+"/message/"+t.get("MSGID")}},10044,e=>{"use strict";let t,i,r,n,s,a;var o,l,c,p,u,d,h,f,m=e.i(47909),g=((ti={}).PAGES="PAGES",ti.PAGES_API="PAGES_API",ti.APP_PAGE="APP_PAGE",ti.APP_ROUTE="APP_ROUTE",ti.IMAGE="IMAGE",ti),v=((tr=v||{}).handleRequest="BaseServer.handleRequest",tr.run="BaseServer.run",tr.pipe="BaseServer.pipe",tr.getStaticHTML="BaseServer.getStaticHTML",tr.render="BaseServer.render",tr.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",tr.renderToResponse="BaseServer.renderToResponse",tr.renderToHTML="BaseServer.renderToHTML",tr.renderError="BaseServer.renderError",tr.renderErrorToResponse="BaseServer.renderErrorToResponse",tr.renderErrorToHTML="BaseServer.renderErrorToHTML",tr.render404="BaseServer.render404",tr),y=((tn=y||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",tn.loadComponents="LoadComponents.loadComponents",tn),b=((ts=b||{}).getRequestHandler="NextServer.getRequestHandler",ts.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",ts.getServer="NextServer.getServer",ts.getServerRequestHandler="NextServer.getServerRequestHandler",ts.createServer="createServer.createServer",ts),x=((ta=x||{}).compression="NextNodeServer.compression",ta.getBuildId="NextNodeServer.getBuildId",ta.createComponentTree="NextNodeServer.createComponentTree",ta.clientComponentLoading="NextNodeServer.clientComponentLoading",ta.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",ta.generateStaticRoutes="NextNodeServer.generateStaticRoutes",ta.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",ta.generatePublicRoutes="NextNodeServer.generatePublicRoutes",ta.generateImageRoutes="NextNodeServer.generateImageRoutes.route",ta.sendRenderResult="NextNodeServer.sendRenderResult",ta.proxyRequest="NextNodeServer.proxyRequest",ta.runApi="NextNodeServer.runApi",ta.render="NextNodeServer.render",ta.renderHTML="NextNodeServer.renderHTML",ta.imageOptimizer="NextNodeServer.imageOptimizer",ta.getPagePath="NextNodeServer.getPagePath",ta.getRoutesManifest="NextNodeServer.getRoutesManifest",ta.findPageComponents="NextNodeServer.findPageComponents",ta.getFontManifest="NextNodeServer.getFontManifest",ta.getServerComponentManifest="NextNodeServer.getServerComponentManifest",ta.getRequestHandler="NextNodeServer.getRequestHandler",ta.renderToHTML="NextNodeServer.renderToHTML",ta.renderError="NextNodeServer.renderError",ta.renderErrorToHTML="NextNodeServer.renderErrorToHTML",ta.render404="NextNodeServer.render404",ta.startResponse="NextNodeServer.startResponse",ta.route="route",ta.onProxyReq="onProxyReq",ta.apiResolver="apiResolver",ta.internalFetch="internalFetch",ta),_=((to=_||{}).startServer="startServer.startServer",to),w=((tl=w||{}).getServerSideProps="Render.getServerSideProps",tl.getStaticProps="Render.getStaticProps",tl.renderToString="Render.renderToString",tl.renderDocument="Render.renderDocument",tl.createBodyResult="Render.createBodyResult",tl),S=((tc=S||{}).renderToString="AppRender.renderToString",tc.renderToReadableStream="AppRender.renderToReadableStream",tc.getBodyResult="AppRender.getBodyResult",tc.fetch="AppRender.fetch",tc),E=((tp=E||{}).executeRoute="Router.executeRoute",tp),T=((tu=T||{}).runHandler="Node.runHandler",tu),k=((td=k||{}).runHandler="AppRouteRouteHandlers.runHandler",td),A=((th=A||{}).generateMetadata="ResolveMetadata.generateMetadata",th.generateViewport="ResolveMetadata.generateViewport",th),P=((tf=P||{}).execute="Middleware.execute",tf);let C=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),O=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]),R=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(70406)}catch(i){t=e.r(17413)}let{context:N,propagation:I,trace:L,SpanStatusCode:j,SpanKind:M,ROOT_CONTEXT:D}=t;class B extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let U=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof B&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:j.ERROR,message:null==t?void 0:t.message})),e.end()},q=new Map,$=t.createContextKey("next.rootSpanId"),F=0,z={set(e,t,i){e.push({key:t,value:i})}},H=(a=new class e{getTracerInstance(){return L.getTracer("next.js","0.0.1")}getContext(){return N}getTracePropagationData(){let e=N.active(),t=[];return I.inject(e,t,z),t}getActiveScopeSpan(){return L.getSpan(null==N?void 0:N.active())}withPropagatedContext(e,t,i){let r=N.active();if(L.getSpanContext(r))return t();let n=I.extract(r,e,i);return N.with(n,t)}trace(...e){let[t,i,r]=e,{fn:n,options:s}="function"==typeof i?{fn:i,options:{}}:{fn:r,options:{...i}},a=s.spanName??t;if(!C.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||s.hideSpan)return n();let o=this.getSpanContext((null==s?void 0:s.parentSpan)??this.getActiveScopeSpan());o||(o=(null==N?void 0:N.active())??D);let l=o.getValue($),c="number"!=typeof l||!q.has(l),p=F++;return s.attributes={"next.span_name":a,"next.span_type":t,...s.attributes},N.with(o.setValue($,p),()=>this.getTracerInstance().startActiveSpan(a,s,e=>{let i;R&&t&&O.has(t)&&(i="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let r=!1,a=()=>{!r&&(r=!0,q.delete(p),i&&performance.measure(`${R}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:i,end:performance.now()}))};if(c&&q.set(p,new Map(Object.entries(s.attributes??{}))),n.length>1)try{return n(e,t=>U(e,t))}catch(t){throw U(e,t),t}finally{a()}try{let t=n(e);if(null!==t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then)return t.then(t=>(e.end(),t)).catch(t=>{throw U(e,t),t}).finally(a);return e.end(),a(),t}catch(t){throw U(e,t),a(),t}}))}wrap(...e){let t=this,[i,r,n]=3===e.length?e:[e[0],{},e[1]];return C.has(i)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=r;"function"==typeof e&&"function"==typeof n&&(e=e.apply(this,arguments));let s=arguments.length-1,a=arguments[s];if("function"!=typeof a)return t.trace(i,e,()=>n.apply(this,arguments));{let r=t.getContext().bind(N.active(),a);return t.trace(i,e,(e,t)=>(arguments[s]=function(e){return null==t||t(e),r.apply(this,arguments)},n.apply(this,arguments)))}}:n}startSpan(...e){let[t,i]=e,r=this.getSpanContext((null==i?void 0:i.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,i,r)}getSpanContext(e){return e?L.setSpan(N.active(),e):void 0}getRootSpanAttributes(){let e=N.active().getValue($);return q.get(e)}setRootSpanAttribute(e,t){let i=N.active().getValue($),r=q.get(i);r&&!r.has(e)&&r.set(e,t)}},()=>a),Q="x-next-cache-tags",V={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};({...V,GROUP:{builtinReact:[V.reactServerComponents,V.actionBrowser],serverOnly:[V.reactServerComponents,V.actionBrowser,V.instrument,V.middleware],neutralTarget:[V.apiNode,V.apiEdge],clientOnly:[V.serverSideRendering,V.appPagesBrowser],bundled:[V.reactServerComponents,V.actionBrowser,V.serverSideRendering,V.appPagesBrowser,V.shared,V.instrument,V.middleware],appPages:[V.reactServerComponents,V.serverSideRendering,V.appPagesBrowser,V.actionBrowser]}});var G=e.i(47540);class Z extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest="DYNAMIC_SERVER_USAGE"}}class W extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}var K=e.i(32319),X=e.i(56704);class J extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest="HANGING_PROMISE_REJECTION"}}let Y=new WeakMap;function ee(e,t,i){if(e.aborted)return Promise.reject(new J(t,i));{let r=new Promise((r,n)=>{let s=n.bind(null,new J(t,i)),a=Y.get(e);if(a)a.push(s);else{let t=[s];Y.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return r.catch(et),r}}function et(){}class ei extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}let er="function"==typeof G.default.unstable_postpone;function en(e,t,i){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new W(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${i}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":var r,n,s;return r=e.route,n=i,s=t.dynamicTracking,void(function(){if(!er)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}(),s&&s.dynamicAccesses.push({stack:s.isDebugDynamicAccesses?Error().stack:void 0,expression:n}),G.default.unstable_postpone(es(r,n)));case"prerender-legacy":t.revalidate=0;let a=Object.defineProperty(new Z(`Route ${e.route} couldn't be rendered statically because it used ${i}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=i,e.dynamicUsageStack=a.stack,a}}}function es(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(!1===((tm=es("%%%","^^^")).includes("needs to bail out of prerendering at this point because it used")&&tm.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`);let ea=()=>{};function eo(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),n=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(n,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),i&&n.body&&i.register(n,new WeakRef(n.body));let s=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(s,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),[n,s]}globalThis.FinalizationRegistry&&(i=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&t.cancel("Response object has been garbage collected").then(ea)}));let el=new Set(["traceparent","tracestate"]);class ec{constructor(){let e,t;this.promise=new Promise((i,r)=>{e=i,t=r}),this.resolve=e,this.reject=t}}var ep=((tg={}).APP_PAGE="APP_PAGE",tg.APP_ROUTE="APP_ROUTE",tg.PAGES="PAGES",tg.FETCH="FETCH",tg.REDIRECT="REDIRECT",tg.IMAGE="IMAGE",tg),eu=((tv={}).APP_PAGE="APP_PAGE",tv.APP_ROUTE="APP_ROUTE",tv.PAGES="PAGES",tv.FETCH="FETCH",tv.IMAGE="IMAGE",tv);function ed(){}new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]);let eh=new TextEncoder;function ef(e){return new ReadableStream({start(t){t.enqueue(eh.encode(e)),t.close()}})}function em(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function eg(e,t){let i=new TextDecoder("utf-8",{fatal:!0}),r="";for await(let n of e){if(null==t?void 0:t.aborted)return r;r+=i.decode(n,{stream:!0})}return r+i.decode()}let ev=Symbol.for("NextInternalRequestMeta");function ey(e,t){let i=e[ev]||{};return"string"==typeof t?i[t]:i}function eb(e){let t=new Headers;for(let[i,r]of Object.entries(e))for(let e of Array.isArray(r)?r:[r])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(i,e));return t}function ex(e){var t,i,r,n,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(i=e.charAt(o))){for(r=o,o+=1,l(),n=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=n,a.push(e.substring(t,r)),t=o):o=r+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function e_(e){let t={},i=[];if(e)for(let[r,n]of e.entries())"set-cookie"===r.toLowerCase()?(i.push(...ex(n)),t[r]=1===i.length?i[0]:i):t[r]=n;return t}function ew(e){return e.replace(/\/$/,"")||"/"}function eS(e){let t=e.indexOf("#"),i=e.indexOf("?"),r=i>-1&&(t<0||i<t);return r||t>-1?{pathname:e.substring(0,r?i:t),query:r?e.substring(i,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function eE(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:r,hash:n}=eS(e);return`${t}${i}${r}${n}`}function eT(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:r,hash:n}=eS(e);return`${i}${t}${r}${n}`}function ek(e,t){if("string"!=typeof e)return!1;let{pathname:i}=eS(e);return i===t||i.startsWith(t+"/")}let eA=new WeakMap;function eP(e,t){let i;if(!t)return{pathname:e};let r=eA.get(t);r||(r=t.map(e=>e.toLowerCase()),eA.set(t,r));let n=e.split("/",2);if(!n[1])return{pathname:e};let s=n[1].toLowerCase(),a=r.indexOf(s);return a<0?{pathname:e}:(i=t[a],{pathname:e=e.slice(i.length+1)||"/",detectedLocale:i})}let eC=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function eO(e,t){return new URL(String(e).replace(eC,"localhost"),t&&String(t).replace(eC,"localhost"))}let eR=Symbol("NextURLInternal");class eN{constructor(e,t,i){let r,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(r=t,n=i||{}):n=i||t||{},this[eR]={url:eO(e,r??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,i,r,n;let s=function(e,t){let{basePath:i,i18n:r,trailingSlash:n}=t.nextConfig??{},s={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):n};i&&ek(s.pathname,i)&&(s.pathname=function(e,t){if(!ek(e,t))return e;let i=e.slice(t.length);return i.startsWith("/")?i:`/${i}`}(s.pathname,i),s.basePath=i);let a=s.pathname;if(s.pathname.startsWith("/_next/data/")&&s.pathname.endsWith(".json")){let e=s.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");s.buildId=e[0],a="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(s.pathname=a)}if(r){let e=t.i18nProvider?t.i18nProvider.analyze(s.pathname):eP(s.pathname,r.locales);s.locale=e.detectedLocale,s.pathname=e.pathname??s.pathname,!e.detectedLocale&&s.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(a):eP(a,r.locales)).detectedLocale&&(s.locale=e.detectedLocale)}return s}(this[eR].url.pathname,{nextConfig:this[eR].options.nextConfig,parseData:!0,i18nProvider:this[eR].options.i18nProvider}),a=function(e,t){let i;if(t?.host&&!Array.isArray(t.host))i=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;i=e.hostname}return i.toLowerCase()}(this[eR].url,this[eR].options.headers);this[eR].domainLocale=this[eR].options.i18nProvider?this[eR].options.i18nProvider.detectDomainLocale(a):function(e,t,i){if(e){for(let r of(i&&(i=i.toLowerCase()),e))if(t===r.domain?.split(":",1)[0].toLowerCase()||i===r.defaultLocale.toLowerCase()||r.locales?.some(e=>e.toLowerCase()===i))return r}}(null==(t=this[eR].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,a);let o=(null==(i=this[eR].domainLocale)?void 0:i.defaultLocale)||(null==(n=this[eR].options.nextConfig)||null==(r=n.i18n)?void 0:r.defaultLocale);this[eR].url.pathname=s.pathname,this[eR].defaultLocale=o,this[eR].basePath=s.basePath??"",this[eR].buildId=s.buildId,this[eR].locale=s.locale??o,this[eR].trailingSlash=s.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,i,r){if(!t||t===i)return e;let n=e.toLowerCase();return!r&&(ek(n,"/api")||ek(n,`/${t.toLowerCase()}`))?e:eE(e,`/${t}`)}((e={basePath:this[eR].basePath,buildId:this[eR].buildId,defaultLocale:this[eR].options.forceLocale?void 0:this[eR].defaultLocale,locale:this[eR].locale,pathname:this[eR].url.pathname,trailingSlash:this[eR].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=ew(t)),e.buildId&&(t=eT(eE(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=eE(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:eT(t,"/"):ew(t)}formatSearch(){return this[eR].url.search}get buildId(){return this[eR].buildId}set buildId(e){this[eR].buildId=e}get locale(){return this[eR].locale??""}set locale(e){var t,i;if(!this[eR].locale||!(null==(i=this[eR].options.nextConfig)||null==(t=i.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[eR].locale=e}get defaultLocale(){return this[eR].defaultLocale}get domainLocale(){return this[eR].domainLocale}get searchParams(){return this[eR].url.searchParams}get host(){return this[eR].url.host}set host(e){this[eR].url.host=e}get hostname(){return this[eR].url.hostname}set hostname(e){this[eR].url.hostname=e}get port(){return this[eR].url.port}set port(e){this[eR].url.port=e}get protocol(){return this[eR].url.protocol}set protocol(e){this[eR].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[eR].url=eO(e),this.analyze()}get origin(){return this[eR].url.origin}get pathname(){return this[eR].url.pathname}set pathname(e){this[eR].url.pathname=e}get hash(){return this[eR].url.hash}set hash(e){this[eR].url.hash=e}get search(){return this[eR].url.search}set search(e){this[eR].url.search=e}get password(){return this[eR].url.password}set password(e){this[eR].url.password=e}get username(){return this[eR].url.username}set username(e){this[eR].url.username=e}get basePath(){return this[eR].basePath}set basePath(e){this[eR].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new eN(String(this),this[eR].options)}}class eI extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class eL extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}var ej=e.i(19481);let eM=Symbol("internal request");class eD extends Request{constructor(e,t={}){const i="string"!=typeof e&&"url"in e?e.url:String(e);!function(e){try{String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}(i),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(i,t);const r=new eN(i,{headers:e_(this.headers),nextConfig:t.nextConfig});this[eM]={cookies:new ej.RequestCookies(this.headers),nextUrl:r,url:r.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[eM].cookies}get nextUrl(){return this[eM].nextUrl}get page(){throw new eI}get ua(){throw new eL}get url(){return this[eM].url}}let eB="ResponseAborted";class eU extends Error{constructor(...e){super(...e),this.name=eB}}function eq(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new eU)}),t}class e${static fromBaseNextRequest(e,t){return e$.fromNodeNextRequest(e,t)}static fromNodeNextRequest(e,t){let i,r=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(r=e.body),e.url.startsWith("http"))i=new URL(e.url);else{let t=ey(e,"initURL");i=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new eD(i,{method:e.method,headers:eb(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:r}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new eD(e.url,{method:e.method,headers:eb(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}let eF=0,ez=0,eH=0;function eQ(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===eB}async function eV(e,t,i){try{let{errored:r,destroyed:n}=t;if(r||n)return;let s=eq(t),a=function(e,t){let i=!1,r=new ec;function n(){r.resolve()}e.on("drain",n),e.once("close",()=>{e.off("drain",n),r.resolve()});let s=new ec;return e.once("finish",()=>{s.resolve()}),new WritableStream({write:async t=>{if(!i){if(i=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=function(e={}){let t=0===eF?void 0:{clientComponentLoadStart:eF,clientComponentLoadTimes:ez,clientComponentLoadCount:eH};return e.reset&&(eF=0,ez=0,eH=0),t}();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),H().trace(x.startResponse,{spanName:"start response"},()=>void 0)}try{let i=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),i||(await r.promise,r=new ec)}catch(t){throw e.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),s.promise}})}(t,i);await e.pipeTo(a,{signal:s.signal})}catch(e){if(eQ(e))return;throw Object.defineProperty(Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}class eG{static #e=this.EMPTY=new eG(null,{metadata:{},contentType:null});static fromStatic(e,t){return new eG(e,{metadata:{},contentType:t})}constructor(e,{contentType:t,waitUntil:i,metadata:r}){this.response=e,this.contentType=t,this.metadata=r,this.waitUntil=i}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(e=!1){if(null===this.response)return"";if("string"!=typeof this.response){if(!e)throw Object.defineProperty(new ei("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return eg(this.readable)}return this.response}get readable(){return null===this.response?new ReadableStream({start(e){e.close()}}):"string"==typeof this.response?ef(this.response):Buffer.isBuffer(this.response)?em(this.response):Array.isArray(this.response)?function(...e){if(0===e.length)return new ReadableStream({start(e){e.close()}});if(1===e.length)return e[0];let{readable:t,writable:i}=new TransformStream,r=e[0].pipeTo(i,{preventClose:!0}),n=1;for(;n<e.length-1;n++){let t=e[n];r=r.then(()=>t.pipeTo(i,{preventClose:!0}))}let s=e[n];return(r=r.then(()=>s.pipeTo(i))).catch(ed),t}(...this.response):this.response}coerce(){return null===this.response?[]:"string"==typeof this.response?[ef(this.response)]:Array.isArray(this.response)?this.response:Buffer.isBuffer(this.response)?[em(this.response)]:[this.response]}unshift(e){this.response=this.coerce(),this.response.unshift(e)}push(e){this.response=this.coerce(),this.response.push(e)}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if(eQ(t))return void await e.abort(t);throw t}}async pipeToNodeResponse(e){await eV(this.readable,e,this.waitUntil)}}let eZ=Symbol.for("next-patch");function eW(e,t){e.shouldTrackFetchMetrics&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}async function eK(e,t,i,r,n,s){let a=await e.arrayBuffer(),o={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(a).toString("base64"),status:e.status,url:e.url};return i&&await r.set(t,{kind:ep.FETCH,data:o,revalidate:n},i),await s(),new Response(a,{headers:e.headers,status:e.status,statusText:e.statusText})}async function eX(e,t,i,r,n,s,a,o,l){let[c,p]=eo(t),u=c.arrayBuffer().then(async e=>{let t=Buffer.from(e),o={headers:Object.fromEntries(c.headers.entries()),body:t.toString("base64"),status:c.status,url:c.url};null==s||s.set(i,o),r&&await n.set(i,{kind:ep.FETCH,data:o,revalidate:a},r)}).catch(e=>console.warn("Failed to set fetch cache",o,e)).finally(l),d=`cache-set-${i}`;return e.pendingRevalidates??={},d in e.pendingRevalidates&&await e.pendingRevalidates[d],e.pendingRevalidates[d]=u.finally(()=>{var t;(null==(t=e.pendingRevalidates)?void 0:t[d])&&delete e.pendingRevalidates[d]}),p}let eJ=null;function eY(e){var t;return(t=e.split("/").reduce((e,t,i,r)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&i===r.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?t:`/${t}`}let e0=Symbol.for("next.server.action-manifests");class e1{static get(e,t,i){let r=Reflect.get(e,t,i);return"function"==typeof r?r.bind(e):r}static set(e,t,i,r){return Reflect.set(e,t,i,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}class e2 extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new e2}}class e6 extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,i,r){if("symbol"==typeof i)return e1.get(t,i,r);let n=i.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===n);if(void 0!==s)return e1.get(t,s,r)},set(t,i,r,n){if("symbol"==typeof i)return e1.set(t,i,r,n);let s=i.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);return e1.set(t,a??i,r,n)},has(t,i){if("symbol"==typeof i)return e1.has(t,i);let r=i.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===r);return void 0!==n&&e1.has(t,n)},deleteProperty(t,i){if("symbol"==typeof i)return e1.deleteProperty(t,i);let r=i.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===r);return void 0===n||e1.deleteProperty(t,n)}})}static seal(e){return new Proxy(e,{get(e,t,i){switch(t){case"append":case"delete":case"set":return e2.callable;default:return e1.get(e,t,i)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new e6(e)}append(e,t){let i=this.headers[e];"string"==typeof i?this.headers[e]=[i,t]:Array.isArray(i)?i.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[i,r]of this.entries())e.call(t,r,i,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),i=this.get(t);yield[t,i]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}Symbol("__next_preview_data");let e4=Symbol("__prerender_bypass");var e3=((ty={})[ty.SeeOther=303]="SeeOther",ty[ty.TemporaryRedirect=307]="TemporaryRedirect",ty[ty.PermanentRedirect=308]="PermanentRedirect",ty);class e5{constructor(e,t,i){this.method=e,this.url=t,this.body=i}get cookies(){var t;return this._cookies?this._cookies:this._cookies=(t=this.headers,function(){let{cookie:i}=t;if(!i)return{};let{parse:r}=e.r(93118);return r(Array.isArray(i)?i.join("; "):i)})()}}class e8{constructor(e){this.destination=e}redirect(e,t){return this.setHeader("Location",e),this.statusCode=t,t===e3.PermanentRedirect&&this.setHeader("Refresh",`0;url=${e}`),this}}class e9 extends e5{static #e=ev;constructor(e){var t;super(e.method.toUpperCase(),e.url,e),this._req=e,this.headers=this._req.headers,this.fetchMetrics=null==(t=this._req)?void 0:t.fetchMetrics,this[ev]=this._req[ev]||{},this.streaming=!1}get originalRequest(){return this._req[ev]=this[ev],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(e){this._req=e}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:e=>{this._req.on("data",t=>{e.enqueue(new Uint8Array(t))}),this._req.on("end",()=>{e.close()}),this._req.on("error",t=>{e.error(t)})}})}}class e7 extends e8{get originalResponse(){return e4 in this&&(this._res[e4]=this[e4]),this._res}constructor(e){super(e),this._res=e,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(e){this._res.statusCode=e}get statusMessage(){return this._res.statusMessage}set statusMessage(e){this._res.statusMessage=e}setHeader(e,t){return this._res.setHeader(e,t),this}removeHeader(e){return this._res.removeHeader(e),this}getHeaderValues(e){let t=this._res.getHeader(e);if(void 0!==t)return(Array.isArray(t)?t:[t]).map(e=>e.toString())}hasHeader(e){return this._res.hasHeader(e)}getHeader(e){let t=this.getHeaderValues(e);return Array.isArray(t)?t.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(e,t){let i=this.getHeaderValues(e)??[];return i.includes(t)||this._res.setHeader(e,[...i,t]),this}body(e){return this.textBody=e,this}send(){this._res.end(this.textBody)}onClose(e){this.originalResponse.on("close",e)}}function te(e){return e.isOnDemandRevalidate?"on-demand":e.isStaticGeneration?"stale":void 0}async function tt(e,t,i,r){{var n;t.statusCode=i.status,t.statusMessage=i.statusText;let s=["set-cookie","www-authenticate","proxy-authenticate","vary"];null==(n=i.headers)||n.forEach((e,i)=>{if("x-middleware-set-cookie"!==i.toLowerCase())if("set-cookie"===i.toLowerCase())for(let r of ex(e))t.appendHeader(i,r);else{let r=void 0!==t.getHeader(i);(s.includes(i.toLowerCase())||!r)&&t.appendHeader(i,e)}});let{originalResponse:a}=t;i.body&&"HEAD"!==e.method?await eV(i.body,a,r):a.end()}}var ti,tr,tn,ts,ta,to,tl,tc,tp,tu,td,th,tf,tm,tg,tv,ty,tb,tx,t_,tw,tS,tE=e.i(93695),tT=e.i(89171),tk=Object.create,tA=Object.defineProperty,tP=Object.getOwnPropertyDescriptor,tC=Object.getOwnPropertyNames,tO=Object.getPrototypeOf,tR=Object.prototype.hasOwnProperty,tN=(e,t)=>tA(e,"name",{value:t,configurable:!0}),tI=(e,t)=>()=>(e&&(t=e(e=0)),t),tL=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),tj=(e,t)=>{for(var i in t)tA(e,i,{get:t[i],enumerable:!0})},tM=(e,t,i,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of tC(t))tR.call(e,n)||n===i||tA(e,n,{get:()=>t[n],enumerable:!(r=tP(t,n))||r.enumerable});return e},tD=(e,t,i)=>(i=null!=e?tk(tO(e)):{},tM(!t&&e&&e.__esModule?i:tA(i,"default",{value:e,enumerable:!0}),e)),tB=e=>tM(tA({},"__esModule",{value:!0}),e),tU=(e,t,i)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?tA(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i},tq=tL(e=>{tz(),e.byteLength=l,e.toByteArray=p,e.fromByteArray=h;var t,i,r=[],n=[],s="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,i=a.length;t<i;++t)r[t]=a[t],n[a.charCodeAt(t)]=t;function o(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var r=i===t?0:4-i%4;return[i,r]}function l(e){var t=o(e),i=t[0],r=t[1];return(i+r)*3/4-r}function c(e,t,i){return(t+i)*3/4-i}function p(e){var t,i,r=o(e),a=r[0],l=r[1],p=new s(c(e,a,l)),u=0,d=l>0?a-4:a;for(i=0;i<d;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],p[u++]=t>>16&255,p[u++]=t>>8&255,p[u++]=255&t;return 2===l&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,p[u++]=255&t),1===l&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,p[u++]=t>>8&255,p[u++]=255&t),p}function u(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,i){for(var r=[],n=t;n<i;n+=3)r.push(u((e[n]<<16&0xff0000)+(e[n+1]<<8&65280)+(255&e[n+2])));return r.join("")}function h(e){for(var t,i=e.length,n=i%3,s=[],a=0,o=i-n;a<o;a+=16383)s.push(d(e,a,a+16383>o?o:a+16383));return 1===n?s.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===n&&s.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")}n[45]=62,n[95]=63,tN(o,"getLens"),tN(l,"byteLength"),tN(c,"_byteLength"),tN(p,"toByteArray"),tN(u,"tripletToBase64"),tN(d,"encodeChunk"),tN(h,"fromByteArray")}),t$=tL(e=>{tz(),e.read=function(e,t,i,r,n){var s,a,o=8*n-r-1,l=(1<<o)-1,c=l>>1,p=-7,u=i?n-1:0,d=i?-1:1,h=e[t+u];for(u+=d,s=h&(1<<-p)-1,h>>=-p,p+=o;p>0;s=256*s+e[t+u],u+=d,p-=8);for(a=s&(1<<-p)-1,s>>=-p,p+=r;p>0;a=256*a+e[t+u],u+=d,p-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),s-=c}return(h?-1:1)*a*Math.pow(2,s-r)},e.write=function(e,t,i,r,n,s){var a,o,l,c=8*s-n-1,p=(1<<c)-1,u=p>>1,d=5960464477539062e-23*(23===n),h=r?0:s-1,f=r?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+u>=1?t+=d/l:t+=d*Math.pow(2,1-u),t*l>=2&&(a++,l/=2),a+u>=p?(o=0,a=p):a+u>=1?(o=(t*l-1)*Math.pow(2,n),a+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,n),a=0));n>=8;e[i+h]=255&o,h+=f,o/=256,n-=8);for(a=a<<n|o,c+=n;c>0;e[i+h]=255&a,h+=f,a/=256,c-=8);e[i+h-f]|=128*m}}),tF=tL(e=>{tz();var t=tq(),i=t$(),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function n(){try{let e=new Uint8Array(1),t={foo:tN(function(){return 42},"foo")};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,i){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return p(e)}return o(e,t,i)}function o(e,t,i){if("string"==typeof e)return u(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ei(e,ArrayBuffer)||e&&ei(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(ei(e,SharedArrayBuffer)||e&&ei(e.buffer,SharedArrayBuffer)))return f(e,t,i);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,i);let n=m(e);if(n)return n;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e,t,i){return l(e),e<=0?s(e):void 0!==t?"string"==typeof i?s(e).fill(t,i):s(e).fill(t):s(e)}function p(e){return l(e),s(e<0?0:0|g(e))}function u(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let i=0|y(e,t),r=s(i),n=r.write(e,t);return n!==i&&(r=r.slice(0,n)),r}function d(e){let t=e.length<0?0:0|g(e.length),i=s(t);for(let r=0;r<t;r+=1)i[r]=255&e[r];return i}function h(e){if(ei(e,Uint8Array)){let t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}function f(e,t,i){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),a.prototype),r}function m(e){if(a.isBuffer(e)){let t=0|g(e.length),i=s(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||er(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}function g(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function v(e){return+e!=e&&(e=0),a.alloc(+e)}function y(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ei(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let i=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return ee(e).length;default:if(n)return r?-1:X(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,i){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,i);case"utf8":case"utf-8":return C(this,t,i);case"ascii":return R(this,t,i);case"latin1":case"binary":return N(this,t,i);case"base64":return P(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,i);default:if(r)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,i){let r=e[t];e[t]=e[i],e[i]=r}function _(e,t,i,r,n){if(0===e.length)return -1;if("string"==typeof i?(r=i,i=0):i>0x7fffffff?i=0x7fffffff:i<-0x80000000&&(i=-0x80000000),er(i*=1)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return -1;i=e.length-1}else if(i<0)if(!n)return -1;else i=0;if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:w(e,t,i,r,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):w(e,[t],i,r,n);throw TypeError("val must be string, number or Buffer")}function w(e,t,i,r,n){let s,a=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(tN(c,"read"),n){let r=-1;for(s=i;s<o;s++)if(c(e,s)===c(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===l)return r*a}else -1!==r&&(s-=s-r),r=-1}else for(i+l>o&&(i=o-l),s=i;s>=0;s--){let i=!0;for(let r=0;r<l;r++)if(c(e,s+r)!==c(t,r)){i=!1;break}if(i)return s}return -1}function S(e,t,i,r){let n;i=Number(i)||0;let s=e.length-i;r?(r=Number(r))>s&&(r=s):r=s;let a=t.length;for(r>a/2&&(r=a/2),n=0;n<r;++n){let r=parseInt(t.substr(2*n,2),16);if(er(r))break;e[i+n]=r}return n}function E(e,t,i,r){return et(X(t,e.length-i),e,i,r)}function T(e,t,i,r){return et(J(t),e,i,r)}function k(e,t,i,r){return et(ee(t),e,i,r)}function A(e,t,i,r){return et(Y(t,e.length-i),e,i,r)}function P(e,i,r){return 0===i&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(i,r))}function C(e,t,i){i=Math.min(e.length,i);let r=[],n=t;for(;n<i;){let t=e[n],s=null,a=t>239?4:t>223?3:t>191?2:1;if(n+a<=i){let i,r,o,l;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(i=e[n+1]))==128&&(l=(31&t)<<6|63&i)>127&&(s=l);break;case 3:i=e[n+1],r=e[n+2],(192&i)==128&&(192&r)==128&&(l=(15&t)<<12|(63&i)<<6|63&r)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:i=e[n+1],r=e[n+2],o=e[n+3],(192&i)==128&&(192&r)==128&&(192&o)==128&&(l=(15&t)<<18|(63&i)<<12|(63&r)<<6|63&o)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),n+=a}return O(r)}function O(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return i}function R(e,t,i){let r="";i=Math.min(e.length,i);for(let n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function N(e,t,i){let r="";i=Math.min(e.length,i);for(let n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function I(e,t,i){let r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);let n="";for(let r=t;r<i;++r)n+=en[e[r]];return n}function L(e,t,i){let r=e.slice(t,i),n="";for(let e=0;e<r.length-1;e+=2)n+=String.fromCharCode(r[e]+256*r[e+1]);return n}function j(e,t,i){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>i)throw RangeError("Trying to access beyond buffer length")}function M(e,t,i,r,n,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw RangeError('"value" argument is out of bounds');if(i+r>e.length)throw RangeError("Index out of range")}function D(e,t,i,r,n){V(t,r,n,e,i,7);let s=Number(t&BigInt(0xffffffff));e[i++]=s,s>>=8,e[i++]=s,s>>=8,e[i++]=s,s>>=8,e[i++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a,i}function B(e,t,i,r,n){V(t,r,n,e,i,7);let s=Number(t&BigInt(0xffffffff));e[i+7]=s,s>>=8,e[i+6]=s,s>>=8,e[i+5]=s,s>>=8,e[i+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[i+3]=a,a>>=8,e[i+2]=a,a>>=8,e[i+1]=a,a>>=8,e[i]=a,i+8}function U(e,t,i,r,n,s){if(i+r>e.length||i<0)throw RangeError("Index out of range")}function q(e,t,r,n,s){return t*=1,r>>>=0,s||U(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function $(e,t,r,n,s){return t*=1,r>>>=0,s||U(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}e.Buffer=a,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=n(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),tN(n,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:tN(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:tN(function(){if(a.isBuffer(this))return this.byteOffset},"get")}),tN(s,"createBuffer"),tN(a,"Buffer"),a.poolSize=8192,tN(o,"from"),a.from=function(e,t,i){return o(e,t,i)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),tN(l,"assertSize"),tN(c,"alloc"),a.alloc=function(e,t,i){return c(e,t,i)},tN(p,"allocUnsafe"),a.allocUnsafe=function(e){return p(e)},a.allocUnsafeSlow=function(e){return p(e)},tN(u,"fromString"),tN(d,"fromArrayLike"),tN(h,"fromArrayView"),tN(f,"fromArrayBuffer"),tN(m,"fromObject"),tN(g,"checked"),tN(v,"SlowBuffer"),a.isBuffer=tN(function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},"isBuffer"),a.compare=tN(function(e,t){if(ei(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),ei(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,r=t.length;for(let n=0,s=Math.min(i,r);n<s;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:+(r<i)},"compare"),a.isEncoding=tN(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=tN(function(e,t){let i;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let r=a.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){let t=e[i];if(ei(t,Uint8Array))n+t.length>r.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(r,n)):Uint8Array.prototype.set.call(r,t,n);else if(a.isBuffer(t))t.copy(r,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=t.length}return r},"concat"),tN(y,"byteLength"),a.byteLength=y,tN(b,"slowToString"),a.prototype._isBuffer=!0,tN(x,"swap"),a.prototype.swap16=tN(function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)x(this,t,t+1);return this},"swap16"),a.prototype.swap32=tN(function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},"swap32"),a.prototype.swap64=tN(function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},"swap64"),a.prototype.toString=tN(function(){let e=this.length;return 0===e?"":0==arguments.length?C(this,0,e):b.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=tN(function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},"equals"),a.prototype.inspect=tN(function(){let t="",i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},"inspect"),r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=tN(function(e,t,i,r,n){if(ei(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return -1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,n>>>=0,this===e)return 0;let s=n-r,o=i-t,l=Math.min(s,o),c=this.slice(r,n),p=e.slice(t,i);for(let e=0;e<l;++e)if(c[e]!==p[e]){s=c[e],o=p[e];break}return s<o?-1:+(o<s)},"compare"),tN(_,"bidirectionalIndexOf"),tN(w,"arrayIndexOf"),a.prototype.includes=tN(function(e,t,i){return -1!==this.indexOf(e,t,i)},"includes"),a.prototype.indexOf=tN(function(e,t,i){return _(this,e,t,i,!0)},"indexOf"),a.prototype.lastIndexOf=tN(function(e,t,i){return _(this,e,t,i,!1)},"lastIndexOf"),tN(S,"hexWrite"),tN(E,"utf8Write"),tN(T,"asciiWrite"),tN(k,"base64Write"),tN(A,"ucs2Write"),a.prototype.write=tN(function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return S(this,e,t,i);case"utf8":case"utf-8":return E(this,e,t,i);case"ascii":case"latin1":case"binary":return T(this,e,t,i);case"base64":return k(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,i);default:if(s)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},"write"),a.prototype.toJSON=tN(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON"),tN(P,"base64Slice"),tN(C,"utf8Slice"),tN(O,"decodeCodePointsArray"),tN(R,"asciiSlice"),tN(N,"latin1Slice"),tN(I,"hexSlice"),tN(L,"utf16leSlice"),a.prototype.slice=tN(function(e,t){let i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},"slice"),tN(j,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=tN(function(e,t,i){e>>>=0,t>>>=0,i||j(e,t,this.length);let r=this[e],n=1,s=0;for(;++s<t&&(n*=256);)r+=this[e+s]*n;return r},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=tN(function(e,t,i){e>>>=0,t>>>=0,i||j(e,t,this.length);let r=this[e+--t],n=1;for(;t>0&&(n*=256);)r+=this[e+--t]*n;return r},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=tN(function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=tN(function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=tN(function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=tN(function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=tN(function(e,t){return e>>>=0,t||j(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=es(tN(function(e){G(e>>>=0,"offset");let t=this[e],i=this[e+7];(void 0===t||void 0===i)&&Z(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],n=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*i;return BigInt(r)+(BigInt(n)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=es(tN(function(e){G(e>>>=0,"offset");let t=this[e],i=this[e+7];(void 0===t||void 0===i)&&Z(e,this.length-8);let r=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],n=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+i;return(BigInt(r)<<BigInt(32))+BigInt(n)},"readBigUInt64BE")),a.prototype.readIntLE=tN(function(e,t,i){e>>>=0,t>>>=0,i||j(e,t,this.length);let r=this[e],n=1,s=0;for(;++s<t&&(n*=256);)r+=this[e+s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},"readIntLE"),a.prototype.readIntBE=tN(function(e,t,i){e>>>=0,t>>>=0,i||j(e,t,this.length);let r=t,n=1,s=this[e+--r];for(;r>0&&(n*=256);)s+=this[e+--r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},"readIntBE"),a.prototype.readInt8=tN(function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},"readInt8"),a.prototype.readInt16LE=tN(function(e,t){e>>>=0,t||j(e,2,this.length);let i=this[e]|this[e+1]<<8;return 32768&i?0xffff0000|i:i},"readInt16LE"),a.prototype.readInt16BE=tN(function(e,t){e>>>=0,t||j(e,2,this.length);let i=this[e+1]|this[e]<<8;return 32768&i?0xffff0000|i:i},"readInt16BE"),a.prototype.readInt32LE=tN(function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE"),a.prototype.readInt32BE=tN(function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE"),a.prototype.readBigInt64LE=es(tN(function(e){G(e>>>=0,"offset");let t=this[e],i=this[e+7];return(void 0===t||void 0===i)&&Z(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(i<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])},"readBigInt64LE")),a.prototype.readBigInt64BE=es(tN(function(e){G(e>>>=0,"offset");let t=this[e],i=this[e+7];return(void 0===t||void 0===i)&&Z(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+i)},"readBigInt64BE")),a.prototype.readFloatLE=tN(function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=tN(function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=tN(function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=tN(function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!1,52,8)},"readDoubleBE"),tN(M,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=tN(function(e,t,i,r){if(e*=1,t>>>=0,i>>>=0,!r){let r=Math.pow(2,8*i)-1;M(this,e,t,i,r,0)}let n=1,s=0;for(this[t]=255&e;++s<i&&(n*=256);)this[t+s]=e/n&255;return t+i},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=tN(function(e,t,i,r){if(e*=1,t>>>=0,i>>>=0,!r){let r=Math.pow(2,8*i)-1;M(this,e,t,i,r,0)}let n=i-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+i},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,1,255,0),this[t]=255&e,t+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeUInt32BE"),tN(D,"wrtBigUInt64LE"),tN(B,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=es(tN(function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=es(tN(function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=tN(function(e,t,i,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*i-1);M(this,e,t,i,r-1,-r)}let n=0,s=1,a=0;for(this[t]=255&e;++n<i&&(s*=256);)e<0&&0===a&&0!==this[t+n-1]&&(a=1),this[t+n]=(e/s|0)-a&255;return t+i},"writeIntLE"),a.prototype.writeIntBE=tN(function(e,t,i,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*i-1);M(this,e,t,i,r-1,-r)}let n=i-1,s=1,a=0;for(this[t+n]=255&e;--n>=0&&(s*=256);)e<0&&0===a&&0!==this[t+n+1]&&(a=1),this[t+n]=(e/s|0)-a&255;return t+i},"writeIntBE"),a.prototype.writeInt8=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},"writeInt8"),a.prototype.writeInt16LE=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeInt16LE"),a.prototype.writeInt16BE=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeInt16BE"),a.prototype.writeInt32LE=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},"writeInt32LE"),a.prototype.writeInt32BE=tN(function(e,t,i){return e*=1,t>>>=0,i||M(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeInt32BE"),a.prototype.writeBigInt64LE=es(tN(function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=es(tN(function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE")),tN(U,"checkIEEE754"),tN(q,"writeFloat"),a.prototype.writeFloatLE=tN(function(e,t,i){return q(this,e,t,!0,i)},"writeFloatLE"),a.prototype.writeFloatBE=tN(function(e,t,i){return q(this,e,t,!1,i)},"writeFloatBE"),tN($,"writeDouble"),a.prototype.writeDoubleLE=tN(function(e,t,i){return $(this,e,t,!0,i)},"writeDoubleLE"),a.prototype.writeDoubleBE=tN(function(e,t,i){return $(this,e,t,!1,i)},"writeDoubleBE"),a.prototype.copy=tN(function(e,t,i,r){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);let n=r-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,r):Uint8Array.prototype.set.call(e,this.subarray(i,r),t),n},"copy"),a.prototype.fill=tN(function(e,t,i,r){let n;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw RangeError("Out of range index");if(i<=t)return this;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(n=t;n<i;++n)this[n]=e;else{let s=a.isBuffer(e)?e:a.from(e,r),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<i-t;++n)this[n+t]=s[n%o]}return this},"fill");var F={};function z(e,t,i){var r;F[e]=(tN(r=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}},"NodeError"),r)}function H(e){let t="",i=e.length,r=+("-"===e[0]);for(;i>=r+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}function Q(e,t,i){G(t,"offset"),(void 0===e[t]||void 0===e[t+i])&&Z(t,e.length-(i+1))}function V(e,t,i,r,n,s){if(e>i||e<t){let r="bigint"==typeof t?"n":"",n;throw n=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${(s+1)*8}${r}`:`>= -(2${r} ** ${(s+1)*8-1}${r}) and \
< 2 ** ${(s+1)*8-1}${r}`:`>= ${t}${r} and <= ${i}${r}`,new F.ERR_OUT_OF_RANGE("value",n,e)}Q(r,n,s)}function G(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function Z(e,t,i){throw Math.floor(e)!==e?(G(e,i),new F.ERR_OUT_OF_RANGE(i||"offset","an integer",e)):t<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE(i||"offset",`>= ${+!!i} and <= ${t}`,e)}tN(z,"E"),z("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argum\
ent must be of type number. Received type ${typeof t}`},TypeError),z("ERR_OUT_OF_RANGE",function(e,t,i){let r=`The value of "${e}" is out of range.`,n=i;return Number.isInteger(i)&&Math.abs(i)>0x100000000?n=H(String(i)):"bigint"==typeof i&&(n=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(n=H(n)),n+="n"),r+=` It\
 must be ${t}. Received ${n}`},RangeError),tN(H,"addNumericalSeparator"),tN(Q,"checkBounds"),tN(V,"checkIntBI"),tN(G,"validateNumber"),tN(Z,"boundsError");var W=/[^+/0-9A-Za-z-_]/g;function K(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function X(e,t){t=t||1/0;let i,r=e.length,n=null,s=[];for(let a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!n){if(i>56319||a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),n=i;continue}i=(n-55296<<10|i-56320)+65536}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return s}function J(e){let t=[];for(let i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function Y(e,t){let i,r,n=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=(i=e.charCodeAt(s))>>8,n.push(i%256),n.push(r);return n}function ee(e){return t.toByteArray(K(e))}function et(e,t,i,r){let n;for(n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}function ei(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function er(e){return e!=e}tN(K,"base64clean"),tN(X,"utf8ToBytes"),tN(J,"asciiToBytes"),tN(Y,"utf16leToBytes"),tN(ee,"base64ToBytes"),tN(et,"blitBuffer"),tN(ei,"isInstance"),tN(er,"numberIsNaN");var en=function(){let e="0123456789abcdef",t=Array(256);for(let i=0;i<16;++i){let r=16*i;for(let n=0;n<16;++n)t[r+n]=e[i]+e[n]}return t}();function es(e){return typeof BigInt>"u"?ea:e}function ea(){throw Error("BigInt not supported")}tN(es,"defineBigIntMethod"),tN(ea,"BufferBigIntNotDefined")}),tz=tI(()=>{tb=globalThis,tx=globalThis.setImmediate??(e=>setTimeout(e,0)),globalThis.clearImmediate??(e=>clearTimeout(e)),(t_=globalThis.crypto??{}).subtle??(t_.subtle={}),tw="function"==typeof globalThis.Buffer&&"function"==typeof globalThis.Buffer.allocUnsafe?globalThis.Buffer:tF().Buffer,(tS=globalThis.process??{}).env??(tS.env={});try{tS.nextTick(()=>{})}catch{let e=Promise.resolve();tS.nextTick=e.then.bind(e)}}),tH=tL((e,t)=>{tz();var i,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:tN(function(e,t,i){return Function.prototype.apply.call(e,t,i)},"ReflectApply");function s(e){console&&console.warn&&console.warn(e)}i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?tN(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):tN(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys"),tN(s,"ProcessEmitWarning");var a=Number.isNaN||tN(function(e){return e!=e},"NumberIsNaN");function o(){o.init.call(this)}tN(o,"EventEmitter"),t.exports=o,t.exports.once=b,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function p(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,i,r){var n,a,o;if(c(i),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),o=a[t]),void 0===o)o=a[t]=i,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[i,o]:[o,i]:r?o.unshift(i):o.push(i),(n=p(e))>0&&o.length>n&&!o.warned){o.warned=!0;var l=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s(l)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},n=d.bind(r);return n.listener=i,r.wrapFn=n,n}function f(e,t,i){var r=e._events;if(void 0===r)return[];var n=r[t];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?y(n):g(n,n.length)}function m(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function g(e,t){for(var i=Array(t),r=0;r<t;++r)i[r]=e[r];return i}function v(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function b(e,t){return new Promise(function(i,r){function n(i){e.removeListener(t,s),r(i)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",n),i([].slice.call(arguments))}tN(n,"errorListener"),tN(s,"resolver"),_(e,t,s,{once:!0}),"error"!==t&&x(e,n,{once:!0})})}function x(e,t,i){"function"==typeof e.on&&_(e,"error",t,i)}function _(e,t,i,r){if("function"==typeof e.on)r.once?e.once(t,i):e.on(t,i);else if("function"==typeof e.addEventListener)e.addEventListener(t,tN(function n(s){r.once&&e.removeEventListener(t,n),i(s)},"wrapListener"));else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}tN(c,"checkListener"),Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:tN(function(){return l},"get"),set:tN(function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e},"set")}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=tN(function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners"),tN(p,"_getMaxListeners"),o.prototype.getMaxListeners=tN(function(){return p(this)},"getMaxListeners"),o.prototype.emit=tN(function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,o=Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else for(var c=l.length,p=g(l,c),i=0;i<c;++i)n(p[i],this,t);return!0},"emit"),tN(u,"_addListener"),o.prototype.addListener=tN(function(e,t){return u(this,e,t,!1)},"addListener"),o.prototype.on=o.prototype.addListener,o.prototype.prependListener=tN(function(e,t){return u(this,e,t,!0)},"prependListener"),tN(d,"onceWrapper"),tN(h,"_onceWrap"),o.prototype.once=tN(function(e,t){return c(t),this.on(e,h(this,e,t)),this},"once"),o.prototype.prependOnceListener=tN(function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},"prependOnceListener"),o.prototype.removeListener=tN(function(e,t){var i,r,n,s,a;if(c(t),void 0===(r=this._events)||void 0===(i=r[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(n=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){a=i[s].listener,n=s;break}if(n<0)return this;0===n?i.shift():v(i,n),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},"removeListener"),o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=tN(function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0==arguments.length){var n,s=Object.keys(i);for(r=0;r<s.length;++r)"removeListener"!==(n=s[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},"removeAllListeners"),tN(f,"_listeners"),o.prototype.listeners=tN(function(e){return f(this,e,!0)},"listeners"),o.prototype.rawListeners=tN(function(e){return f(this,e,!1)},"rawListeners"),o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m,tN(m,"listenerCount"),o.prototype.eventNames=tN(function(){return this._eventsCount>0?i(this._events):[]},"eventNames"),tN(g,"arrayClone"),tN(v,"spliceOne"),tN(y,"unwrapListeners"),tN(b,"once"),tN(x,"addErrorHandlerIfEventEmitter"),tN(_,"eventTargetAgnosticAddListener")}),tQ={};tj(tQ,{default:()=>tV});var tV,tG=tI(()=>{tz(),tV={}});function tZ(e){let t=0x6a09e667,i=0xbb67ae85,r=0x3c6ef372,n=0xa54ff53a,s=0x510e527f,a=0x9b05688c,o=0x1f83d9ab,l=0x5be0cd19,c=0,p=0,u=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],d=tN((e,t)=>e>>>t|e<<32-t,"rrot"),h=new Uint32Array(64),f=new Uint8Array(64),m=tN(()=>{for(let e=0,t=0;e<16;e++,t+=4)h[e]=f[t]<<24|f[t+1]<<16|f[t+2]<<8|f[t+3];for(let e=16;e<64;e++){let t=d(h[e-15],7)^d(h[e-15],18)^h[e-15]>>>3,i=d(h[e-2],17)^d(h[e-2],19)^h[e-2]>>>10;h[e]=h[e-16]+t+h[e-7]+i|0}let e=t,c=i,m=r,g=n,v=s,y=a,b=o,x=l;for(let t=0;t<64;t++){let i=x+(d(v,6)^d(v,11)^d(v,25))+(v&y^~v&b)+u[t]+h[t]|0,r=(d(e,2)^d(e,13)^d(e,22))+(e&c^e&m^c&m)|0;x=b,b=y,y=v,v=g+i|0,g=m,m=c,c=e,e=i+r|0}t=t+e|0,i=i+c|0,r=r+m|0,n=n+g|0,s=s+v|0,a=a+y|0,o=o+b|0,l=l+x|0,p=0},"process"),g=tN(e=>{"string"==typeof e&&(e=new TextEncoder().encode(e));for(let t=0;t<e.length;t++)f[p++]=e[t],64===p&&m();c+=e.length},"add"),v=tN(()=>{if(f[p++]=128,64==p&&m(),p+8>64){for(;p<64;)f[p++]=0;m()}for(;p<58;)f[p++]=0;let e=8*c;f[p++]=e/0x10000000000&255,f[p++]=e/0x100000000&255,f[p++]=e>>>24,f[p++]=e>>>16&255,f[p++]=e>>>8&255,f[p++]=255&e,m();let u=new Uint8Array(32);return u[0]=t>>>24,u[1]=t>>>16&255,u[2]=t>>>8&255,u[3]=255&t,u[4]=i>>>24,u[5]=i>>>16&255,u[6]=i>>>8&255,u[7]=255&i,u[8]=r>>>24,u[9]=r>>>16&255,u[10]=r>>>8&255,u[11]=255&r,u[12]=n>>>24,u[13]=n>>>16&255,u[14]=n>>>8&255,u[15]=255&n,u[16]=s>>>24,u[17]=s>>>16&255,u[18]=s>>>8&255,u[19]=255&s,u[20]=a>>>24,u[21]=a>>>16&255,u[22]=a>>>8&255,u[23]=255&a,u[24]=o>>>24,u[25]=o>>>16&255,u[26]=o>>>8&255,u[27]=255&o,u[28]=l>>>24,u[29]=l>>>16&255,u[30]=l>>>8&255,u[31]=255&l,u},"digest");return void 0===e?{add:g,digest:v}:(g(e),v())}var tW,tK,tX=tI(()=>{tz(),tN(tZ,"sha256")}),tJ=tI(()=>{tz(),tN(tW=class e{constructor(){tU(this,"_dataLength",0),tU(this,"_bufferLength",0),tU(this,"_state",new Int32Array(4)),tU(this,"_buffer",new ArrayBuffer(68)),tU(this,"_buffer8"),tU(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,t=!1){return this.onePassHasher.start().appendByteArray(e).end(t)}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(t){let i=e.hexChars,r=e.hexOut,n,s,a,o;for(o=0;o<4;o+=1)for(s=8*o,n=t[o],a=0;a<8;a+=2)r[s+1+a]=i.charAt(15&n),n>>>=4,r[s+0+a]=i.charAt(15&n),n>>>=4;return r.join("")}static _md5cycle(e,t){let i=e[0],r=e[1],n=e[2],s=e[3];i+=(r&n|~r&s)+t[0]-0x28955b88|0,s+=((i=(i<<7|i>>>25)+r|0)&r|~i&n)+t[1]-0x173848aa|0,n+=((s=(s<<12|s>>>20)+i|0)&i|~s&r)+t[2]+0x242070db|0,r+=((n=(n<<17|n>>>15)+s|0)&s|~n&i)+t[3]-0x3e423112|0,i+=((r=(r<<22|r>>>10)+n|0)&n|~r&s)+t[4]-0xa83f051|0,s+=((i=(i<<7|i>>>25)+r|0)&r|~i&n)+t[5]+0x4787c62a|0,n+=((s=(s<<12|s>>>20)+i|0)&i|~s&r)+t[6]-0x57cfb9ed|0,r+=((n=(n<<17|n>>>15)+s|0)&s|~n&i)+t[7]-0x2b96aff|0,i+=((r=(r<<22|r>>>10)+n|0)&n|~r&s)+t[8]+0x698098d8|0,s+=((i=(i<<7|i>>>25)+r|0)&r|~i&n)+t[9]-0x74bb0851|0,n+=((s=(s<<12|s>>>20)+i|0)&i|~s&r)+t[10]-42063|0,r+=((n=(n<<17|n>>>15)+s|0)&s|~n&i)+t[11]-0x76a32842|0,i+=((r=(r<<22|r>>>10)+n|0)&n|~r&s)+t[12]+0x6b901122|0,s+=((i=(i<<7|i>>>25)+r|0)&r|~i&n)+t[13]-0x2678e6d|0,n+=((s=(s<<12|s>>>20)+i|0)&i|~s&r)+t[14]-0x5986bc72|0,r+=((n=(n<<17|n>>>15)+s|0)&s|~n&i)+t[15]+0x49b40821|0,i+=((r=(r<<22|r>>>10)+n|0)&s|n&~s)+t[1]-0x9e1da9e|0,s+=((i=(i<<5|i>>>27)+r|0)&n|r&~n)+t[6]-0x3fbf4cc0|0,n+=((s=(s<<9|s>>>23)+i|0)&r|i&~r)+t[11]+0x265e5a51|0,r+=((n=(n<<14|n>>>18)+s|0)&i|s&~i)+t[0]-0x16493856|0,i+=((r=(r<<20|r>>>12)+n|0)&s|n&~s)+t[5]-0x29d0efa3|0,s+=((i=(i<<5|i>>>27)+r|0)&n|r&~n)+t[10]+0x2441453|0,n+=((s=(s<<9|s>>>23)+i|0)&r|i&~r)+t[15]-0x275e197f|0,r+=((n=(n<<14|n>>>18)+s|0)&i|s&~i)+t[4]-0x182c0438|0,i+=((r=(r<<20|r>>>12)+n|0)&s|n&~s)+t[9]+0x21e1cde6|0,s+=((i=(i<<5|i>>>27)+r|0)&n|r&~n)+t[14]-0x3cc8f82a|0,n+=((s=(s<<9|s>>>23)+i|0)&r|i&~r)+t[3]-0xb2af279|0,r+=((n=(n<<14|n>>>18)+s|0)&i|s&~i)+t[8]+0x455a14ed|0,i+=((r=(r<<20|r>>>12)+n|0)&s|n&~s)+t[13]-0x561c16fb|0,s+=((i=(i<<5|i>>>27)+r|0)&n|r&~n)+t[2]-0x3105c08|0,n+=((s=(s<<9|s>>>23)+i|0)&r|i&~r)+t[7]+0x676f02d9|0,r+=((n=(n<<14|n>>>18)+s|0)&i|s&~i)+t[12]-0x72d5b376|0,i+=((r=(r<<20|r>>>12)+n|0)^n^s)+t[5]-378558|0,s+=((i=(i<<4|i>>>28)+r|0)^r^n)+t[8]-0x788e097f|0,n+=((s=(s<<11|s>>>21)+i|0)^i^r)+t[11]+0x6d9d6122|0,r+=((n=(n<<16|n>>>16)+s|0)^s^i)+t[14]-0x21ac7f4|0,i+=((r=(r<<23|r>>>9)+n|0)^n^s)+t[1]-0x5b4115bc|0,s+=((i=(i<<4|i>>>28)+r|0)^r^n)+t[4]+0x4bdecfa9|0,n+=((s=(s<<11|s>>>21)+i|0)^i^r)+t[7]-0x944b4a0|0,r+=((n=(n<<16|n>>>16)+s|0)^s^i)+t[10]-0x41404390|0,i+=((r=(r<<23|r>>>9)+n|0)^n^s)+t[13]+0x289b7ec6|0,s+=((i=(i<<4|i>>>28)+r|0)^r^n)+t[0]-0x155ed806|0,n+=((s=(s<<11|s>>>21)+i|0)^i^r)+t[3]-0x2b10cf7b|0,r+=((n=(n<<16|n>>>16)+s|0)^s^i)+t[6]+0x4881d05|0,i+=((r=(r<<23|r>>>9)+n|0)^n^s)+t[9]-0x262b2fc7|0,s+=((i=(i<<4|i>>>28)+r|0)^r^n)+t[12]-0x1924661b|0,n+=((s=(s<<11|s>>>21)+i|0)^i^r)+t[15]+0x1fa27cf8|0,r+=((n=(n<<16|n>>>16)+s|0)^s^i)+t[2]-0x3b53a99b|0,r=(r<<23|r>>>9)+n|0,i+=(n^(r|~s))+t[0]-0xbd6ddbc|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~n))+t[7]+0x432aff97|0,s=(s<<10|s>>>22)+i|0,n+=(i^(s|~r))+t[14]-0x546bdc59|0,n=(n<<15|n>>>17)+s|0,r+=(s^(n|~i))+t[5]-0x36c5fc7|0,r=(r<<21|r>>>11)+n|0,i+=(n^(r|~s))+t[12]+0x655b59c3|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~n))+t[3]-0x70f3336e|0,s=(s<<10|s>>>22)+i|0,n+=(i^(s|~r))+t[10]-1051523|0,n=(n<<15|n>>>17)+s|0,r+=(s^(n|~i))+t[1]-0x7a7ba22f|0,r=(r<<21|r>>>11)+n|0,i+=(n^(r|~s))+t[8]+0x6fa87e4f|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~n))+t[15]-0x1d31920|0,s=(s<<10|s>>>22)+i|0,n+=(i^(s|~r))+t[6]-0x5cfebcec|0,n=(n<<15|n>>>17)+s|0,r+=(s^(n|~i))+t[13]+0x4e0811a1|0,r=(r<<21|r>>>11)+n|0,i+=(n^(r|~s))+t[4]-0x8ac817e|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~n))+t[11]-0x42c50dcb|0,s=(s<<10|s>>>22)+i|0,n+=(i^(s|~r))+t[2]+0x2ad7d2bb|0,n=(n<<15|n>>>17)+s|0,r+=(s^(n|~i))+t[9]-0x14792c6f|0,r=(r<<21|r>>>11)+n|0,e[0]=i+e[0]|0,e[1]=r+e[1]|0,e[2]=n+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(t){let i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a;for(a=0;a<t.length;a+=1){if((s=t.charCodeAt(a))<128)i[n++]=s;else if(s<2048)i[n++]=(s>>>6)+192,i[n++]=63&s|128;else if(s<55296||s>56319)i[n++]=(s>>>12)+224,i[n++]=s>>>6&63|128,i[n++]=63&s|128;else{if((s=(s-55296)*1024+(t.charCodeAt(++a)-56320)+65536)>1114111)throw Error("Unicode standard supports code points up to U+10FFFF");i[n++]=(s>>>18)+240,i[n++]=s>>>12&63|128,i[n++]=s>>>6&63|128,i[n++]=63&s|128}n>=64&&(this._dataLength+=64,e._md5cycle(this._state,r),n-=64,r[0]=r[16])}return this._bufferLength=n,this}appendAsciiStr(t){let i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a=0;for(;;){for(s=Math.min(t.length-a,64-n);s--;)i[n++]=t.charCodeAt(a++);if(n<64)break;this._dataLength+=64,e._md5cycle(this._state,r),n=0}return this._bufferLength=n,this}appendByteArray(t){let i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a=0;for(;;){for(s=Math.min(t.length-a,64-n);s--;)i[n++]=t[a++];if(n<64)break;this._dataLength+=64,e._md5cycle(this._state,r),n=0}return this._bufferLength=n,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,i=e.state,r=this._state,n;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],n=0;n<t.length;n+=1)this._buffer8[n]=t.charCodeAt(n)}end(t=!1){let i=this._bufferLength,r=this._buffer8,n=this._buffer32,s=(i>>2)+1;this._dataLength+=i;let a=8*this._dataLength;if(r[i]=128,r[i+1]=r[i+2]=r[i+3]=0,n.set(e.buffer32Identity.subarray(s),s),i>55&&(e._md5cycle(this._state,n),n.set(e.buffer32Identity)),a<=0xffffffff)n[14]=a;else{let e=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;let t=parseInt(e[2],16),i=parseInt(e[1],16)||0;n[14]=t,n[15]=i}return e._md5cycle(this._state,n),t?this._state:e._hex(this._state)}},"Md5"),tU(tW,"stateIdentity",new Int32Array([0x67452301,-0x10325477,-0x67452302,0x10325476])),tU(tW,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),tU(tW,"hexChars","0123456789abcdef"),tU(tW,"hexOut",[]),tU(tW,"onePassHasher",new tW),tK=tW}),tY={};function t0(e){return t_.getRandomValues(tw.alloc(e))}function t1(e){if("sha256"===e)return{update:tN(function(e){return{digest:tN(function(){return tw.from(tZ(e))},"digest")}},"update")};if("md5"===e)return{update:tN(function(e){return{digest:tN(function(){return"string"==typeof e?tK.hashStr(e):tK.hashByteArray(e)},"digest")}},"update")};throw Error(`Hash type '${e}' not supported`)}function t2(e,t){if("sha256"!==e)throw Error(`Only sha256 is supported (requested: '${e}')`);return{update:tN(function(e){return{digest:tN(function(){"string"==typeof t&&(t=new TextEncoder().encode(t)),"string"==typeof e&&(e=new TextEncoder().encode(e));let i=t.length;if(i>64)t=tZ(t);else if(i<64){let e=new Uint8Array(64);e.set(t),t=e}let r=new Uint8Array(64),n=new Uint8Array(64);for(let e=0;e<64;e++)r[e]=54^t[e],n[e]=92^t[e];let s=new Uint8Array(e.length+64);s.set(r,0),s.set(e,64);let a=new Uint8Array(96);return a.set(n,0),a.set(tZ(s),64),tw.from(tZ(a))},"digest")}},"update")}}tj(tY,{createHash:()=>t1,createHmac:()=>t2,randomBytes:()=>t0});var t6=tI(()=>{tz(),tX(),tJ(),tN(t0,"randomBytes"),tN(t1,"createHash"),tN(t2,"createHmac")}),t4=tL(e=>{tz(),e.parse=function(e,t){return new i(e,t).parse()};var t=class e{constructor(e,t){this.source=e,this.transform=t||r,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&("NULL"!==(t=this.recorded.join(""))||e||(t=null),null!==t&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(t){var i,r,n;for(this.consumeDimensions();!this.isEof();)if("{"!==(i=this.nextCharacter()).value||n){if("}"!==i.value||n)'"'!==i.value||i.escaped?","!==i.value||n?this.record(i.value):this.newEntry():(n&&this.newEntry(!0),n=!n);else if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else this.dimension++,this.dimension>1&&(r=new e(this.source.substr(this.position-1),this.transform),this.entries.push(r.parse(!0)),this.position+=r.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}};tN(t,"ArrayParser");var i=t;function r(e){return e}tN(r,"identity")}),t3=tL((e,t)=>{tz();var i=t4();t.exports={create:tN(function(e,t){return{parse:tN(function(){return i.parse(e,t)},"parse")}},"create")}}),t5=tL((e,t)=>{tz();var i=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,r=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,n=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,s=/^-?infinity$/;function a(e){var t=r.exec(e);if(t){var i=parseInt(t[1],10);t[4]&&(i=l(i));var n=new Date(i,parseInt(t[2],10)-1,t[3]);return c(i)&&n.setFullYear(i),n}}function o(e){if(e.endsWith("+00"))return 0;var t=n.exec(e.split(" ")[1]);if(t){var i=t[1];return"Z"===i?0:(3600*parseInt(t[2],10)+60*parseInt(t[3]||0,10)+parseInt(t[4]||0,10))*("-"===i?-1:1)*1e3}}function l(e){return-(e-1)}function c(e){return e>=0&&e<100}t.exports=tN(function(e){if(s.test(e))return Number(e.replace("i","I"));var t=i.exec(e);if(!t)return a(e)||null;var r=!!t[8],n=parseInt(t[1],10);r&&(n=l(n));var p=parseInt(t[2],10)-1,u=t[3],d=parseInt(t[4],10),h=parseInt(t[5],10),f=parseInt(t[6],10),m=t[7];m=m?1e3*parseFloat(m):0;var g,v=o(e);return null!=v?(g=new Date(Date.UTC(n,p,u,d,h,f,m)),c(n)&&g.setUTCFullYear(n),0!==v&&g.setTime(g.getTime()-v)):(g=new Date(n,p,u,d,h,f,m),c(n)&&g.setFullYear(n)),g},"parseDate"),tN(a,"getDate"),tN(o,"timeZoneOffset"),tN(l,"bcYearToNegativeYear"),tN(c,"is0To99")}),t8=tL((e,t)=>{tz(),t.exports=r;var i=Object.prototype.hasOwnProperty;function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)i.call(r,n)&&(e[n]=r[n])}return e}tN(r,"extend")}),t9=tL((e,t)=>{tz();var i=t8();function r(e){if(!(this instanceof r))return new r(e);i(this,h(e))}t.exports=r,tN(r,"PostgresInterval");var n=["seconds","minutes","hours","days","months","years"];r.prototype.toPostgres=function(){var e=n.filter(this.hasOwnProperty,this);return this.milliseconds&&0>e.indexOf("seconds")&&e.push("seconds"),0===e.length?"0":e.map(function(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),t+" "+e},this).join(" ")};var s={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},a=["years","months","days"],o=["hours","minutes","seconds"];r.prototype.toISOString=r.prototype.toISO=function(){return"P"+a.map(e,this).join("")+"T"+o.map(e,this).join("");function e(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),t+s[e]}};var l="([+-]?\\d+)",c=new RegExp([l+"\\s+years?",l+"\\s+mons?",l+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(e){return"("+e+")?"}).join("\\s*")),p={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},u=["hours","minutes","seconds","milliseconds"];function d(e){return parseInt(e+"000000".slice(e.length),10)/1e3}function h(e){if(!e)return{};var t=c.exec(e),i="-"===t[8];return Object.keys(p).reduce(function(e,r){var n=t[p[r]];return n&&(n="milliseconds"===r?d(n):parseInt(n,10))&&(i&&~u.indexOf(r)&&(n*=-1),e[r]=n),e},{})}tN(d,"parseMilliseconds"),tN(h,"parse")}),t7=tL((e,t)=>{tz(),t.exports=tN(function(e){if(/^\\x/.test(e))return new tw(e.substr(2),"hex");for(var t="",i=0;i<e.length;)if("\\"!==e[i])t+=e[i],++i;else if(/[0-7]{3}/.test(e.substr(i+1,3)))t+=String.fromCharCode(parseInt(e.substr(i+1,3),8)),i+=4;else{for(var r=1;i+r<e.length&&"\\"===e[i+r];)r++;for(var n=0;n<Math.floor(r/2);++n)t+="\\";i+=2*Math.floor(r/2)}return new tw(t,"binary")},"parseBytea")}),ie=tL((e,t)=>{tz();var i=t4(),r=t3(),n=t5(),s=t9(),a=t7();function o(e){return tN(function(t){return null===t?t:e(t)},"nullAllowed")}function l(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function c(e){return e?i.parse(e,l):null}function p(e){return parseInt(e,10)}function u(e){return e?i.parse(e,o(p)):null}function d(e){return e?i.parse(e,o(function(e){return x(e).trim()})):null}tN(o,"allowNull"),tN(l,"parseBool"),tN(c,"parseBoolArray"),tN(p,"parseBaseTenInt"),tN(u,"parseIntegerArray"),tN(d,"parseBigIntegerArray");var h=tN(function(e){return e?r.create(e,function(e){return null!==e&&(e=w(e)),e}).parse():null},"parsePointArray"),f=tN(function(e){return e?r.create(e,function(e){return null!==e&&(e=parseFloat(e)),e}).parse():null},"parseFloatArray"),m=tN(function(e){return e?r.create(e).parse():null},"parseStringArray"),g=tN(function(e){return e?r.create(e,function(e){return null!==e&&(e=n(e)),e}).parse():null},"parseDateArray"),v=tN(function(e){return e?r.create(e,function(e){return null!==e&&(e=s(e)),e}).parse():null},"parseIntervalArray"),y=tN(function(e){return e?i.parse(e,o(a)):null},"parseByteAArray"),b=tN(function(e){return parseInt(e,10)},"parseInteger"),x=tN(function(e){var t=String(e);return/^\d+$/.test(t)?t:e},"parseBigInteger"),_=tN(function(e){return e?i.parse(e,o(JSON.parse)):null},"parseJsonArray"),w=tN(function(e){return"("!==e[0]?null:{x:parseFloat((e=e.substring(1,e.length-1).split(","))[0]),y:parseFloat(e[1])}},"parsePoint"),S=tN(function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var t="(",i="",r=!1,n=2;n<e.length-1;n++){if(r||(t+=e[n]),")"===e[n]){r=!0;continue}r&&","!==e[n]&&(i+=e[n])}var s=w(t);return s.radius=parseFloat(i),s},"parseCircle");t.exports={init:tN(function(e){e(20,x),e(21,b),e(23,b),e(26,b),e(700,parseFloat),e(701,parseFloat),e(16,l),e(1082,n),e(1114,n),e(1184,n),e(600,w),e(651,m),e(718,S),e(1e3,c),e(1001,y),e(1005,u),e(1007,u),e(1028,u),e(1016,d),e(1017,h),e(1021,f),e(1022,f),e(1231,f),e(1014,m),e(1015,m),e(1008,m),e(1009,m),e(1040,m),e(1041,m),e(1115,g),e(1182,g),e(1185,g),e(1186,s),e(1187,v),e(17,a),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,_),e(3807,_),e(3907,m),e(2951,m),e(791,m),e(1183,m),e(1270,m)},"init")}}),it=tL((e,t)=>{function i(e){var t=e.readInt32BE(0),i=e.readUInt32BE(4),r="";t<0&&(t=~t+(0===i),i=~i+1>>>0,r="-");var n,s,a,o,l,c,p="";if(n=t%1e6,t=t/1e6>>>0,i=(s=0x100000000*n+i)/1e6>>>0,a=""+(s-1e6*i),0===i&&0===t)return r+a+p;for(o="",l=6-a.length,c=0;c<l;c++)o+="0";if(p=o+a+p,n=t%1e6,t=t/1e6>>>0,i=(s=0x100000000*n+i)/1e6>>>0,a=""+(s-1e6*i),0===i&&0===t)return r+a+p;for(o="",l=6-a.length,c=0;c<l;c++)o+="0";if(p=o+a+p,n=t%1e6,t=t/1e6>>>0,i=(s=0x100000000*n+i)/1e6>>>0,a=""+(s-1e6*i),0===i&&0===t)return r+a+p;for(o="",l=6-a.length,c=0;c<l;c++)o+="0";return p=o+a+p,r+(a=""+(s=0x100000000*(n=t%1e6)+i)%1e6)+p}tz(),tN(i,"readInt8"),t.exports=i}),ii=tL((e,t)=>{tz();var i=it(),r=tN(function(e,t,i,r,n){i=i||0,r=r||!1,n=n||function(e,t,i){return e*Math.pow(2,i)+t};var s=i>>3,a=tN(function(e){return r?255&~e:e},"inv"),o=255,l=8-i%8;t<l&&(o=255<<8-t&255,l=t),i&&(o>>=i%8);var c=0;i%8+t>=8&&(c=n(0,a(e[s])&o,l));for(var p=t+i>>3,u=s+1;u<p;u++)c=n(c,a(e[u]),8);var d=(t+i)%8;return d>0&&(c=n(c,a(e[p])>>8-d,d)),c},"parseBits"),n=tN(function(e,t,i){var n=Math.pow(2,i-1)-1,s=r(e,1),a=r(e,i,1);if(0===a)return 0;var o=1,l=r(e,t,i+1,!1,tN(function(e,t,i){0===e&&(e=1);for(var r=1;r<=i;r++)o/=2,(t&1<<i-r)>0&&(e+=o);return e},"parsePrecisionBits"));return a==Math.pow(2,i+1)-1?0===l?0===s?1/0:-1/0:NaN:(0===s?1:-1)*Math.pow(2,a-n)*l},"parseFloatFromBits"),s=tN(function(e){return 1==r(e,1)?-1*(r(e,15,1,!0)+1):r(e,15,1)},"parseInt16"),a=tN(function(e){return 1==r(e,1)?-1*(r(e,31,1,!0)+1):r(e,31,1)},"parseInt32"),o=tN(function(e){return n(e,23,8)},"parseFloat32"),l=tN(function(e){return n(e,52,11)},"parseFloat64"),c=tN(function(e){var t=r(e,16,32);if(49152==t)return NaN;for(var i=Math.pow(1e4,r(e,16,16)),n=0,s=r(e,16),a=0;a<s;a++)n+=r(e,16,64+16*a)*i,i/=1e4;var o=Math.pow(10,r(e,16,48));return(0===t?1:-1)*Math.round(n*o)/o},"parseNumeric"),p=tN(function(e,t){var i=r(t,1),n=r(t,63,1),s=new Date((0===i?1:-1)*n/1e3+9466848e5);return e||s.setTime(s.getTime()+6e4*s.getTimezoneOffset()),s.usec=n%1e3,s.getMicroSeconds=function(){return this.usec},s.setMicroSeconds=function(e){this.usec=e},s.getUTCMicroSeconds=function(){return this.usec},s},"parseDate"),u=tN(function(e){for(var t=r(e,32),i=(r(e,32,32),r(e,32,64)),n=96,s=[],a=0;a<t;a++)s[a]=r(e,32,n),n+=64;var o=tN(function(t){var i,s=r(e,32,n);return(n+=32,0xffffffff==s)?null:23==t||20==t?(i=r(e,8*s,n),n+=8*s,i):25==t?e.toString(this.encoding,n>>3,(n+=s<<3)>>3):void console.log("ERROR: ElementType not implemented: "+t)},"parseElement"),l=tN(function(e,t){var i,r=[];if(e.length>1){var n=e.shift();for(i=0;i<n;i++)r[i]=l(e,t);e.unshift(n)}else for(i=0;i<e[0];i++)r[i]=o(t);return r},"parse");return l(s,i)},"parseArray"),d=tN(function(e){return e.toString("utf8")},"parseText"),h=tN(function(e){return null===e?null:r(e,8)>0},"parseBool");t.exports={init:tN(function(e){e(20,i),e(21,s),e(23,a),e(26,a),e(1700,c),e(700,o),e(701,l),e(16,h),e(1114,p.bind(null,!1)),e(1184,p.bind(null,!0)),e(1e3,u),e(1007,u),e(1016,u),e(1008,u),e(1009,u),e(25,d)},"init")}}),ir=tL((e,t)=>{tz(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),is=tL(e=>{tz();var t=ie(),i=ii(),r=t3(),n=ir();e.getTypeParser=o,e.setTypeParser=l,e.arrayParser=r,e.builtins=n;var s={text:{},binary:{}};function a(e){return String(e)}function o(e,t){return s[t=t||"text"]&&s[t][e]||a}function l(e,t,i){"function"==typeof t&&(i=t,t="text"),s[t][e]=i}tN(a,"noParse"),tN(o,"getTypeParser"),tN(l,"setTypeParser"),t.init(function(e,t){s.text[e]=t}),i.init(function(e,t){s.binary[e]=t})}),ia=tL((e,t)=>{tz(),t.exports={host:"localhost",user:"win32"===tS.platform?tS.env.USERNAME:tS.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var i=is(),r=i.getTypeParser(20,"text"),n=i.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(e){i.setTypeParser(20,"text",e?i.getTypeParser(23,"text"):r),i.setTypeParser(1016,"text",e?i.getTypeParser(1007,"text"):n)})}),io=tL((e,t)=>{tz();var i=(t6(),tB(tY)),r=ia();function n(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function s(e){for(var t="{",i=0;i<e.length;i++)i>0&&(t+=","),null===e[i]||typeof e[i]>"u"?t+="NULL":Array.isArray(e[i])?t+=s(e[i]):e[i]instanceof tw?t+="\\\\x"+e[i].toString("hex"):t+=n(a(e[i]));return t+"}"}tN(n,"escapeElement"),tN(s,"arrayString");var a=tN(function(e,t){if(null==e)return null;if(e instanceof tw)return e;if(ArrayBuffer.isView(e)){var i=tw.from(e.buffer,e.byteOffset,e.byteLength);return i.length===e.byteLength?i:i.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?r.parseInputDatesAsUTC?p(e):c(e):Array.isArray(e)?s(e):"object"==typeof e?o(e,t):e.toString()},"prepareValue");function o(e,t){if(e&&"function"==typeof e.toPostgres){if(-1!==(t=t||[]).indexOf(e))throw Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),a(e.toPostgres(a),t)}return JSON.stringify(e)}function l(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function c(e){var t=-e.getTimezoneOffset(),i=e.getFullYear(),r=i<1;r&&(i=Math.abs(i)+1);var n=l(i,4)+"-"+l(e.getMonth()+1,2)+"-"+l(e.getDate(),2)+"T"+l(e.getHours(),2)+":"+l(e.getMinutes(),2)+":"+l(e.getSeconds(),2)+"."+l(e.getMilliseconds(),3);return t<0?(n+="-",t*=-1):n+="+",n+=l(Math.floor(t/60),2)+":"+l(t%60,2),r&&(n+=" BC"),n}function p(e){var t=e.getUTCFullYear(),i=t<1;i&&(t=Math.abs(t)+1);var r=l(t,4)+"-"+l(e.getUTCMonth()+1,2)+"-"+l(e.getUTCDate(),2)+"T"+l(e.getUTCHours(),2)+":"+l(e.getUTCMinutes(),2)+":"+l(e.getUTCSeconds(),2)+"."+l(e.getUTCMilliseconds(),3);return r+="+00:00",i&&(r+=" BC"),r}function u(e,t,i){return e="string"==typeof e?{text:e}:e,t&&("function"==typeof t?e.callback=t:e.values=t),i&&(e.callback=i),e}tN(o,"prepareObject"),tN(l,"pad"),tN(c,"dateToString"),tN(p,"dateToStringUTC"),tN(u,"normalizeQueryConfig");var d=tN(function(e){return i.createHash("md5").update(e,"utf-8").digest("hex")},"md5"),h=tN(function(e,t,i){var r=d(t+e);return"md5"+d(tw.concat([tw.from(r),i]))},"postgresMd5PasswordHash");t.exports={prepareValue:tN(function(e){return a(e)},"prepareValueWrapper"),normalizeQueryConfig:u,postgresMd5PasswordHash:h,md5:d}}),il=tL((e,t)=>{tz();var i=(t6(),tB(tY));function r(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=i.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function n(e,t,i){if("SASLInitialResponse"!==e.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if("string"!=typeof i)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let r=c(i);if(r.nonce.startsWith(e.clientNonce)){if(r.nonce.length===e.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var n=f(t,tw.from(r.salt,"base64"),r.iteration),s=h(n,"Client Key"),a=d(s),o="n=*,r="+e.clientNonce,l="r="+r.nonce+",s="+r.salt+",i="+r.iteration,p="c=biws,r="+r.nonce,m=o+","+l+","+p,g=u(s,h(a,m)).toString("base64"),v=h(n,"Server Key"),y=h(v,m);e.message="SASLResponse",e.serverSignature=y.toString("base64"),e.response=p+",p="+g}function s(e,t){if("SASLResponse"!==e.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:i}=p(t);if(i!==e.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function a(e){if("string"!=typeof e)throw TypeError("SASL: text must be a string");return e.split("").map((t,i)=>e.charCodeAt(i)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function o(e){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(e)}function l(e){if("string"!=typeof e)throw TypeError("SASL: attribute pairs text must be a string");return new Map(e.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]}))}function c(e){let t=l(e),i=t.get("r");if(i){if(!a(i))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let r=t.get("s");if(r){if(!o(r))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let n=t.get("i");if(n){if(!/^[1-9][0-9]*$/.test(n))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:i,salt:r,iteration:parseInt(n,10)}}function p(e){let t=l(e).get("v");if(t){if(!o(t))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:t}}function u(e,t){if(!tw.isBuffer(e))throw TypeError("first argument must be a Buffer");if(!tw.isBuffer(t))throw TypeError("second argument must be a Buffer");if(e.length!==t.length)throw Error("Buffer lengths must match");if(0===e.length)throw Error("Buffers cannot be empty");return tw.from(e.map((i,r)=>e[r]^t[r]))}function d(e){return i.createHash("sha256").update(e).digest()}function h(e,t){return i.createHmac("sha256",e).update(t).digest()}function f(e,t,i){for(var r=h(e,tw.concat([t,tw.from([0,0,0,1])])),n=r,s=0;s<i-1;s++)n=u(n,r=h(e,r));return n}tN(r,"startSession"),tN(n,"continueSession"),tN(s,"finalizeSession"),tN(a,"isPrintableChars"),tN(o,"isBase64"),tN(l,"parseAttributePairs"),tN(c,"parseServerFirstMessage"),tN(p,"parseServerFinalMessage"),tN(u,"xorBuffers"),tN(d,"sha256"),tN(h,"hmacSha256"),tN(f,"Hi"),t.exports={startSession:r,continueSession:n,finalizeSession:s}}),ic={};function ip(...e){return e.join("/")}tj(ic,{join:()=>ip});var iu=tI(()=>{tz(),tN(ip,"join")}),id={};function ih(e,t){t(Error("No filesystem"))}tj(id,{stat:()=>ih});var im=tI(()=>{tz(),tN(ih,"stat")}),ig={};tj(ig,{default:()=>iv});var iv,iy=tI(()=>{tz(),iv={}}),ib={};tj(ib,{StringDecoder:()=>i_});var ix,i_,iw=tI(()=>{tz(),tN(ix=class{constructor(e){tU(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},"StringDecoder"),i_=ix}),iS=tL((e,t)=>{tz();var{Transform:i}=(iy(),tB(ig)),{StringDecoder:r}=(iw(),tB(ib)),n=Symbol("last"),s=Symbol("decoder");function a(e,t,i){let r;if(this.overflow){if(1===(r=this[s].write(e).split(this.matcher)).length)return i();r.shift(),this.overflow=!1}else this[n]+=this[s].write(e),r=this[n].split(this.matcher);this[n]=r.pop();for(let e=0;e<r.length;e++)try{l(this,this.mapper(r[e]))}catch(e){return i(e)}(this.overflow=this[n].length>this.maxLength,this.overflow&&!this.skipOverflow)?i(Error("maximum buffer reached")):i()}function o(e){if(this[n]+=this[s].end(),this[n])try{l(this,this.mapper(this[n]))}catch(t){return e(t)}e()}function l(e,t){void 0!==t&&e.push(t)}function c(e){return e}function p(e,t,l){switch(e=e||/\r?\n/,t=t||c,l=l||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(l=e,e=/\r?\n/);break;case 2:"function"==typeof e?(l=t,t=e,e=/\r?\n/):"object"==typeof t&&(l=t,t=c)}(l=Object.assign({},l)).autoDestroy=!0,l.transform=a,l.flush=o,l.readableObjectMode=!0;let p=new i(l);return p[n]="",p[s]=new r("utf8"),p.matcher=e,p.mapper=t,p.maxLength=l.maxLength,p.skipOverflow=l.skipOverflow||!1,p.overflow=!1,p._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},p}tN(a,"transform"),tN(o,"flush"),tN(l,"push"),tN(c,"noop"),tN(p,"split"),t.exports=p}),iE=tL((e,t)=>{tz();var i=(iu(),tB(ic)),r=(iy(),tB(ig)).Stream,n=iS(),s=(tG(),tB(tQ)),a="win32"===tS.platform,o=tS.stderr;function l(e){return(61440&e)==32768}tN(l,"isRegFile");var c=["host","port","database","user","password"],p=c.length,u=c[p-1];function d(){if(o instanceof r&&!0===o.writable){var e=Array.prototype.slice.call(arguments).concat(`
`);o.write(s.format.apply(s,e))}}tN(d,"warn"),Object.defineProperty(t.exports,"isWin",{get:tN(function(){return a},"get"),set:tN(function(e){a=e},"set")}),t.exports.warnTo=function(e){var t=o;return o=e,t},t.exports.getFileName=function(e){var t=e||tS.env;return t.PGPASSFILE||(a?i.join(t.APPDATA||"./","postgresql","pgpass.conf"):i.join(t.HOME||"./",".pgpass"))},t.exports.usePgPass=function(e,t){return!Object.prototype.hasOwnProperty.call(tS.env,"PGPASSWORD")&&(!!a||(t=t||"<unkn>",l(e.mode)?!(63&e.mode)||(d('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):(d('WARNING: password file "%s" is not a plain file',t),!1)))};var h=t.exports.match=function(e,t){return c.slice(0,-1).reduce(function(i,r,n){return 1==n&&Number(e[r]||5432)===Number(t[r])?i&&!0:i&&("*"===t[r]||t[r]===e[r])},!0)};t.exports.getPassword=function(e,t,i){var r,s=t.pipe(n());function a(t){var i=f(t);i&&m(i)&&h(e,i)&&(r=i[u],s.end())}tN(a,"onLine");var o=tN(function(){t.destroy(),i(r)},"onEnd"),l=tN(function(e){t.destroy(),d("WARNING: error on reading file: %s",e),i(void 0)},"onErr");t.on("error",l),s.on("data",a).on("end",o).on("error",l)};var f=t.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",i="",r=0,n=0,s={},a=tN(function(t,i,r){var n=e.substring(i,r);Object.hasOwnProperty.call(tS.env,"PGPASS_NO_DEESCAPE")||(n=n.replace(/\\([:\\])/g,"$1")),s[c[t]]=n},"addToObj"),o=0;o<e.length-1;o+=1){if(t=e.charAt(o+1),i=e.charAt(o),r==p-1){a(r,n);break}o>=0&&":"==t&&"\\"!==i&&(a(r,n,o+1),n=o+2,r+=1)}return s=Object.keys(s).length===p?s:null},m=t.exports.isValidEntry=function(e){for(var t={0:function(e){return e.length>0},1:function(e){return"*"===e||isFinite(e=Number(e))&&e>0&&e<0x20000000000000&&Math.floor(e)===e},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},i=0;i<c.length;i+=1)if(!(0,t[i])(e[c[i]]||""))return!1;return!0}}),iT=tL((e,t)=>{tz(),iu(),tB(ic);var i=(im(),tB(id)),r=iE();t.exports=function(e,t){var n=r.getFileName();i.stat(n,function(s,a){if(s||!r.usePgPass(a,n))return t(void 0);var o=i.createReadStream(n);r.getPassword(e,o,t)})},t.exports.warnTo=r.warnTo}),ik=tL((e,t)=>{tz();var i=is();function r(e){this._types=e||i,this.text={},this.binary={}}tN(r,"TypeOverrides"),r.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},r.prototype.setTypeParser=function(e,t,i){"function"==typeof t&&(i=t,t="text"),this.getOverrides(t)[e]=i},r.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)},t.exports=r}),iA={};tj(iA,{default:()=>iP});var iP,iC=tI(()=>{tz(),iP={}}),iO={};function iR(e,t=!1){let{protocol:i}=new URL(e),{username:r,password:n,host:s,hostname:a,port:o,pathname:l,search:c,searchParams:p,hash:u}=new URL("http:"+e.substring(i.length));n=decodeURIComponent(n),r=decodeURIComponent(r),l=decodeURIComponent(l);let d=r+":"+n,h=t?Object.fromEntries(p.entries()):c;return{href:e,protocol:i,auth:d,username:r,password:n,host:s,hostname:a,port:o,pathname:l,search:c,query:h,hash:u}}tj(iO,{parse:()=>iR});var iN=tI(()=>{tz(),tN(iR,"parse")}),iI=tL((e,t)=>{tz();var i=(iN(),tB(iO)),r=(im(),tB(id));function n(e){if("/"===e.charAt(0)){var t=e.split(" ");return{host:t[0],database:t[1]}}var n=i.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),t=n.query;for(var s in t)Array.isArray(t[s])&&(t[s]=t[s][t[s].length-1]);var a=(n.auth||":").split(":");if(t.user=a[0],t.password=a.splice(1).join(":"),t.port=n.port,"socket:"==n.protocol)return t.host=decodeURI(n.pathname),t.database=n.query.db,t.client_encoding=n.query.encoding,t;t.host||(t.host=n.hostname);var o=n.pathname;if(!t.host&&o&&/^%2f/i.test(o)){var l=o.split("/");t.host=decodeURIComponent(l[0]),o=l.splice(1).join("/")}switch(o&&"/"===o.charAt(0)&&(o=o.slice(1)||null),t.database=o&&decodeURI(o),("true"===t.ssl||"1"===t.ssl)&&(t.ssl=!0),"0"===t.ssl&&(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&(t.ssl.cert=r.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=r.readFileSync(t.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=r.readFileSync(t.sslrootcert).toString()),t.sslmode){case"disable":t.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":t.ssl.rejectUnauthorized=!1}return t}tN(n,"parse"),t.exports=n,n.parse=n}),iL=tL((e,t)=>{tz();var i=(iC(),tB(iA)),r=ia(),n=iI().parse,s=tN(function(e,t,i){return void 0===i?i=tS.env["PG"+e.toUpperCase()]:!1===i||(i=tS.env[i]),t[e]||i||r[e]},"val"),a=tN(function(){switch(tS.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return r.ssl},"readSSLConfigFromEnvironment"),o=tN(function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=tN(function(e,t,i){var r=t[i];null!=r&&e.push(i+"="+o(r))},"add"),c=class{constructor(e){(e="string"==typeof e?n(e):e||{}).connectionString&&(e=Object.assign({},e,n(e.connectionString))),this.user=s("user",e),this.database=s("database",e),void 0===this.database&&(this.database=this.user),this.port=parseInt(s("port",e),10),this.host=s("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:s("password",e)}),this.binary=s("binary",e),this.options=s("options",e),this.ssl=typeof e.ssl>"u"?a():e.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=s("client_encoding",e),this.replication=s("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=s("application_name",e,"PGAPPNAME"),this.fallback_application_name=s("fallback_application_name",e,!1),this.statement_timeout=s("statement_timeout",e,!1),this.lock_timeout=s("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=s("idle_in_transaction_session_timeout",e,!1),this.query_timeout=s("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=tS.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var t=[];l(t,this,"user"),l(t,this,"password"),l(t,this,"port"),l(t,this,"application_name"),l(t,this,"fallback_application_name"),l(t,this,"connect_timeout"),l(t,this,"options");var r="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(t,r,"sslmode"),l(t,r,"sslca"),l(t,r,"sslkey"),l(t,r,"sslcert"),l(t,r,"sslrootcert"),this.database&&t.push("dbname="+o(this.database)),this.replication&&t.push("replication="+o(this.replication)),this.host&&t.push("host="+o(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+o(this.client_encoding)),i.lookup(this.host,function(i,r){return i?e(i,null):(t.push("hostaddr="+o(r)),e(null,t.join(" ")))})}};tN(c,"ConnectionParameters"),t.exports=c}),ij=tL((e,t)=>{tz();var i=is(),r=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,n=class{constructor(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){var t;(t=e.text?r.exec(e.text):r.exec(e.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))}_parseRowAsArray(e){for(var t=Array(e.length),i=0,r=e.length;i<r;i++){var n=e[i];null!==n?t[i]=this._parsers[i](n):t[i]=null}return t}parseRow(e){for(var t={},i=0,r=e.length;i<r;i++){var n=e[i],s=this.fields[i].name;null!==n?t[s]=this._parsers[i](n):t[s]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=Array(e.length));for(var t=0;t<e.length;t++){var r=e[t];this._types?this._parsers[t]=this._types.getTypeParser(r.dataTypeID,r.format||"text"):this._parsers[t]=i.getTypeParser(r.dataTypeID,r.format||"text")}}};tN(n,"Result"),t.exports=n}),iM=tL((e,t)=>{tz();var{EventEmitter:i}=tH(),r=ij(),n=io(),s=class extends i{constructor(e,t,i){super(),e=n.normalizeQueryConfig(e,t,i),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,tS.domain&&e.callback&&(this.callback=tS.domain.bind(e.callback)),this._result=new r(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new r(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let t;if(!this._canceledDueToError){try{t=this._result.parseRow(e.fields)}catch(e){this._canceledDueToError=e;return}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&t.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(e){tS.nextTick(()=>{throw e})}this.emit("end",this._results)}submit(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?Error(`Prepared statements must be \
unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute({portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:n.prepareValue})}catch(t){this.handleError(t,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,t){}};tN(s,"Query"),t.exports=s}),iD={};function iB(e){return 0}tj(iD,{Socket:()=>iF,isIP:()=>iB});var iU,iq,i$,iF,iz=tI(()=>{tz(),iU=tD(tH(),1),tN(iB,"isIP"),iq=/^[^.]+\./,i$=class e extends iU.EventEmitter{constructor(){super(...arguments),tU(this,"opts",{}),tU(this,"connecting",!1),tU(this,"pending",!0),tU(this,"writable",!0),tU(this,"encrypted",!1),tU(this,"authorized",!1),tU(this,"destroyed",!1),tU(this,"ws",null),tU(this,"writeBuffer"),tU(this,"tlsState",0),tU(this,"tlsRead"),tU(this,"tlsWrite")}static get poolQueryViaFetch(){return e.opts.poolQueryViaFetch??e.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){e.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return e.opts.fetchEndpoint??e.defaults.fetchEndpoint}static set fetchEndpoint(t){e.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return e.opts.fetchFunction??e.defaults.fetchFunction}static set fetchFunction(t){e.opts.fetchFunction=t}static get webSocketConstructor(){return e.opts.webSocketConstructor??e.defaults.webSocketConstructor}static set webSocketConstructor(t){e.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??e.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return e.opts.wsProxy??e.defaults.wsProxy}static set wsProxy(t){e.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??e.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return e.opts.coalesceWrites??e.defaults.coalesceWrites}static set coalesceWrites(t){e.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??e.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return e.opts.useSecureWebSocket??e.defaults.useSecureWebSocket}static set useSecureWebSocket(t){e.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??e.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return e.opts.forceDisablePgSSL??e.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){e.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??e.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return e.opts.disableSNI??e.defaults.disableSNI}static set disableSNI(t){e.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??e.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get pipelineConnect(){return e.opts.pipelineConnect??e.defaults.pipelineConnect}static set pipelineConnect(t){e.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??e.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return e.opts.subtls??e.defaults.subtls}static set subtls(t){e.opts.subtls=t}get subtls(){return this.opts.subtls??e.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return e.opts.pipelineTLS??e.defaults.pipelineTLS}static set pipelineTLS(t){e.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??e.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return e.opts.rootCerts??e.defaults.rootCerts}static set rootCerts(t){e.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??e.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,t){let i=this.wsProxy;if(void 0===i)throw Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return"function"==typeof i?i(e,t):`${i}?address=${e}:${t}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,t,i){this.connecting=!0,i&&this.once("connect",i);let r=tN(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),n=tN((e,t=!1)=>{e.binaryType="arraybuffer",e.addEventListener("error",e=>{this.emit("error",e),this.emit("close")}),e.addEventListener("message",e=>{if(0===this.tlsState){let t=tw.from(e.data);this.emit("data",t)}}),e.addEventListener("close",()=>{this.emit("close")}),t?r():e.addEventListener("open",r)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(t,"string"==typeof e?parseInt(e,10):e)}catch(e){this.emit("error",e),this.emit("close");return}try{let e=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(void 0!==this.webSocketConstructor)this.ws=new this.webSocketConstructor(e),n(this.ws);else try{this.ws=new WebSocket(e),n(this.ws)}catch{this.ws=new __unstable_WebSocket(e),n(this.ws)}}catch(e){fetch((this.useSecureWebSocket?"https:":"http:")+"//"+s,{headers:{Upgrade:"websocket"}}).then(t=>{if(this.ws=t.webSocket,null==this.ws)throw e;this.ws.accept(),n(this.ws,!0)}).catch(e=>{this.emit("error",Error(`All attempts to open a WebSocket to\
 connect to the database failed. Please refer to https://github.com/neondatabase\
/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined\
. Details: ${e.message}`)),this.emit("close")})}}async startTls(e){if(void 0===this.subtls)throw Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let t=this.subtls.TrustedCert.fromPEM(this.rootCerts),i=new this.subtls.WebSocketReadQueue(this.ws),r=i.read.bind(i),n=this.rawWrite.bind(this),[s,a]=await this.subtls.startTls(e,t,r,n,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(void 0===e)break;{let t=tw.from(e);this.emit("data",t)}}}rawWrite(e){if(!this.coalesceWrites)return void this.ws.send(e);if(void 0===this.writeBuffer)this.writeBuffer=e,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let t=new Uint8Array(this.writeBuffer.length+e.length);t.set(this.writeBuffer),t.set(e,this.writeBuffer.length),this.writeBuffer=t}}write(e,t="utf8",i=e=>{}){return 0===e.length?i():("string"==typeof e&&(e=tw.from(e,t)),0===this.tlsState?(this.rawWrite(e),i()):1===this.tlsState?this.once("secureConnection",()=>{this.write(e,t,i)}):(this.tlsWrite(e),i())),!0}end(e=tw.alloc(0),t="utf8",i=()=>{}){return this.write(e,t,()=>{this.ws.close(),i()}),this}destroy(){return this.destroyed=!0,this.end()}},tN(i$,"Socket"),tU(i$,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:tN((e,t,i)=>"https://"+(i?.jwtAuth?e.replace(iq,"apiauth."):e.replace(iq,"api."))+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:tN(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),tU(i$,"opts",{}),iF=i$}),iH=tL(e=>{tz(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(e,t,i){super(e),this.length=t,this.name=i}};tN(t,"DatabaseError"),e.DatabaseError=t;var i=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}};tN(i,"CopyDataMessage"),e.CopyDataMessage=i;var r=class{constructor(e,t,i,r){this.length=e,this.name=t,this.binary=i,this.columnTypes=Array(r)}};tN(r,"CopyResponse"),e.CopyResponse=r;var n=class{constructor(e,t,i,r,n,s,a){this.name=e,this.tableID=t,this.columnID=i,this.dataTypeID=r,this.dataTypeSize=n,this.dataTypeModifier=s,this.format=a}};tN(n,"Field"),e.Field=n;var s=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=Array(this.fieldCount)}};tN(s,"RowDescriptionMessage"),e.RowDescriptionMessage=s;var a=class{constructor(e,t){this.length=e,this.parameterCount=t,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}};tN(a,"ParameterDescriptionMessage"),e.ParameterDescriptionMessage=a;var o=class{constructor(e,t,i){this.length=e,this.parameterName=t,this.parameterValue=i,this.name="parameterStatus"}};tN(o,"ParameterStatusMessage"),e.ParameterStatusMessage=o;var l=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}};tN(l,"AuthenticationMD5Password"),e.AuthenticationMD5Password=l;var c=class{constructor(e,t,i){this.length=e,this.processID=t,this.secretKey=i,this.name="backendKeyData"}};tN(c,"BackendKeyDataMessage"),e.BackendKeyDataMessage=c;var p=class{constructor(e,t,i,r){this.length=e,this.processId=t,this.channel=i,this.payload=r,this.name="notification"}};tN(p,"NotificationResponseMessage"),e.NotificationResponseMessage=p;var u=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}};tN(u,"ReadyForQueryMessage"),e.ReadyForQueryMessage=u;var d=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}};tN(d,"CommandCompleteMessage"),e.CommandCompleteMessage=d;var h=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}};tN(h,"DataRowMessage"),e.DataRowMessage=h;var f=class{constructor(e,t){this.length=e,this.message=t,this.name="notice"}};tN(f,"NoticeMessage"),e.NoticeMessage=f}),iQ=tL(e=>{tz(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=tw.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){var t=this.buffer,i=t.length+(t.length>>1)+e;this.buffer=tw.allocUnsafe(i),t.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(e){var t=tw.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=t}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(e=""){var t=tw.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}return this.buffer.slice(5*!e,this.offset)}flush(e){var t=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=tw.allocUnsafe(this.size),t}};tN(t,"Writer"),e.Writer=t}),iV=tL(e=>{tz(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=iQ(),i=new t.Writer,r=tN(e=>{for(let t of(i.addInt16(3).addInt16(0),Object.keys(e)))i.addCString(t).addCString(e[t]);i.addCString("client_encoding").addCString("UTF8");var r=i.addCString("").flush(),n=r.length+4;return new t.Writer().addInt32(n).add(r).flush()},"startup"),n=tN(()=>{let e=tw.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(0x4d2162f,4),e},"requestSsl"),s=tN(e=>i.addCString(e).flush(112),"password"),a=tN(function(e,t){return i.addCString(e).addInt32(tw.byteLength(t)).addString(t),i.flush(112)},"sendSASLInitialResponseMessage"),o=tN(function(e){return i.addString(e).flush(112)},"sendSCRAMClientFinalMessage"),l=tN(e=>i.addCString(e).flush(81),"query"),c=[],p=tN(e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let r=e.types||c;for(var n=r.length,s=i.addCString(t).addCString(e.text).addInt16(n),a=0;a<n;a++)s.addInt32(r[a]);return i.flush(80)},"parse"),u=new t.Writer,d=tN(function(e,t){for(let r=0;r<e.length;r++){let n=t?t(e[r],r):e[r];null==n?(i.addInt16(0),u.addInt32(-1)):n instanceof tw?(i.addInt16(1),u.addInt32(n.length),u.add(n)):(i.addInt16(0),u.addInt32(tw.byteLength(n)),u.addString(n))}},"writeValues"),h=tN((e={})=>{let t=e.portal||"",r=e.statement||"",n=e.binary||!1,s=e.values||c,a=s.length;return i.addCString(t).addCString(r),i.addInt16(a),d(s,e.valueMapper),i.addInt16(a),i.add(u.flush()),i.addInt16(+!!n),i.flush(66)},"bind"),f=tw.from([69,0,0,0,9,0,0,0,0,0]),m=tN(e=>{if(!e||!e.portal&&!e.rows)return f;let t=e.portal||"",i=e.rows||0,r=tw.byteLength(t),n=4+r+1+4,s=tw.allocUnsafe(1+n);return s[0]=69,s.writeInt32BE(n,1),s.write(t,5,"utf-8"),s[r+5]=0,s.writeUInt32BE(i,s.length-4),s},"execute"),g=tN((e,t)=>{let i=tw.allocUnsafe(16);return i.writeInt32BE(16,0),i.writeInt16BE(1234,4),i.writeInt16BE(5678,6),i.writeInt32BE(e,8),i.writeInt32BE(t,12),i},"cancel"),v=tN((e,t)=>{let i=4+tw.byteLength(t)+1,r=tw.allocUnsafe(1+i);return r[0]=e,r.writeInt32BE(i,1),r.write(t,5,"utf-8"),r[i]=0,r},"cstringMessage"),y=i.addCString("P").flush(68),b=i.addCString("S").flush(68),x=tN(e=>e.name?v(68,`${e.type}${e.name||""}`):"P"===e.type?y:b,"describe"),_=tN(e=>v(67,`${e.type}${e.name||""}`),"close"),w=tN(e=>i.add(e).flush(100),"copyData"),S=tN(e=>v(102,e),"copyFail"),E=tN(e=>tw.from([e,0,0,0,4]),"codeOnlyBuffer"),T=E(72),k=E(83),A=E(88),P=E(99);e.serialize={startup:r,password:s,requestSsl:n,sendSASLInitialResponseMessage:a,sendSCRAMClientFinalMessage:o,query:l,parse:p,bind:h,execute:m,describe:x,close:_,flush:tN(()=>T,"flush"),sync:tN(()=>k,"sync"),end:tN(()=>A,"end"),copyData:w,copyDone:tN(()=>P,"copyDone"),copyFail:S,cancel:g}}),iG=tL(e=>{tz(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=tw.allocUnsafe(0),i=class{constructor(e=0){this.offset=e,this.buffer=t,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){let t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){let e=this.offset,t=e;for(;0!==this.buffer[t++];);return this.offset=t,this.buffer.toString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}};tN(i,"BufferReader"),e.BufferReader=i}),iZ=tL(e=>{tz(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=iH(),i=iG(),r=tw.allocUnsafe(0),n=class{constructor(e){if(this.buffer=r,this.bufferLength=0,this.bufferOffset=0,this.reader=new i.BufferReader,e?.mode==="binary")throw Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,t){this.mergeBuffer(e);let i=this.bufferOffset+this.bufferLength,n=this.bufferOffset;for(;n+5<=i;){let e=this.buffer[n],r=this.buffer.readUInt32BE(n+1),s=1+r;if(s+n<=i)t(this.handlePacket(n+5,e,r,this.buffer)),n+=s;else break}n===i?(this.buffer=r,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=i-n,this.bufferOffset=n)}mergeBuffer(e){if(this.bufferLength>0){let t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let e;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)e=this.buffer;else{let i=2*this.buffer.byteLength;for(;t>=i;)i*=2;e=tw.allocUnsafe(i)}this.buffer.copy(e,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=e,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,i,r,n){switch(i){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(e,r,n);case 67:return this.parseCommandCompleteMessage(e,r,n);case 90:return this.parseReadyForQueryMessage(e,r,n);case 65:return this.parseNotificationMessage(e,r,n);case 82:return this.parseAuthenticationResponse(e,r,n);case 83:return this.parseParameterStatusMessage(e,r,n);case 75:return this.parseBackendKeyData(e,r,n);case 69:return this.parseErrorMessage(e,r,n,"error");case 78:return this.parseErrorMessage(e,r,n,"notice");case 84:return this.parseRowDescriptionMessage(e,r,n);case 116:return this.parseParameterDescriptionMessage(e,r,n);case 71:return this.parseCopyInMessage(e,r,n);case 72:return this.parseCopyOutMessage(e,r,n);case 100:return this.parseCopyData(e,r,n);default:return new t.DatabaseError("received invalid response: "+i.toString(16),r,"error")}}parseReadyForQueryMessage(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.string(1);return new t.ReadyForQueryMessage(i,n)}parseCommandCompleteMessage(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.cstring();return new t.CommandCompleteMessage(i,n)}parseCopyData(e,i,r){let n=r.slice(e,e+(i-4));return new t.CopyDataMessage(i,n)}parseCopyInMessage(e,t,i){return this.parseCopyMessage(e,t,i,"copyInResponse")}parseCopyOutMessage(e,t,i){return this.parseCopyMessage(e,t,i,"copyOutResponse")}parseCopyMessage(e,i,r,n){this.reader.setBuffer(e,r);let s=0!==this.reader.byte(),a=this.reader.int16(),o=new t.CopyResponse(i,n,s,a);for(let e=0;e<a;e++)o.columnTypes[e]=this.reader.int16();return o}parseNotificationMessage(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.int32(),s=this.reader.cstring(),a=this.reader.cstring();return new t.NotificationResponseMessage(i,n,s,a)}parseRowDescriptionMessage(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.int16(),s=new t.RowDescriptionMessage(i,n);for(let e=0;e<n;e++)s.fields[e]=this.parseField();return s}parseField(){let e=this.reader.cstring(),i=this.reader.int32(),r=this.reader.int16(),n=this.reader.int32(),s=this.reader.int16(),a=this.reader.int32(),o=0===this.reader.int16()?"text":"binary";return new t.Field(e,i,r,n,s,a,o)}parseParameterDescriptionMessage(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.int16(),s=new t.ParameterDescriptionMessage(i,n);for(let e=0;e<n;e++)s.dataTypeIDs[e]=this.reader.int32();return s}parseDataRowMessage(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.int16(),s=Array(n);for(let e=0;e<n;e++){let t=this.reader.int32();s[e]=-1===t?null:this.reader.string(t)}return new t.DataRowMessage(i,s)}parseParameterStatusMessage(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.cstring(),s=this.reader.cstring();return new t.ParameterStatusMessage(i,n,s)}parseBackendKeyData(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.int32(),s=this.reader.int32();return new t.BackendKeyDataMessage(i,n,s)}parseAuthenticationResponse(e,i,r){this.reader.setBuffer(e,r);let n=this.reader.int32(),s={name:"authenticationOk",length:i};switch(n){case 0:break;case 3:8===s.length&&(s.name="authenticationCleartextPassword");break;case 5:if(12===s.length){s.name="authenticationMD5Password";let e=this.reader.bytes(4);return new t.AuthenticationMD5Password(i,e)}break;case 10:let a;s.name="authenticationSASL",s.mechanisms=[];do(a=this.reader.cstring())&&s.mechanisms.push(a);while(a)break;case 11:s.name="authenticationSASLContinue",s.data=this.reader.string(i-8);break;case 12:s.name="authenticationSASLFinal",s.data=this.reader.string(i-8);break;default:throw Error("Unknown authenticationOk message type "+n)}return s}parseErrorMessage(e,i,r,n){this.reader.setBuffer(e,r);let s={},a=this.reader.string(1);for(;"\0"!==a;)s[a]=this.reader.cstring(),a=this.reader.string(1);let o=s.M,l="notice"===n?new t.NoticeMessage(i,o):new t.DatabaseError(o,i,n);return l.severity=s.S,l.code=s.C,l.detail=s.D,l.hint=s.H,l.position=s.P,l.internalPosition=s.p,l.internalQuery=s.q,l.where=s.W,l.schema=s.s,l.table=s.t,l.column=s.c,l.dataType=s.d,l.constraint=s.n,l.file=s.F,l.line=s.L,l.routine=s.R,l}};tN(n,"Parser"),e.Parser=n}),iW=tL(e=>{tz(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=iH();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:tN(function(){return t.DatabaseError},"get")});var i=iV();Object.defineProperty(e,"serialize",{enumerable:!0,get:tN(function(){return i.serialize},"get")});var r=iZ();function n(e,t){let i=new r.Parser;return e.on("data",e=>i.parse(e,t)),new Promise(t=>e.on("end",()=>t()))}tN(n,"parse"),e.parse=n}),iK={};function iX({socket:e,servername:t}){return e.startTls(t),e}tj(iK,{connect:()=>iX});var iJ=tI(()=>{tz(),tN(iX,"connect")}),iY=tL((e,t)=>{tz();var i=(iz(),tB(iD)),r=tH().EventEmitter,{parse:n,serialize:s}=iW(),a=s.flush(),o=s.sync(),l=s.end(),c=class extends r{constructor(e){super(),e=e||{},this.stream=e.stream||new i.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var t=this;this.on("newListener",function(e){"message"===e&&(t._emitMessage=!0)})}connect(e,t){var r=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once("connect",function(){r._keepAlive&&r.stream.setKeepAlive(!0,r._keepAliveInitialDelayMillis),r.emit("connect")});let n=tN(function(e){r._ending&&("ECONNRESET"===e.code||"EPIPE"===e.code)||r.emit("error",e)},"reportStreamError");if(this.stream.on("error",n),this.stream.on("close",function(){r.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(e){switch(e.toString("utf8")){case"S":break;case"N":return r.stream.end(),r.emit("error",Error("The server does not support SSL connections"));default:return r.stream.end(),r.emit("error",Error("There was an error establishing an SSL connection"))}var s=(iJ(),tB(iK));let a={socket:r.stream};!0!==r.ssl&&(Object.assign(a,r.ssl),"key"in r.ssl&&(a.key=r.ssl.key)),0===i.isIP(t)&&(a.servername=t);try{r.stream=s.connect(a)}catch(e){return r.emit("error",e)}r.attachListeners(r.stream),r.stream.on("error",n),r.emit("sslconnect")})}attachListeners(e){e.on("end",()=>{this.emit("end")}),n(e,e=>{var t="error"===e.name?"errorMessage":e.name;this._emitMessage&&this.emit("message",e),this.emit(t,e)})}requestSsl(){this.stream.write(s.requestSsl())}startup(e){this.stream.write(s.startup(e))}cancel(e,t){this._send(s.cancel(e,t))}password(e){this._send(s.password(e))}sendSASLInitialResponseMessage(e,t){this._send(s.sendSASLInitialResponseMessage(e,t))}sendSCRAMClientFinalMessage(e){this._send(s.sendSCRAMClientFinalMessage(e))}_send(e){return!!this.stream.writable&&this.stream.write(e)}query(e){this._send(s.query(e))}parse(e){this._send(s.parse(e))}bind(e){this._send(s.bind(e))}execute(e){this._send(s.execute(e))}flush(){this.stream.writable&&this.stream.write(a)}sync(){this._ending=!0,this._send(a),this._send(o)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){return(this._ending=!0,this._connecting&&this.stream.writable)?this.stream.write(l,()=>{this.stream.end()}):void this.stream.end()}close(e){this._send(s.close(e))}describe(e){this._send(s.describe(e))}sendCopyFromChunk(e){this._send(s.copyData(e))}endCopyFrom(){this._send(s.copyDone())}sendCopyFail(e){this._send(s.copyFail(e))}};tN(c,"Connection"),t.exports=c}),i0=tL((e,t)=>{tz();var i=tH().EventEmitter,r=(tG(),tB(tQ),io()),n=il(),s=iT(),a=ik(),o=iL(),l=iM(),c=ia(),p=iY(),u=class extends i{constructor(e){super(),this.connectionParameters=new o(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||tb.Promise,this._types=new a(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new p({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||c.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=t.connectionTimeoutMillis||0}_errorAllQueries(e){let t=tN(t=>{tS.nextTick(()=>{t.handleError(e,this.connection)})},"enqueueError");this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0}_connect(e){var t=this,i=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let t=Error("Client has already been connected. You cannot reuse a client.");tS.nextTick(()=>{e(t)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{i._ending=!0,i.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){t.ssl?i.requestSsl():i.startup(t.getStartupConf())}),i.on("sslconnect",function(){i.startup(t.getStartupConf())}),this._attachListeners(i),i.once("end",()=>{let e=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(e),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(e):this._handleErrorEvent(e):this._connectionError||this._handleErrorEvent(e)),tS.nextTick(()=>{this.emit("end")})})}connect(e){return e?void this._connect(e):new this._Promise((e,t)=>{this._connect(i=>{i?t(i):e()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){let t=this.connection;"function"==typeof this.password?this._Promise.resolve().then(()=>this.password()).then(i=>{if(void 0!==i){if("string"!=typeof i)return void t.emit("error",TypeError("Password must be a string"));this.connectionParameters.password=this.password=i}else this.connectionParameters.password=this.password=null;e()}).catch(e=>{t.emit("error",e)}):null!==this.password?e():s(this.connectionParameters,t=>{void 0!==t&&(this.connectionParameters.password=this.password=t),e()})}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(()=>{let t=r.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(t)})}_handleAuthSASL(e){this._checkPgPass(()=>{this.saslSession=n.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){n.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(e){n.finalizeSession(this.saslSession,e.data),this.saslSession=null}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:t}=this;this.activeQuery=null,this.readyForQuery=!0,t&&t.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let t=this.activeQuery;t?(this.activeQuery=null,t.handleError(e,this.connection)):this._handleErrorEvent(e)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){var e=this.connectionParameters,t={user:e.user,database:e.database},i=e.application_name||e.fallback_application_name;return i&&(t.application_name=i),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t}cancel(e,t){if(e.activeQuery===t){var i=this.connection;this.host&&0===this.host.indexOf("/")?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){i.cancel(e.processID,e.secretKey)})}else -1!==e.queryQueue.indexOf(t)&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)}setTypeParser(e,t,i){return this._types.setTypeParser(e,t,i)}getTypeParser(e,t){return this._types.getTypeParser(e,t)}escapeIdentifier(e){return'"'+e.replace(/"/g,'""')+'"'}escapeLiteral(e){for(var t=!1,i="'",r=0;r<e.length;r++){var n=e[r];"'"===n?i+=n+n:"\\"===n?(i+=n+n,t=!0):i+=n}return i+="'",!0===t&&(i=" E"+i),i}_pulseQueryQueue(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&tS.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(e,t,i){var r,n,s,a,o;if(null==e)throw TypeError("Client was passed a null or undefined query");return"function"==typeof e.submit?(s=e.query_timeout||this.connectionParameters.query_timeout,n=r=e,"function"==typeof t&&(r.callback=r.callback||t)):(s=this.connectionParameters.query_timeout,(r=new l(e,t,i)).callback||(n=new this._Promise((e,t)=>{r.callback=(i,r)=>i?t(i):e(r)}))),s&&(o=r.callback,a=setTimeout(()=>{var e=Error("Query read timeout");tS.nextTick(()=>{r.handleError(e,this.connection)}),o(e),r.callback=()=>{};var t=this.queryQueue.indexOf(r);t>-1&&this.queryQueue.splice(t,1),this._pulseQueryQueue()},s),r.callback=(e,t)=>{clearTimeout(a),o(e,t)}),this.binary&&!r.binary&&(r.binary=!0),r._result&&!r._result._types&&(r._result._types=this._types),this._queryable?this._ending?tS.nextTick(()=>{r.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(r),this._pulseQueryQueue()):tS.nextTick(()=>{r.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),n}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting)if(!e)return this._Promise.resolve();else e();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)}};tN(u,"Client"),u.Query=l,t.exports=u}),i1=tL((e,t)=>{tz();var i=tH().EventEmitter,r=tN(function(){},"NOOP"),n=tN((e,t)=>{let i=e.findIndex(t);return -1===i?void 0:e.splice(i,1)[0]},"removeWhere"),s=class{constructor(e,t,i){this.client=e,this.idleListener=t,this.timeoutId=i}};tN(s,"IdleItem");var a=class{constructor(e){this.callback=e}};function o(){throw Error("Release called on client which has already been released to the pool.")}function l(e,t){let i,r;return t?{callback:t,result:void 0}:{callback:tN(function(e,t){e?i(e):r(t)},"cb"),result:new e(function(e,t){r=e,i=t}).catch(e=>{throw Error.captureStackTrace(e),e})}}function c(e,t){return tN(function i(r){r.client=t,t.removeListener("error",i),t.on("error",()=>{e.log("additional client error after disconnection due to error",r)}),e._remove(t),e.emit("error",r,t)},"idleListener")}tN(a,"PendingItem"),tN(o,"throwOnDoubleRelease"),tN(l,"promisify"),tN(c,"makeIdleListener");var p=class extends i{constructor(e,t){super(),this.options=Object.assign({},e),null!=e&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),null!=e&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||t||i7().Client,this.Promise=this.options.Promise||tb.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this._idle.pop();clearTimeout(t.timeoutId);let i=t.client;i.ref&&i.ref();let r=t.idleListener;return this._acquireClient(i,e,r,!1)}if(!this._isFull())return this.newClient(e);throw Error("unexpected condition")}_remove(e){let t=n(this._idle,t=>t.client===e);void 0!==t&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(t=>t!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){let t=Error("Cannot use a pool after calling end on the pool");return e?e(t):this.Promise.reject(t)}let t=l(this.Promise,e),i=t.result;if(this._isFull()||this._idle.length){if(this._idle.length&&tS.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new a(t.callback)),i;let e=tN((e,i,r)=>{clearTimeout(s),t.callback(e,i,r)},"queueCallback"),r=new a(e),s=setTimeout(()=>{n(this._pendingQueue,t=>t.callback===e),r.timedOut=!0,t.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(r),i}return this.newClient(new a(t.callback)),i}newClient(e){let t=new this.Client(this.options);this._clients.push(t);let i=c(this,t);this.log("checking client timeout");let n,s=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),s=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(o=>{if(n&&clearTimeout(n),t.on("error",i),o)this.log("client failed to connect",o),this._clients=this._clients.filter(e=>e!==t),s&&(o.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(o,void 0,r);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let e=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(t),-1!==this._idle.findIndex(e=>e.client===t)&&this._acquireClient(t,new a((e,t,i)=>i()),i,!1)},1e3*this.options.maxLifetimeSeconds);e.unref(),t.once("end",()=>clearTimeout(e))}return this._acquireClient(t,e,i,!0)}})}_acquireClient(e,t,i,n){n&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,i),e.removeListener("error",i),t.timedOut?n&&this.options.verify?this.options.verify(e,e.release):e.release():n&&this.options.verify?this.options.verify(e,i=>{if(i)return e.release(i),t.callback(i,void 0,r);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){let i=!1;return r=>{i&&o(),i=!0,this._release(e,t,r)}}_release(e,t,i){let r;if(e.on("error",t),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",i,e),i||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){this.log("remove expired client"),this._expired.delete(e),this._remove(e),this._pulseQueue();return}this.options.idleTimeoutMillis&&(r=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&r.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new s(e,t,r)),this._pulseQueue()}query(e,t,i){if("function"==typeof e){let t=l(this.Promise,e);return tx(function(){return t.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),t.result}"function"==typeof t&&(i=t,t=void 0);let r=l(this.Promise,i);return i=r.callback,this.connect((r,n)=>{if(r)return i(r);let s=!1,a=tN(e=>{s||(s=!0,n.release(e),i(e))},"onError");n.once("error",a),this.log("dispatching query");try{n.query(e,t,(e,t)=>{if(this.log("query dispatched"),n.removeListener("error",a),!s)return s=!0,n.release(e),e?i(e):i(void 0,t)})}catch(e){return n.release(e),i(e)}}),r.result}end(e){if(this.log("ending"),this.ending){let t=Error("Called end on pool more than once");return e?e(t):this.Promise.reject(t)}this.ending=!0;let t=l(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,t)=>e+ +!!this._expired.has(t),0)}get totalCount(){return this._clients.length}};tN(p,"Pool"),t.exports=p}),i2={};tj(i2,{default:()=>i6});var i6,i4=tI(()=>{tz(),i6={}}),i3=tL((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),i5=tL((e,t)=>{tz();var i=tH().EventEmitter,r=(tG(),tB(tQ)),n=io(),s=t.exports=function(e,t,r){i.call(this),e=n.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(e){"row"===e&&(this._emitRowEvents=!0)}).bind(this))};r.inherits(s,i);var a={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};s.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var i in t)e[a[i]||i]=t[i];this.callback?this.callback(e):this.emit("error",e),this.state="error"},s.prototype.then=function(e,t){return this._getPromise().then(e,t)},s.prototype.catch=function(e){return this._getPromise().catch(e)},s.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(e,t){this._once("end",e),this._once("error",t)}).bind(this))),this._promise},s.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var i=tN(function(i,r,n){if(e.native.arrayMode=!1,tx(function(){t.emit("_done")}),i)return t.handleError(i);t._emitRowEvents&&(n.length>1?r.forEach((e,i)=>{e.forEach(e=>{t.emit("row",e,n[i])})}):r.forEach(function(e){t.emit("row",e,n)})),t.state="end",t.emit("end",n),t.callback&&t.callback(null,n)},"after");if(tS.domain&&(i=tS.domain.bind(i)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var r=(this.values||[]).map(n.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let e=Error(`Pre\
pared statements must be unique - '${this.name}' was used for a different statem\
ent`);return i(e)}return e.native.execute(this.name,r,i)}return e.native.prepare(this.name,this.text,r.length,function(n){return n?i(n):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,r,i))})}if(this.values){if(!Array.isArray(this.values)){let e=Error("Query values must be an array");return i(e)}var s=this.values.map(n.prepareValue);e.native.query(this.text,s,i)}else e.native.query(this.text,i)}}),i8=tL((e,t)=>{tz();var i=(i4(),tB(i2)),r=ik(),n=(i3(),tH().EventEmitter),s=(tG(),tB(tQ)),a=iL(),o=i5(),l=t.exports=function(e){n.call(this),e=e||{},this._Promise=e.Promise||tb.Promise,this._types=new r(e.types),this.native=new i({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new a(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};l.Query=o,s.inherits(l,n),l.prototype._errorAllQueries=function(e){let t=tN(t=>{tS.nextTick(()=>{t.native=this.native,t.handleError(e)})},"enqueueError");this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0},l.prototype._connect=function(e){var t=this;this._connecting?tS.nextTick(()=>e(Error("Client has already been connected. You cannot reuse a client."))):(this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(i,r){if(i)return e(i);t.native.connect(r,function(i){if(i)return t.native.end(),e(i);t._connected=!0,t.native.on("error",function(e){t._queryable=!1,t._errorAllQueries(e),t.emit("error",e)}),t.native.on("notification",function(e){t.emit("notification",{channel:e.relname,payload:e.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})}))},l.prototype.connect=function(e){return e?void this._connect(e):new this._Promise((e,t)=>{this._connect(i=>{i?t(i):e()})})},l.prototype.query=function(e,t,i){var r,n,s,a,l;if(null==e)throw TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)s=e.query_timeout||this.connectionParameters.query_timeout,n=r=e,"function"==typeof t&&(e.callback=t);else if(s=this.connectionParameters.query_timeout,!(r=new o(e,t,i)).callback){let e,t;n=new this._Promise((i,r)=>{e=i,t=r}),r.callback=(i,r)=>i?t(i):e(r)}return s&&(l=r.callback,a=setTimeout(()=>{var e=Error("Query read timeout");tS.nextTick(()=>{r.handleError(e,this.connection)}),l(e),r.callback=()=>{};var t=this._queryQueue.indexOf(r);t>-1&&this._queryQueue.splice(t,1),this._pulseQueryQueue()},s),r.callback=(e,t)=>{clearTimeout(a),l(e,t)}),this._queryable?this._ending?(r.native=this.native,tS.nextTick(()=>{r.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(r),this._pulseQueryQueue()):(r.native=this.native,tS.nextTick(()=>{r.handleError(Error("Client has encountered a connection error and is not queryable"))})),n},l.prototype.end=function(e){var t,i=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(t=new this._Promise(function(t,i){e=tN(e=>e?i(e):t(),"cb")})),this.native.end(function(){i._errorAllQueries(Error("Connection terminated")),tS.nextTick(()=>{i.emit("end"),e&&e()})}),t},l.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},l.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var i=this;t.once("_done",function(){i._pulseQueryQueue()})}},l.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(e,t,i){return this._types.setTypeParser(e,t,i)},l.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}}),i9=tL((e,t)=>{tz(),t.exports=i8()}),i7=tL((e,t)=>{tz();var i=i0(),r=ia(),n=iY(),s=i1(),{DatabaseError:a}=iW(),o=tN(e=>{var t;return tN(t=class extends s{constructor(t){super(t,e)}},"BoundPool"),t},"poolFactory"),l=tN(function(e){this.defaults=r,this.Client=e,this.Query=this.Client.Query,this.Pool=o(this.Client),this._pools=[],this.Connection=n,this.types=is(),this.DatabaseError=a},"PG");"u">typeof tS.env.NODE_PG_FORCE_NATIVE?t.exports=new l(i9()):(t.exports=new l(i),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new l(i9())}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}return Object.defineProperty(t.exports,"native",{value:e}),e}}))});tz();var re=tD(i7());iz(),tz(),iz(),iN();var rt=tD(io()),ri=tD(ik());function rr(e){return e instanceof tw?"\\x"+e.toString("hex"):e}tN(rr,"encodeBuffersAsBytea");var rn=class e extends Error{constructor(t){super(t),tU(this,"name","NeonDbError"),tU(this,"severity"),tU(this,"code"),tU(this,"detail"),tU(this,"hint"),tU(this,"position"),tU(this,"internalPosition"),tU(this,"internalQuery"),tU(this,"where"),tU(this,"schema"),tU(this,"table"),tU(this,"column"),tU(this,"dataType"),tU(this,"constraint"),tU(this,"file"),tU(this,"line"),tU(this,"routine"),tU(this,"sourceError"),"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}};tN(rn,"NeonDbError");var rs="transaction() expects an array of queries, or a function returning an array of queries",ra=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function ro(e,{arrayMode:t,fullResults:i,fetchOptions:r,isolationLevel:n,readOnly:s,deferrable:a,queryCallback:o,resultCallback:l,authToken:c}={}){let p;if(!e)throw Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");try{p=iR(e)}catch{throw Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:u,username:d,hostname:h,port:f,pathname:m}=p;if("postgres:"!==u&&"postgresql:"!==u||!d||!h||!m)throw Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function g(e,...t){let i,r;if("string"==typeof e)i=e,r=t[1],t=t[0]??[];else{i="";for(let r=0;r<e.length;r++)i+=e[r],r<t.length&&(i+="$"+(r+1))}let n={query:i,params:t=t.map(e=>rr((0,rt.prepareValue)(e)))};return o&&o(n),rl(v,n,r)}async function v(o,p,u){let d,{fetchEndpoint:m,fetchFunction:g}=iF,v=Array.isArray(o)?{queries:o}:o,y=r??{},b=t??!1,x=i??!1,_=n,w=s,S=a;void 0!==u&&(void 0!==u.fetchOptions&&(y={...y,...u.fetchOptions}),void 0!==u.arrayMode&&(b=u.arrayMode),void 0!==u.fullResults&&(x=u.fullResults),void 0!==u.isolationLevel&&(_=u.isolationLevel),void 0!==u.readOnly&&(w=u.readOnly),void 0!==u.deferrable&&(S=u.deferrable)),void 0===p||Array.isArray(p)||void 0===p.fetchOptions||(y={...y,...p.fetchOptions});let E=c;Array.isArray(p)||p?.authToken===void 0||(E=p.authToken);let T="function"==typeof m?m(h,f,{jwtAuth:void 0!==E}):m,k={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},A=await rp(E);A&&(k.Authorization=`Bearer ${A}`),Array.isArray(o)&&(void 0!==_&&(k["Neon-Batch-Isolation-Level"]=_),void 0!==w&&(k["Neon-Batch-Read-Only"]=String(w)),void 0!==S&&(k["Neon-Batch-Deferrable"]=String(S)));try{d=await (g??fetch)(T,{method:"POST",body:JSON.stringify(v),headers:k,...y})}catch(t){let e=new rn(`Error connecting to database: ${t.message}`);throw e.sourceError=t,e}if(d.ok){let e=await d.json();if(Array.isArray(o)){let t=e.results;if(!Array.isArray(t))throw new rn("Neon internal error: unexpected result format");return t.map((e,t)=>{let i=p[t]??{};return rc(e,{arrayMode:i.arrayMode??b,fullResults:i.fullResults??x,parameterizedQuery:o[t],resultCallback:l,types:i.types})})}{let t=p??{};return rc(e,{arrayMode:t.arrayMode??b,fullResults:t.fullResults??x,parameterizedQuery:o,resultCallback:l,types:t.types})}}{let{status:e}=d;if(400===e){let e=await d.json(),t=new rn(e.message);for(let i of ra)t[i]=e[i]??void 0;throw t}{let t=await d.text();throw new rn(`Server er\
ror (HTTP status ${e}): ${t}`)}}}return tN(g,"resolve"),g.transaction=async(e,t)=>{if("function"==typeof e&&(e=e(g)),!Array.isArray(e))throw Error(rs);return e.forEach(e=>{if("NeonQueryPromise"!==e[Symbol.toStringTag])throw Error(rs)}),v(e.map(e=>e.parameterizedQuery),e.map(e=>e.opts??{}),t)},tN(v,"execute"),g}function rl(e,t,i){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:t,opts:i,then:tN((r,n)=>e(t,i).then(r,n),"then"),catch:tN(r=>e(t,i).catch(r),"catch"),finally:tN(r=>e(t,i).finally(r),"finally")}}function rc(e,{arrayMode:t,fullResults:i,parameterizedQuery:r,resultCallback:n,types:s}){let a=new ri.default(s),o=e.fields.map(e=>e.name),l=e.fields.map(e=>a.getTypeParser(e.dataTypeID)),c=!0===t?e.rows.map(e=>e.map((e,t)=>null===e?null:l[t](e))):e.rows.map(e=>Object.fromEntries(e.map((e,t)=>[o[t],null===e?null:l[t](e)])));return n&&n(r,e,c,{arrayMode:t,fullResults:i}),i?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=c,e._parsers=l,e._types=a,e):c}async function rp(e){if("string"==typeof e)return e;if("function"==typeof e)try{return await Promise.resolve(e())}catch(t){let e=new rn("Error getting auth token.");throw t instanceof Error&&(e=new rn(`Error getting auth toke\
n: ${t.message}`)),e}}tN(ro,"neon"),tN(rl,"createNeonQueryPromise"),tN(rc,"processQueryResult"),tN(rp,"getAuthToken");var ru=tD(iL()),rd=tD(i7()),rh=class extends re.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:t}=this;t.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&t.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let i=this.config?.host!==void 0||this.config?.connectionString!==void 0||void 0!==tS.env.PGHOST,r=tS.env.USER??tS.env.USERNAME;if(!i&&"localhost"===this.host&&this.user===r&&this.database===r&&null===this.password)throw Error(`No datab\
ase host or connection string was set, and key parameters have default values (h\
ost: localhost, user: ${r}, db: ${r}, password: null). Is an environment variabl\
e missing? Alternatively, if you intended to connect with these parameters, plea\
se set the host to 'localhost' explicitly.`);let n=super.connect(e),s=t.pipelineTLS&&this.ssl,a="password"===t.pipelineConnect;if(!s&&!t.pipelineConnect)return n;let o=this.connection;if(s&&o.on("connect",()=>o.stream.emit("data","S")),a){o.removeAllListeners("authenticationCleartextPassword"),o.removeAllListeners("readyForQuery"),o.once("readyForQuery",()=>o.on("readyForQuery",this._handleReadyForQuery.bind(this)));let e=this.ssl?"sslconnect":"connect";o.on(e,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return n}async _handleAuthSASLContinue(e){let t=this.saslSession,i=this.password,r=e.data;if("SASLInitialResponse"!==t.message||"string"!=typeof i||"string"!=typeof r)throw Error("SASL: protocol error");let n=Object.fromEntries(r.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]})),s=n.r,a=n.s,o=n.i;if(!s||!/^[!-+--~]+$/.test(s))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!a||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(a))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!o||!/^[1-9][0-9]*$/.test(o))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!s.startsWith(t.clientNonce))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(s.length===t.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let l=parseInt(o,10),c=tw.from(a,"base64"),p=new TextEncoder,u=p.encode(i),d=await t_.subtle.importKey("raw",u,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),h=new Uint8Array(await t_.subtle.sign("HMAC",d,tw.concat([c,tw.from([0,0,0,1])]))),f=h;for(var m=0;m<l-1;m++)h=new Uint8Array(await t_.subtle.sign("HMAC",d,h)),f=tw.from(f.map((e,t)=>f[t]^h[t]));let g=f,v=await t_.subtle.importKey("raw",g,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),y=new Uint8Array(await t_.subtle.sign("HMAC",v,p.encode("Client Key"))),b=await t_.subtle.digest("SHA-256",y),x="n=*,r="+t.clientNonce,_="r="+s+",s="+a+",i="+l,w="c=biws,r="+s,S=x+","+_+","+w,E=await t_.subtle.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var T=new Uint8Array(await t_.subtle.sign("HMAC",E,p.encode(S))),k=tw.from(y.map((e,t)=>y[t]^T[t])).toString("base64");let A=await t_.subtle.importKey("raw",g,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),P=await t_.subtle.sign("HMAC",A,p.encode("Server Key")),C=await t_.subtle.importKey("raw",P,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var O=tw.from(await t_.subtle.sign("HMAC",C,p.encode(S)));t.message="SASLResponse",t.serverSignature=O.toString("base64"),t.response=w+",p="+k,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};function rf(e,t){let i,r;return t?{callback:t,result:void 0}:{callback:tN(function(e,t){e?i(e):r(t)},"cb"),result:new e(function(e,t){r=e,i=t})}}tN(rh,"NeonClient"),tN(rf,"promisify");var rm=class extends re.Pool{constructor(){super(...arguments),tU(this,"Client",rh),tU(this,"hasFetchUnsupportedListeners",!1)}on(e,t){return"error"!==e&&(this.hasFetchUnsupportedListeners=!0),super.on(e,t)}query(e,t,i){if(!iF.poolQueryViaFetch||this.hasFetchUnsupportedListeners||"function"==typeof e)return super.query(e,t,i);"function"==typeof t&&(i=t,t=void 0);let r=rf(this.Promise,i);i=r.callback;try{let r=new ru.default(this.options),n=encodeURIComponent,s=encodeURI,a=`postgresql://${n(r.user)}:${n(r.password)}@${n(r.host)}/${s(r.database)}`,o="string"==typeof e?e:e.text,l=t??e.values??[];ro(a,{fullResults:!0,arrayMode:"array"===e.rowMode})(o,l,{types:e.types??this.options?.types}).then(e=>i(void 0,e)).catch(e=>i(e))}catch(e){i(e)}return r.result}};tN(rm,"NeonPool"),rd.ClientBase,rd.Connection,rd.DatabaseError,rd.Query,rd.defaults;var rg=rd.types;let rv=Symbol.for("drizzle:entityKind");function ry(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,rv))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let i=Object.getPrototypeOf(e).constructor;if(i)for(;i;){if(rv in i&&i[rv]===t[rv])return!0;i=Object.getPrototypeOf(i)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class rb{static [rv]="ConsoleLogWriter";write(e){console.log(e)}}class rx{static [rv]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new rb}logQuery(e,t){let i=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),r=i.length?` -- params: [${i.join(", ")}]`:"";this.writer.write(`Query: ${e}${r}`)}}class r_{static [rv]="NoopLogger";logQuery(){}}class rw{static [rv]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}class rS{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [rv]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}class rE{static [rv]="ColumnBuilder";config;constructor(e,t,i){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}let rT=Symbol.for("drizzle:Name");class rk{static [rv]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:i,foreignColumns:r}=e();return{name:t,columns:i,foreignTable:r[0].table,foreignColumns:r}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new rA(e,this)}}class rA{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [rv]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:i}=this.reference(),r=t.map(e=>e.name),n=i.map(e=>e.name),s=[this.table[rT],...r,i[0].table[rT],...n];return e??`${s.join("_")}_fk`}}function rP(e,...t){return e(...t)}function rC(e,t){return`${e[rT]}_${t.join("_")}_unique`}class rO{constructor(e,t){this.name=t,this.columns=e}static [rv]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new rN(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class rR{static [rv]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new rO(e,this.name)}}class rN{constructor(e,t,i,r){this.table=e,this.columns=t,this.name=r??rC(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=i}static [rv]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function rI(e,t,i){for(let r=t;r<e.length;r++){let n=e[r];if("\\"===n){r++;continue}if('"'===n)return[e.slice(t,r).replace(/\\/g,""),r+1];if(!i&&(","===n||"}"===n))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}class rL extends rE{foreignKeyConfigs=[];static [rv]="PgColumnBuilder";array(e){return new rB(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:i,actions:r})=>rP((i,r)=>{let n=new rk(()=>({columns:[e],foreignColumns:[i()]}));return r.onUpdate&&n.onUpdate(r.onUpdate),r.onDelete&&n.onDelete(r.onDelete),n.build(t)},i,r))}buildExtraConfigColumn(e){return new rM(e,this.config)}}class rj extends rS{constructor(e,t){t.uniqueName||(t.uniqueName=rC(e,[t.name])),super(e,t),this.table=e}static [rv]="PgColumn"}class rM extends rj{static [rv]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class rD{static [rv]="IndexedColumn";constructor(e,t,i,r){this.name=e,this.keyAsName=t,this.type=i,this.indexConfig=r}name;keyAsName;type;indexConfig}class rB extends rL{static [rv]="PgArrayBuilder";constructor(e,t,i){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=i}build(e){let t=this.config.baseBuilder.build(e);return new rU(e,this.config,t)}}class rU extends rj{constructor(e,t,i,r){super(e,t),this.baseColumn=i,this.range=r,this.size=t.size}size;static [rv]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,i=0){let r=[],n=i,s=!1;for(;n<t.length;){let a=t[n];if(","===a){(s||n===i)&&r.push(""),s=!0,n++;continue}if(s=!1,"\\"===a){n+=2;continue}if('"'===a){let[e,i]=rI(t,n+1,!0);r.push(e),n=i;continue}if("}"===a)return[r,n+1];if("{"===a){let[i,s]=e(t,n+1);r.push(i),n=s;continue}let[o,l]=rI(t,n,!1);r.push(o),n=l}return[r,n]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let i=e.map(e=>null===e?null:ry(this.baseColumn,rU)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?i:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(i)}}let rq=Symbol.for("drizzle:isPgEnum");class r$ extends rL{static [rv]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new rF(e,this.config)}}class rF extends rj{static [rv]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}class rz{static [rv]="Subquery";constructor(e,t,i,r=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:i,isWith:r}}}class rH extends rz{static [rv]="WithSubquery"}let rQ=(e,t)=>r?(n||(n=r.trace.getTracer("drizzle-orm","0.39.1")),rP((i,r)=>r.startActiveSpan(e,e=>{try{return t(e)}catch(t){throw e.setStatus({code:i.SpanStatusCode.ERROR,message:t instanceof Error?t.message:"Unknown error"}),t}finally{e.end()}}),r,n)):t(),rV=Symbol.for("drizzle:ViewBaseConfig"),rG=Symbol.for("drizzle:Schema"),rZ=Symbol.for("drizzle:Columns"),rW=Symbol.for("drizzle:ExtraConfigColumns"),rK=Symbol.for("drizzle:OriginalName"),rX=Symbol.for("drizzle:BaseName"),rJ=Symbol.for("drizzle:IsAlias"),rY=Symbol.for("drizzle:ExtraConfigBuilder"),r0=Symbol.for("drizzle:IsDrizzleTable");class r1{static [rv]="Table";static Symbol={Name:rT,Schema:rG,OriginalName:rK,Columns:rZ,ExtraConfigColumns:rW,BaseName:rX,IsAlias:rJ,ExtraConfigBuilder:rY};[rT];[rK];[rG];[rZ];[rW];[rX];[rJ]=!1;[r0]=!0;[rY]=void 0;constructor(e,t,i){this[rT]=this[rK]=e,this[rG]=t,this[rX]=i}}function r2(e){return"object"==typeof e&&null!==e&&r0 in e}function r6(e){return`${e[rG]??"public"}.${e[rT]}`}class r4{static [rv]="FakePrimitiveParam"}function r3(e){return null!=e&&"function"==typeof e.getSQL}class r5{static [rv]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new r8([this])}}class r8{constructor(e){this.queryChunks=e}static [rv]="SQL";decoder=r7;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return rQ("drizzle.buildSQL",t=>{let i=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(e,t){let i=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:r,escapeName:n,escapeParam:s,prepareTyping:a,inlineParams:o,paramStartIndex:l}=i;var c=e.map(e=>{if(ry(e,r5))return{sql:e.value.join(""),params:[]};if(ry(e,r9))return{sql:n(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new r5("(")];for(let[i,r]of e.entries())t.push(r),i<e.length-1&&t.push(new r5(", "));return t.push(new r5(")")),this.buildQueryFromSourceParams(t,i)}if(ry(e,r8))return this.buildQueryFromSourceParams(e.queryChunks,{...i,inlineParams:o||e.shouldInlineParams});if(ry(e,r1)){let t=e[r1.Symbol.Schema],i=e[r1.Symbol.Name];return{sql:void 0===t||e[rJ]?n(i):n(t)+"."+n(i),params:[]}}if(ry(e,rS)){let i=r.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:n(i),params:[]};let s=e.table[r1.Symbol.Schema];return{sql:e.table[rJ]||void 0===s?n(e.table[r1.Symbol.Name])+"."+n(i):n(s)+"."+n(e.table[r1.Symbol.Name])+"."+n(i),params:[]}}if(ry(e,nl)){let t=e[rV].schema,i=e[rV].name;return{sql:void 0===t||e[rV].isAlias?n(i):n(t)+"."+n(i),params:[]}}if(ry(e,nt)){if(ry(e.value,ns))return{sql:s(l.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if(ry(t,r8))return this.buildQueryFromSourceParams([t],i);if(o)return{sql:this.mapInlineParam(t,i),params:[]};let r=["none"];return a&&(r=[a(e.encoder)]),{sql:s(l.value++,t),params:[t],typings:r}}return ry(e,ns)?{sql:s(l.value++,e),params:[e],typings:["none"]}:ry(e,r8.Aliased)&&void 0!==e.fieldAlias?{sql:n(e.fieldAlias),params:[]}:ry(e,rz)?e._.isWith?{sql:n(e._.alias),params:[]}:this.buildQueryFromSourceParams([new r5("("),e._.sql,new r5(") "),new r9(e._.alias)],i):e&&"function"==typeof e&&rq in e&&!0===e[rq]?e.schema?{sql:n(e.schema)+"."+n(e.enumName),params:[]}:{sql:n(e.enumName),params:[]}:r3(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],i):this.buildQueryFromSourceParams([new r5("("),e.getSQL(),new r5(")")],i):o?{sql:this.mapInlineParam(e,i),params:[]}:{sql:s(l.value++,e),params:[e],typings:["none"]}});let p={sql:"",params:[]};for(let e of c)p.sql+=e.sql,p.params.push(...e.params),e.typings?.length&&(p.typings||(p.typings=[]),p.typings.push(...e.typings));return p}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let i=e.toString();return"[object Object]"===i?t(JSON.stringify(e)):t(i)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new r8.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class r9{constructor(e){this.value=e}static [rv]="Name";brand;getSQL(){return new r8([this])}}let r7={mapFromDriverValue:e=>e},ne={mapToDriverValue:e=>e};({...r7,...ne});class nt{constructor(e,t=ne){this.value=e,this.encoder=t}static [rv]="Param";brand;getSQL(){return new r8([this])}}function ni(e,...t){let i=[];for(let[r,n]of((t.length>0||e.length>0&&""!==e[0])&&i.push(new r5(e[0])),t.entries()))i.push(n,new r5(e[r+1]));return new r8(i)}(o=ni||(ni={})).empty=function(){return new r8([])},o.fromList=function(e){return new r8(e)},o.raw=function(e){return new r8([new r5(e)])},o.join=function(e,t){let i=[];for(let[r,n]of e.entries())r>0&&void 0!==t&&i.push(t),i.push(n);return new r8(i)},o.identifier=function(e){return new r9(e)},o.placeholder=function(e){return new ns(e)},o.param=function(e,t){return new nt(e,t)};var nr=r8||(r8={});class nn{constructor(e,t){this.sql=e,this.fieldAlias=t}static [rv]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new nn(this.sql,this.fieldAlias)}}nr.Aliased=nn;class ns{constructor(e){this.name=e}static [rv]="Placeholder";getSQL(){return new r8([this])}}function na(e,t){return e.map(e=>{if(ry(e,ns)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if(ry(e,nt)&&ry(e.value,ns)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let no=Symbol.for("drizzle:IsDrizzleView");class nl{static [rv]="View";[rV];[no]=!0;constructor({name:e,schema:t,selectedFields:i,query:r}){this[rV]={name:e,originalName:e,schema:t,selectedFields:i,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new r8([this])}}rS.prototype.getSQL=function(){return new r8([this])},r1.prototype.getSQL=function(){return new r8([this])},rz.prototype.getSQL=function(){return new r8([this])};class nc{constructor(e){this.table=e}static [rv]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class np{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [rv]="TableAliasProxyHandler";get(e,t){if(t===r1.Symbol.IsAlias)return!0;if(t===r1.Symbol.Name||this.replaceOriginalName&&t===r1.Symbol.OriginalName)return this.alias;if(t===rV)return{...e[rV],name:this.alias,isAlias:!0};if(t===r1.Symbol.Columns){let t=e[r1.Symbol.Columns];if(!t)return t;let i={};return Object.keys(t).map(r=>{i[r]=new Proxy(t[r],new nc(new Proxy(e,this)))}),i}let i=e[t];return ry(i,rS)?new Proxy(i,new nc(new Proxy(e,this))):i}}class nu{constructor(e){this.alias=e}static [rv]="RelationTableAliasProxyHandler";get(e,t){return"sourceTable"===t?nd(e.sourceTable,this.alias):e[t]}}function nd(e,t){return new Proxy(e,new np(t,!1))}function nh(e,t){return new Proxy(e,new nc(new Proxy(e.table,new np(t,!1))))}function nf(e,t){return new r8.Aliased(nm(e.sql,t),e.fieldAlias)}function nm(e,t){return ni.join(e.queryChunks.map(e=>ry(e,rS)?nh(e,t):ry(e,r8)?nm(e,t):ry(e,r8.Aliased)?nf(e,t):e))}class ng{static [rv]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,t){if("_"===t)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(t===rV)return{...e[rV],selectedFields:new Proxy(e[rV].selectedFields,this)};if("symbol"==typeof t)return e[t];let i=(ry(e,rz)?e._.selectedFields:ry(e,nl)?e[rV].selectedFields:e)[t];if(ry(i,r8.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!i.isSelectionField)return i.sql;let e=i.clone();return e.isSelectionField=!0,e}if(ry(i,r8)){if("sql"===this.config.sqlBehavior)return i;throw Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return ry(i,rS)?this.config.alias?new Proxy(i,new nc(new Proxy(i.table,new np(this.config.alias,this.config.replaceOriginalName??!1)))):i:"object"!=typeof i||null===i?i:new Proxy(i,new ng(this.config))}}function nv(e,t){return Object.entries(e).reduce((e,[i,r])=>{if("string"!=typeof i)return e;let n=t?[...t,i]:[i];return ry(r,rS)||ry(r,r8)||ry(r,r8.Aliased)?e.push({path:n,field:r}):ry(r,r1)?e.push(...nv(r[r1.Symbol.Columns],n)):e.push(...nv(r,n)),e},[])}function ny(e,t){let i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(let[e,t]of i.entries())if(t!==r[e])return!1;return!0}function nb(e,t){let i=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,i])=>ry(i,r8)||ry(i,rS)?[t,i]:[t,new nt(i,e[r1.Symbol.Columns][t])]);if(0===i.length)throw Error("No values to set");return Object.fromEntries(i)}function nx(e){return e[r1.Symbol.Columns]}function n_(e){return ry(e,rz)?e._.alias:ry(e,nl)?e[rV].name:ry(e,r8)?void 0:e[r1.Symbol.IsAlias]?e[r1.Symbol.Name]:e[r1.Symbol.BaseName]}function nw(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}class nS extends rw{constructor(e,t,i,r){super(),this.session=t,this.dialect=i,this.config={table:e,withList:r}}static [rv]="PgDelete";config;where(e){return this.config.where=e,this}returning(e=this.config.table[r1.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=nv(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return rQ("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>rQ("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new ng({alias:this.config.table[rT],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}function nE(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function nT(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,i)=>e+(0===i?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function nk(e){return e}class nA{static [rv]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?nE:"camelCase"===e?nT:nk}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[r1.Symbol.Schema]??"public",i=e.table[r1.Symbol.OriginalName],r=`${t}.${i}.${e.name}`;return this.cache[r]||this.cacheTable(e.table),this.cache[r]}cacheTable(e){let t=e[r1.Symbol.Schema]??"public",i=e[r1.Symbol.OriginalName],r=`${t}.${i}`;if(!this.cachedTables[r]){for(let t of Object.values(e[r1.Symbol.Columns])){let e=`${r}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[r]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class nP extends Error{static [rv]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class nC extends nP{static [rv]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}class nO extends rL{static [rv]="PgDateColumnBaseBuilder";defaultNow(){return this.default(ni`now()`)}}class nR extends nO{static [rv]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new nN(e,this.config)}}class nN extends rj{static [rv]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class nI extends nO{static [rv]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new nL(e,this.config)}}class nL extends rj{static [rv]="PgDateString";getSQLType(){return"date"}}function nj(e,t){let{name:i,config:r}=nw(e,t);return r?.mode==="date"?new nR(i):new nI(i)}class nM extends rL{static [rv]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new nD(e,this.config)}}class nD extends rj{static [rv]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function nB(e){return new nM(e??"")}class nU extends rL{static [rv]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new nq(e,this.config)}}class nq extends rj{static [rv]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function n$(e){return new nU(e??"")}class nF extends rL{static [rv]="PgNumericBuilder";constructor(e,t,i){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=i}build(e){return new nz(e,this.config)}}class nz extends rj{static [rv]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function nH(e,t){let{name:i,config:r}=nw(e,t);return new nF(i,r?.precision,r?.scale)}class nQ extends nO{constructor(e,t,i){super(e,"string","PgTime"),this.withTimezone=t,this.precision=i,this.config.withTimezone=t,this.config.precision=i}static [rv]="PgTimeBuilder";build(e){return new nV(e,this.config)}}class nV extends rj{static [rv]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function nG(e,t={}){let{name:i,config:r}=nw(e,t);return new nQ(i,r.withTimezone??!1,r.precision)}class nZ extends nO{static [rv]="PgTimestampBuilder";constructor(e,t,i){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=i}build(e){return new nW(e,this.config)}}class nW extends rj{static [rv]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class nK extends nO{static [rv]="PgTimestampStringBuilder";constructor(e,t,i){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=i}build(e){return new nX(e,this.config)}}class nX extends rj{static [rv]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function nJ(e,t={}){let{name:i,config:r}=nw(e,t);return r?.mode==="string"?new nK(i,r.withTimezone??!1,r.precision):new nZ(i,r?.withTimezone??!1,r?.precision)}class nY extends rL{static [rv]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(ni`gen_random_uuid()`)}build(e){return new n0(e,this.config)}}class n0 extends rj{static [rv]="PgUUID";getSQLType(){return"uuid"}}function n1(e){return new nY(e??"")}class n2 extends rL{static [rv]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...i}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...i}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class n6 extends n2{static [rv]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new n4(e,this.config)}}class n4 extends rj{static [rv]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class n3 extends n2{static [rv]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new n5(e,this.config)}}class n5 extends rj{static [rv]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function n8(e,t){let{name:i,config:r}=nw(e,t);return"number"===r.mode?new n6(i):new n3(i)}class n9 extends rL{static [rv]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new n7(e,this.config)}}class n7 extends rj{static [rv]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class se extends rL{static [rv]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new st(e,this.config)}}class st extends rj{static [rv]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function si(e,t){let{name:i,config:r}=nw(e,t);return"number"===r.mode?new n9(i):new se(i)}class sr extends rL{static [rv]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new sn(e,this.config)}}class sn extends rj{static [rv]="PgBoolean";getSQLType(){return"boolean"}}function ss(e){return new sr(e??"")}class sa extends rL{static [rv]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new so(e,this.config)}}class so extends rj{static [rv]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function sl(e,t={}){let{name:i,config:r}=nw(e,t);return new sa(i,r)}class sc extends rL{static [rv]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new sp(e,this.config)}}class sp extends rj{static [rv]="PgCidr";getSQLType(){return"cidr"}}function su(e){return new sc(e??"")}class sd extends rL{static [rv]="PgCustomColumnBuilder";constructor(e,t,i){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=i}build(e){return new sh(e,this.config)}}class sh extends rj{static [rv]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function sf(e){return(t,i)=>{let{name:r,config:n}=nw(t,i);return new sd(r,n,e)}}class sm extends rL{static [rv]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new sg(e,this.config)}}class sg extends rj{static [rv]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function sv(e){return new sm(e??"")}class sy extends rL{static [rv]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new sb(e,this.config)}}class sb extends rj{static [rv]="PgInet";getSQLType(){return"inet"}}function sx(e){return new sy(e??"")}class s_ extends n2{static [rv]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new sw(e,this.config)}}class sw extends rj{static [rv]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function sS(e){return new s_(e??"")}class sE extends rL{static [rv]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new sT(e,this.config)}}class sT extends rj{static [rv]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function sk(e,t={}){let{name:i,config:r}=nw(e,t);return new sE(i,r)}class sA extends rL{static [rv]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new sP(e,this.config)}}class sP extends rj{static [rv]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,i,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(i),Number.parseFloat(r)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class sC extends rL{static [rv]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new sO(e,this.config)}}class sO extends rj{static [rv]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,i,r]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(i),c:Number.parseFloat(r)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function sR(e,t){let{name:i,config:r}=nw(e,t);return r?.mode&&"tuple"!==r.mode?new sC(i):new sA(i)}class sN extends rL{static [rv]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new sI(e,this.config)}}class sI extends rj{static [rv]="PgMacaddr";getSQLType(){return"macaddr"}}function sL(e){return new sN(e??"")}class sj extends rL{static [rv]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new sM(e,this.config)}}class sM extends rj{static [rv]="PgMacaddr8";getSQLType(){return"macaddr8"}}function sD(e){return new sj(e??"")}class sB extends rL{static [rv]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new sU(e,this.config)}}class sU extends rj{static [rv]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(i)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class sq extends rL{static [rv]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new s$(e,this.config)}}class s$ extends rj{static [rv]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,i]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(i)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function sF(e,t){let{name:i,config:r}=nw(e,t);return r?.mode&&"tuple"!==r.mode?new sq(i):new sB(i)}function sz(e,t){let i=new DataView(new ArrayBuffer(8));for(let r=0;r<8;r++)i.setUint8(r,e[t+r]);return i.getFloat64(0,!0)}function sH(e){let t=function(e){let t=[];for(let i=0;i<e.length;i+=2)t.push(Number.parseInt(e.slice(i,i+2),16));return new Uint8Array(t)}(e),i=0,r=t[0];i+=1;let n=new DataView(t.buffer),s=n.getUint32(i,1===r);if(i+=4,0x20000000&s&&(n.getUint32(i,1===r),i+=4),(65535&s)==1){let e=sz(t,i),r=sz(t,i+=8);return i+=8,[e,r]}throw Error("Unsupported geometry type")}class sQ extends rL{static [rv]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new sV(e,this.config)}}class sV extends rj{static [rv]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return sH(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class sG extends rL{static [rv]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new sZ(e,this.config)}}class sZ extends rj{static [rv]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=sH(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function sW(e,t){let{name:i,config:r}=nw(e,t);return r?.mode&&"tuple"!==r.mode?new sG(i):new sQ(i)}class sK extends rL{static [rv]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new sX(e,this.config)}}class sX extends rj{static [rv]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function sJ(e){return new sK(e??"")}class sY extends rL{static [rv]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new s0(e,this.config)}}class s0 extends rj{static [rv]="PgSerial";getSQLType(){return"serial"}}function s1(e){return new sY(e??"")}class s2 extends n2{static [rv]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new s6(e,this.config)}}class s6 extends rj{static [rv]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function s4(e){return new s2(e??"")}class s3 extends rL{static [rv]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new s5(e,this.config)}}class s5 extends rj{static [rv]="PgSmallSerial";getSQLType(){return"smallserial"}}function s8(e){return new s3(e??"")}class s9 extends rL{static [rv]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new s7(e,this.config)}}class s7 extends rj{static [rv]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ae(e,t={}){let{name:i,config:r}=nw(e,t);return new s9(i,r)}class at extends rL{static [rv]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new ai(e,this.config)}}class ai extends rj{static [rv]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function ar(e,t={}){let{name:i,config:r}=nw(e,t);return new at(i,r)}class an extends rL{static [rv]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new as(e,this.config)}}class as extends rj{static [rv]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function aa(e,t){let{name:i,config:r}=nw(e,t);return new an(i,r)}class ao extends rL{static [rv]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new al(e,this.config)}}class al extends rj{static [rv]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function ac(e,t){let{name:i,config:r}=nw(e,t);return new ao(i,r)}class ap extends rL{static [rv]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new au(e,this.config)}}class au extends rj{static [rv]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function ad(e,t){let{name:i,config:r}=nw(e,t);return new ap(i,r)}class ah extends rL{static [rv]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new af(e,this.config)}}class af extends rj{static [rv]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function am(e,t){let{name:i,config:r}=nw(e,t);return new ah(i,r)}let ag=Symbol.for("drizzle:PgInlineForeignKeys"),av=Symbol.for("drizzle:EnableRLS");class ay extends r1{static [rv]="PgTable";static Symbol=Object.assign({},r1.Symbol,{InlineForeignKeys:ag,EnableRLS:av});[ag]=[];[av]=!1;[r1.Symbol.ExtraConfigBuilder]=void 0}let ab=(e,t,i)=>(function(e,t,i,r,n=e){let s=new ay(e,r,n),a="function"==typeof t?t({bigint:n8,bigserial:si,boolean:ss,char:sl,cidr:su,customType:sf,date:nj,doublePrecision:sv,inet:sx,integer:sS,interval:sk,json:nB,jsonb:n$,line:sR,macaddr:sL,macaddr8:sD,numeric:nH,point:sF,geometry:sW,real:sJ,serial:s1,smallint:s4,smallserial:s8,text:ae,time:nG,timestamp:nJ,uuid:n1,varchar:ar,bit:aa,halfvec:ac,sparsevec:ad,vector:am}):t,o=Object.fromEntries(Object.entries(a).map(([e,t])=>{t.setName(e);let i=t.build(s);return s[ag].push(...t.buildForeignKeys(i,s)),[e,i]})),l=Object.fromEntries(Object.entries(a).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(s)]))),c=Object.assign(s,o);return c[r1.Symbol.Columns]=o,c[r1.Symbol.ExtraConfigColumns]=l,i&&(c[ay.Symbol.ExtraConfigBuilder]=i),Object.assign(c,{enableRLS:()=>(c[ay.Symbol.EnableRLS]=!0,c)})})(e,t,i,void 0);class ax{static [rv]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new a_(e,this.columns,this.name)}}class a_{constructor(e,t,i){this.table=e,this.columns=t,this.name=i}static [rv]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[ay.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}function aw(e,t){return"object"!=typeof t||null===t||!("mapToDriverValue"in t)||"function"!=typeof t.mapToDriverValue||r3(e)||ry(e,nt)||ry(e,ns)||ry(e,rS)||ry(e,r1)||ry(e,nl)?e:new nt(e,t)}let aS=(e,t)=>ni`${e} = ${aw(t,e)}`,aE=(e,t)=>ni`${e} <> ${aw(t,e)}`;function aT(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new r8(1===t.length?t:[new r5("("),ni.join(t,new r5(" and ")),new r5(")")])}function ak(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new r8(1===t.length?t:[new r5("("),ni.join(t,new r5(" or ")),new r5(")")])}function aA(e){return ni`not ${e}`}let aP=(e,t)=>ni`${e} > ${aw(t,e)}`,aC=(e,t)=>ni`${e} >= ${aw(t,e)}`,aO=(e,t)=>ni`${e} < ${aw(t,e)}`,aR=(e,t)=>ni`${e} <= ${aw(t,e)}`;function aN(e,t){return Array.isArray(t)?0===t.length?ni`false`:ni`${e} in ${t.map(t=>aw(t,e))}`:ni`${e} in ${aw(t,e)}`}function aI(e,t){return Array.isArray(t)?0===t.length?ni`true`:ni`${e} not in ${t.map(t=>aw(t,e))}`:ni`${e} not in ${aw(t,e)}`}function aL(e){return ni`${e} is null`}function aj(e){return ni`${e} is not null`}function aM(e){return ni`exists ${e}`}function aD(e){return ni`not exists ${e}`}function aB(e,t,i){return ni`${e} between ${aw(t,e)} and ${aw(i,e)}`}function aU(e,t,i){return ni`${e} not between ${aw(t,e)} and ${aw(i,e)}`}function aq(e,t){return ni`${e} like ${t}`}function a$(e,t){return ni`${e} not like ${t}`}function aF(e,t){return ni`${e} ilike ${t}`}function az(e,t){return ni`${e} not ilike ${t}`}function aH(e){return ni`${e} asc`}function aQ(e){return ni`${e} desc`}class aV{constructor(e,t,i){this.sourceTable=e,this.referencedTable=t,this.relationName=i,this.referencedTableName=t[r1.Symbol.Name]}static [rv]="Relation";referencedTableName;fieldName}class aG{constructor(e,t){this.table=e,this.config=t}static [rv]="Relations"}class aZ extends aV{constructor(e,t,i,r){super(e,t,i?.relationName),this.config=i,this.isNullable=r}static [rv]="One";withFieldName(e){let t=new aZ(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class aW extends aV{constructor(e,t,i){super(e,t,i?.relationName),this.config=i}static [rv]="Many";withFieldName(e){let t=new aW(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function aK(e){return{one:function(t,i){return new aZ(e,t,i,i?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,i){return new aW(e,t,i)}}}class aX extends nl{static [rv]="PgViewBase"}class aJ{static [rv]="PgDialect";casing;constructor(e){this.casing=new nA(e?.casing)}async migrate(e,t,i){let r="string"==typeof i?"__drizzle_migrations":i.migrationsTable??"__drizzle_migrations",n="string"==typeof i?"drizzle":i.migrationsSchema??"drizzle",s=ni`
			CREATE TABLE IF NOT EXISTS ${ni.identifier(n)}.${ni.identifier(r)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute(ni`CREATE SCHEMA IF NOT EXISTS ${ni.identifier(n)}`),await t.execute(s);let a=(await t.all(ni`select id, hash, created_at from ${ni.identifier(n)}.${ni.identifier(r)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let i of e)if(!a||Number(a.created_at)<i.folderMillis){for(let e of i.sql)await t.execute(ni.raw(e));await t.execute(ni`insert into ${ni.identifier(n)}.${ni.identifier(r)} ("hash", "created_at") values(${i.hash}, ${i.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[ni`with `];for(let[i,r]of e.entries())t.push(ni`${ni.identifier(r._.alias)} as (${r._.sql})`),i<e.length-1&&t.push(ni`, `);return t.push(ni` `),ni.join(t)}buildDeleteQuery({table:e,where:t,returning:i,withList:r}){let n=this.buildWithCTE(r),s=i?ni` returning ${this.buildSelection(i,{isSingleTable:!0})}`:void 0,a=t?ni` where ${t}`:void 0;return ni`${n}delete from ${e}${a}${s}`}buildUpdateSet(e,t){let i=e[r1.Symbol.Columns],r=Object.keys(i).filter(e=>void 0!==t[e]||i[e]?.onUpdateFn!==void 0),n=r.length;return ni.join(r.flatMap((e,r)=>{let s=i[e],a=t[e]??ni.param(s.onUpdateFn(),s),o=ni`${ni.identifier(this.casing.getColumnCasing(s))} = ${a}`;return r<n-1?[o,ni.raw(", ")]:[o]}))}buildUpdateQuery({table:e,set:t,where:i,returning:r,withList:n,from:s,joins:a}){let o=this.buildWithCTE(n),l=e[ay.Symbol.Name],c=e[ay.Symbol.Schema],p=e[ay.Symbol.OriginalName],u=l===p?void 0:l,d=ni`${c?ni`${ni.identifier(c)}.`:void 0}${ni.identifier(p)}${u&&ni` ${ni.identifier(u)}`}`,h=this.buildUpdateSet(e,t),f=s&&ni.join([ni.raw(" from "),this.buildFromTable(s)]),m=this.buildJoins(a),g=r?ni` returning ${this.buildSelection(r,{isSingleTable:!s})}`:void 0,v=i?ni` where ${i}`:void 0;return ni`${o}update ${d} set ${h}${f}${m}${v}${g}`}buildSelection(e,{isSingleTable:t=!1}={}){let i=e.length,r=e.flatMap(({field:e},r)=>{let n=[];if(ry(e,r8.Aliased)&&e.isSelectionField)n.push(ni.identifier(e.fieldAlias));else if(ry(e,r8.Aliased)||ry(e,r8)){let i=ry(e,r8.Aliased)?e.sql:e;t?n.push(new r8(i.queryChunks.map(e=>ry(e,rj)?ni.identifier(this.casing.getColumnCasing(e)):e))):n.push(i),ry(e,r8.Aliased)&&n.push(ni` as ${ni.identifier(e.fieldAlias)}`)}else ry(e,rS)&&(t?n.push(ni.identifier(this.casing.getColumnCasing(e))):n.push(e));return r<i-1&&n.push(ni`, `),n});return ni.join(r)}buildJoins(e){if(!e||0===e.length)return;let t=[];for(let[i,r]of e.entries()){0===i&&t.push(ni` `);let n=r.table,s=r.lateral?ni` lateral`:void 0;if(ry(n,ay)){let e=n[ay.Symbol.Name],i=n[ay.Symbol.Schema],a=n[ay.Symbol.OriginalName],o=e===a?void 0:r.alias;t.push(ni`${ni.raw(r.joinType)} join${s} ${i?ni`${ni.identifier(i)}.`:void 0}${ni.identifier(a)}${o&&ni` ${ni.identifier(o)}`} on ${r.on}`)}else if(ry(n,nl)){let e=n[rV].name,i=n[rV].schema,a=n[rV].originalName,o=e===a?void 0:r.alias;t.push(ni`${ni.raw(r.joinType)} join${s} ${i?ni`${ni.identifier(i)}.`:void 0}${ni.identifier(a)}${o&&ni` ${ni.identifier(o)}`} on ${r.on}`)}else t.push(ni`${ni.raw(r.joinType)} join${s} ${n} on ${r.on}`);i<e.length-1&&t.push(ni` `)}return ni.join(t)}buildFromTable(e){if(ry(e,r1)&&e[r1.Symbol.OriginalName]!==e[r1.Symbol.Name]){let t=ni`${ni.identifier(e[r1.Symbol.OriginalName])}`;return e[r1.Symbol.Schema]&&(t=ni`${ni.identifier(e[r1.Symbol.Schema])}.${t}`),ni`${t} ${ni.identifier(e[r1.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:t,fieldsFlat:i,where:r,having:n,table:s,joins:a,orderBy:o,groupBy:l,limit:c,offset:p,lockingClause:u,distinct:d,setOperators:h}){let f,m,g,v=i??nv(t);for(let e of v){let t;if(ry(e.field,rS)&&e.field.table[rT]!==(ry(s,rz)?s._.alias:ry(s,aX)?s[rV].name:ry(s,r8)?void 0:s[rT])&&(t=e.field.table,!a?.some(({alias:e})=>e===(t[r1.Symbol.IsAlias]?t[rT]:t[r1.Symbol.BaseName])))){let t=e.field.table[rT];throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let y=!a||0===a.length,b=this.buildWithCTE(e);d&&(f=!0===d?ni` distinct`:ni` distinct on (${ni.join(d.on,ni`, `)})`);let x=this.buildSelection(v,{isSingleTable:y}),_=this.buildFromTable(s),w=this.buildJoins(a),S=r?ni` where ${r}`:void 0,E=n?ni` having ${n}`:void 0;o&&o.length>0&&(m=ni` order by ${ni.join(o,ni`, `)}`),l&&l.length>0&&(g=ni` group by ${ni.join(l,ni`, `)}`);let T="object"==typeof c||"number"==typeof c&&c>=0?ni` limit ${c}`:void 0,k=p?ni` offset ${p}`:void 0,A=ni.empty();if(u){let e=ni` for ${ni.raw(u.strength)}`;u.config.of&&e.append(ni` of ${ni.join(Array.isArray(u.config.of)?u.config.of:[u.config.of],ni`, `)}`),u.config.noWait?e.append(ni` no wait`):u.config.skipLocked&&e.append(ni` skip locked`),A.append(e)}let P=ni`${b}select${f} ${x} from ${_}${w}${S}${g}${E}${m}${T}${k}${A}`;return h.length>0?this.buildSetOperations(P,h):P}buildSetOperations(e,t){let[i,...r]=t;if(!i)throw Error("Cannot pass undefined values to any set operator");return 0===r.length?this.buildSetOperationQuery({leftSelect:e,setOperator:i}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:i}),r)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:i,rightSelect:r,limit:n,orderBy:s,offset:a}}){let o,l=ni`(${e.getSQL()}) `,c=ni`(${r.getSQL()})`;if(s&&s.length>0){let e=[];for(let t of s)if(ry(t,rj))e.push(ni.identifier(t.name));else if(ry(t,r8)){for(let e=0;e<t.queryChunks.length;e++){let i=t.queryChunks[e];ry(i,rj)&&(t.queryChunks[e]=ni.identifier(i.name))}e.push(ni`${t}`)}else e.push(ni`${t}`);o=ni` order by ${ni.join(e,ni`, `)} `}let p="object"==typeof n||"number"==typeof n&&n>=0?ni` limit ${n}`:void 0,u=ni.raw(`${t} ${i?"all ":""}`),d=a?ni` offset ${a}`:void 0;return ni`${l}${u}${c}${o}${p}${d}`}buildInsertQuery({table:e,values:t,onConflict:i,returning:r,withList:n,select:s,overridingSystemValue_:a}){let o=[],l=Object.entries(e[r1.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),c=l.map(([,e])=>ni.identifier(this.casing.getColumnCasing(e)));if(s)ry(t,r8)?o.push(t):o.push(t.getSQL());else for(let[e,i]of(o.push(ni.raw("values ")),t.entries())){let r=[];for(let[e,t]of l){let n=i[e];if(void 0===n||ry(n,nt)&&void 0===n.value)if(void 0!==t.defaultFn){let e=t.defaultFn(),i=ry(e,r8)?e:ni.param(e,t);r.push(i)}else if(t.default||void 0===t.onUpdateFn)r.push(ni`default`);else{let e=t.onUpdateFn(),i=ry(e,r8)?e:ni.param(e,t);r.push(i)}else r.push(n)}o.push(r),e<t.length-1&&o.push(ni`, `)}let p=this.buildWithCTE(n),u=ni.join(o),d=r?ni` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,h=i?ni` on conflict ${i}`:void 0,f=!0===a?ni`overriding system value `:void 0;return ni`${p}insert into ${e} ${c} ${f}${u}${h}${d}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:i}){let r=t?ni` concurrently`:void 0,n=i?ni` with no data`:void 0;return ni`refresh materialized view${r} ${e}${n}`}prepareTyping(e){if(ry(e,nq)||ry(e,nD))return"json";if(ry(e,nz))return"decimal";if(ry(e,nV))return"time";if(ry(e,nW)||ry(e,nX))return"timestamp";if(ry(e,nN)||ry(e,nL))return"date";else if(ry(e,n0))return"uuid";else return"none"}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:t})}buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:i,table:r,tableConfig:n,queryConfig:s,tableAlias:a,nestedQueryRelation:o,joinOn:l}){let c,p=[],u,d,h=[],f,m=[];if(!0===s)p=Object.entries(n.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:nh(t,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let r=Object.fromEntries(Object.entries(n.columns).map(([e,t])=>[e,nh(t,a)]));if(s.where){let e="function"==typeof s.where?s.where(r,{and:aT,between:aB,eq:aS,exists:aM,gt:aP,gte:aC,ilike:aF,inArray:aN,isNull:aL,isNotNull:aj,like:aq,lt:aO,lte:aR,ne:aE,not:aA,notBetween:aU,notExists:aD,notLike:a$,notIlike:az,notInArray:aI,or:ak,sql:ni}):s.where;f=e&&nm(e,a)}let o=[],l=[];if(s.columns){let e=!1;for(let[t,i]of Object.entries(s.columns))void 0!==i&&t in n.columns&&(e||!0!==i||(e=!0),l.push(t));l.length>0&&(l=e?l.filter(e=>s.columns?.[e]===!0):Object.keys(n.columns).filter(e=>!l.includes(e)))}else l=Object.keys(n.columns);for(let e of l){let t=n.columns[e];o.push({tsKey:e,value:t})}let c=[];if(s.with&&(c=Object.entries(s.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:n.relations[e]}))),s.extras)for(let[e,t]of Object.entries("function"==typeof s.extras?s.extras(r,{sql:ni}):s.extras))o.push({tsKey:e,value:nf(t,a)});for(let{tsKey:e,value:t}of o)p.push({dbKey:ry(t,r8.Aliased)?t.fieldAlias:n.columns[e].name,tsKey:e,field:ry(t,rS)?nh(t,a):t,relationTableTsKey:void 0,isJson:!1,selection:[]});let g="function"==typeof s.orderBy?s.orderBy(r,{sql:ni,asc:aH,desc:aQ}):s.orderBy??[];for(let{tsKey:r,queryConfig:n,relation:o}of(Array.isArray(g)||(g=[g]),h=g.map(e=>ry(e,rS)?nh(e,a):nm(e,a)),u=s.limit,d=s.offset,c)){let s=function(e,t,i){if(ry(i,aZ)&&i.config)return{fields:i.config.fields,references:i.config.references};let r=t[r6(i.referencedTable)];if(!r)throw Error(`Table "${i.referencedTable[r1.Symbol.Name]}" not found in schema`);let n=e[r];if(!n)throw Error(`Table "${r}" not found in schema`);let s=i.sourceTable,a=t[r6(s)];if(!a)throw Error(`Table "${s[r1.Symbol.Name]}" not found in schema`);let o=[];for(let e of Object.values(n.relations))(i.relationName&&i!==e&&e.relationName===i.relationName||!i.relationName&&e.referencedTable===i.sourceTable)&&o.push(e);if(o.length>1)throw i.relationName?Error(`There are multiple relations with name "${i.relationName}" in table "${r}"`):Error(`There are multiple relations between "${r}" and "${i.sourceTable[r1.Symbol.Name]}". Please specify relation name`);if(o[0]&&ry(o[0],aZ)&&o[0].config)return{fields:o[0].config.references,references:o[0].config.fields};throw Error(`There is not enough information to infer relation "${a}.${i.fieldName}"`)}(t,i,o),l=i[r6(o.referencedTable)],c=`${a}_${r}`,u=aT(...s.fields.map((e,t)=>aS(nh(s.references[t],c),nh(e,a)))),d=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:i,table:e[l],tableConfig:t[l],queryConfig:ry(o,aZ)?!0===n?{limit:1}:{...n,limit:1}:n,tableAlias:c,joinOn:u,nestedQueryRelation:o}),h=ni`${ni.identifier(c)}.${ni.identifier("data")}`.as(r);m.push({on:ni`true`,table:new rz(d.sql,{},c),alias:c,joinType:"left",lateral:!0}),p.push({dbKey:r,tsKey:r,field:h,relationTableTsKey:l,isJson:!0,selection:d.selection})}}if(0===p.length)throw new nP({message:`No fields selected for table "${n.tsName}" ("${a}")`});if(f=aT(l,f),o){let e=ni`json_build_array(${ni.join(p.map(({field:e,tsKey:t,isJson:i})=>i?ni`${ni.identifier(`${a}_${t}`)}.${ni.identifier("data")}`:ry(e,r8.Aliased)?e.sql:e),ni`, `)})`;ry(o,aW)&&(e=ni`coalesce(json_agg(${e}${h.length>0?ni` order by ${ni.join(h,ni`, `)}`:void 0}), '[]'::json)`);let t=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:n.tsName,selection:p}];void 0!==u||void 0!==d||h.length>0?(c=this.buildSelectQuery({table:nd(r,a),fields:{},fieldsFlat:[{path:[],field:ni.raw("*")}],where:f,limit:u,offset:d,orderBy:h,setOperators:[]}),f=void 0,u=void 0,d=void 0,h=[]):c=nd(r,a),c=this.buildSelectQuery({table:ry(c,ay)?c:new rz(c,{},a),fields:{},fieldsFlat:t.map(({field:e})=>({path:[],field:ry(e,rS)?nh(e,a):e})),joins:m,where:f,limit:u,offset:d,orderBy:h,setOperators:[]})}else c=this.buildSelectQuery({table:nd(r,a),fields:{},fieldsFlat:p.map(({field:e})=>({path:[],field:ry(e,rS)?nh(e,a):e})),joins:m,where:f,limit:u,offset:d,orderBy:h,setOperators:[]});return{tableTsKey:n.tsName,sql:c,selection:p}}}class aY{static [rv]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class a0{static [rv]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let t,i=!!this.fields;return t=this.fields?this.fields:ry(e,rz)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):ry(e,aX)?e[rV].selectedFields:ry(e,r8)?{}:nx(e),new a2({table:e,fields:t,isPartialSelect:i,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class a1 extends aY{static [rv]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:t,isPartialSelect:i,session:r,dialect:n,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...t},distinct:a,setOperators:[]},this.isPartialSelect=i,this.session=r,this.dialect=n,this._={selectedFields:t},this.tableName=n_(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}createJoin(e){return(t,i)=>{let r=this.tableName,n=n_(t);if("string"==typeof n&&this.config.joins?.some(e=>e.alias===n))throw Error(`Alias "${n}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof r&&(this.config.fields={[r]:this.config.fields}),"string"==typeof n&&!ry(t,r8))){let e=ry(t,rz)?t._.selectedFields:ry(t,nl)?t[rV].selectedFields:t[r1.Symbol.Columns];this.config.fields[n]=e}if("function"==typeof i&&(i=i(new Proxy(this.config.fields,new ng({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:i,table:t,joinType:e,alias:n}),"string"==typeof n)switch(e){case"left":this.joinsNotNullableMap[n]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[n]=!0;break;case"inner":this.joinsNotNullableMap[n]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[n]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,t){return i=>{let r="function"==typeof i?i(a4()):i;if(!ny(this.getSelectedFields(),r.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:r}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new ng({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new ng({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new ng({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new ng({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=i:this.config.orderBy=i}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){return new Proxy(new rz(this.getSQL(),this.config.fields,e),new ng({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new ng({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class a2 extends a1{static [rv]="PgSelect";_prepare(e){let{session:t,config:i,dialect:r,joinsNotNullableMap:n,authToken:s}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");return rQ("drizzle.prepareQuery",()=>{let a=nv(i.fields),o=t.prepareQuery(r.sqlToQuery(this.getSQL()),a,e,!0);return o.joinsNotNullableMap=n,o.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>rQ("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}for(let e of[rw])for(let t of Object.getOwnPropertyNames(e.prototype))"constructor"!==t&&Object.defineProperty(a2.prototype,t,Object.getOwnPropertyDescriptor(e.prototype,t)||Object.create(null));function a6(e,t){return(i,r,...n)=>{let s=[r,...n].map(i=>({type:e,isAll:t,rightSelect:i}));for(let e of s)if(!ny(i.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return i.addSetOperators(s)}}let a4=()=>({union:a3,unionAll:a5,intersect:a8,intersectAll:a9,except:a7,exceptAll:oe}),a3=a6("union",!1),a5=a6("union",!0),a8=a6("intersect",!1),a9=a6("intersect",!0),a7=a6("except",!1),oe=a6("except",!0);class ot{static [rv]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=ry(e,aJ)?e:void 0,this.dialectConfig=ry(e,aJ)?void 0:e}$with=(e,t)=>{let i=this;return{as:r=>("function"==typeof r&&(r=r(i)),new Proxy(new rH(r.getSQL(),t??("getSelectedFields"in r?r.getSelectedFields()??{}:{}),e,!0),new ng({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(i){return new a0({fields:i??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new a0({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,i){return new a0({fields:i??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new a0({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new a0({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new a0({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new aJ(this.dialectConfig)),this.dialect}}class oi{constructor(e,t,i,r,n){this.table=e,this.session=t,this.dialect=i,this.withList=r,this.overridingSystemValue_=n}static [rv]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},i=this.table[r1.Symbol.Columns];for(let r of Object.keys(e)){let n=e[r];t[r]=ry(n,r8)?n:new nt(n,i[r])}return t});return new or(this.table,t,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let t="function"==typeof e?e(new ot):e;if(!ry(t,r8)&&!ny(this.table[rZ],t._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new or(this.table,t,this.session,this.dialect,this.withList,!0)}}class or extends rw{constructor(e,t,i,r,n,s,a){super(),this.session=i,this.dialect=r,this.config={table:e,values:t,withList:n,select:s,overridingSystemValue_:a}}static [rv]="PgInsert";config;returning(e=this.config.table[r1.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=nv(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=ni`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let i=e.where?ni` where ${e.where}`:void 0;this.config.onConflict=ni`(${ni.raw(t)})${i} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let t=e.where?ni` where ${e.where}`:void 0,i=e.targetWhere?ni` where ${e.targetWhere}`:void 0,r=e.setWhere?ni` where ${e.setWhere}`:void 0,n=this.dialect.buildUpdateSet(this.config.table,nb(this.config.table,e.set)),s="";return s=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=ni`(${ni.raw(s)})${i} do update set ${n}${t}${r}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return rQ("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>rQ("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new ng({alias:this.config.table[rT],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class on{constructor(e,t,i,r){this.table=e,this.session=t,this.dialect=i,this.withList=r}static [rv]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new os(this.table,nb(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}class os extends rw{constructor(e,t,i,r,n){super(),this.session=i,this.dialect=r,this.config={set:t,table:e,withList:n,joins:[]},this.tableName=n_(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [rv]="PgUpdate";config;tableName;joinsNotNullableMap;from(e){let t=n_(e);return"string"==typeof t&&(this.joinsNotNullableMap[t]=!0),this.config.from=e,this}getTableLikeFields(e){return ry(e,ay)?e[r1.Symbol.Columns]:ry(e,rz)?e._.selectedFields:e[rV].selectedFields}createJoin(e){return(t,i)=>{let r=n_(t);if("string"==typeof r&&this.config.joins.some(e=>e.alias===r))throw Error(`Alias "${r}" is already used in this query`);if("function"==typeof i){let e=this.config.from&&!ry(this.config.from,r8)?this.getTableLikeFields(this.config.from):void 0;i=i(new Proxy(this.config.table[r1.Symbol.Columns],new ng({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new ng({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:i,table:t,joinType:e,alias:r}),"string"==typeof r)switch(e){case"left":this.joinsNotNullableMap[r]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[r]=!0;break;case"inner":this.joinsNotNullableMap[r]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[r]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[r1.Symbol.Columns]),this.config.from)){let t=n_(this.config.from);if("string"==typeof t&&this.config.from&&!ry(this.config.from,r8)){let i=this.getTableLikeFields(this.config.from);e[t]=i}for(let t of this.config.joins){let i=n_(t.table);if("string"==typeof i&&!ry(t.table,r8)){let r=this.getTableLikeFields(t.table);e[i]=r}}}return this.config.returningFields=e,this.config.returning=nv(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){let t=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0);return t.joinsNotNullableMap=this.joinsNotNullableMap,t}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new ng({alias:this.config.table[rT],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class oa extends r8{constructor(e){super(oa.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=oa.buildCount(e.source,e.filters)}sql;token;static [rv]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,t){return ni`(select count(*) from ${e}${ni.raw(" where ").if(t)}${t})`}static buildCount(e,t){return ni`select count(*) as count from ${e}${ni.raw(" where ").if(t)}${t};`}setToken(e){return this.token=e,this}then(e,t){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}class oo{constructor(e,t,i,r,n,s,a){this.fullSchema=e,this.schema=t,this.tableNamesMap=i,this.table=r,this.tableConfig=n,this.dialect=s,this.session=a}static [rv]="PgRelationalQueryBuilder";findMany(e){return new ol(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new ol(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class ol extends rw{constructor(e,t,i,r,n,s,a,o,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=i,this.table=r,this.tableConfig=n,this.dialect=s,this.session=a,this.config=o,this.mode=l}static [rv]="PgRelationalQuery";_prepare(e){return rQ("drizzle.prepareQuery",()=>{let{query:t,builtQuery:i}=this._toSQL();return this.session.prepareQuery(i,void 0,e,!0,(e,i)=>{let r=e.map(e=>(function e(t,i,r,n,s=e=>e){let a={};for(let[o,l]of n.entries())if(l.isJson){let n=i.relations[l.tsKey],c=r[o],p="string"==typeof c?JSON.parse(c):c;a[l.tsKey]=ry(n,aZ)?p&&e(t,t[l.relationTableTsKey],p,l.selection,s):p.map(i=>e(t,t[l.relationTableTsKey],i,l.selection,s))}else{let e,t=s(r[o]),i=l.field;e=ry(i,rS)?i:ry(i,r8)?i.decoder:i.sql.decoder,a[l.tsKey]=null===t?null:e.mapFromDriverValue(t)}return a})(this.schema,this.tableConfig,e,t.selection,i));return"first"===this.mode?r[0]:r})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return rQ("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class oc extends rw{constructor(e,t,i,r){super(),this.execute=e,this.sql=t,this.query=i,this.mapBatchResult=r}static [rv]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class op extends rw{constructor(e,t,i){super(),this.session=t,this.dialect=i,this.config={view:e}}static [rv]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return rQ("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>rQ("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}class ou{constructor(e,t,i){if(this.dialect=e,this.session=t,this._=i?{schema:i.schema,fullSchema:i.fullSchema,tableNamesMap:i.tableNamesMap,session:t}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:t},this.query={},this._.schema)for(const[r,n]of Object.entries(this._.schema))this.query[r]=new oo(i.fullSchema,this._.schema,this._.tableNamesMap,i.fullSchema[r],n,e,t)}static [rv]="PgDatabase";query;$with=(e,t)=>{let i=this;return{as:r=>("function"==typeof r&&(r=r(new ot(i.dialect))),new Proxy(new rH(r.getSQL(),t??("getSelectedFields"in r?r.getSelectedFields()??{}:{}),e,!0),new ng({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new oa({source:e,filters:t,session:this.session})}with(...e){let t=this;return{select:function(i){return new a0({fields:i??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(i){return new a0({fields:i??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(i,r){return new a0({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:i}})},update:function(i){return new on(i,t.session,t.dialect,e)},insert:function(i){return new oi(i,t.session,t.dialect,e)},delete:function(i){return new nS(i,t.session,t.dialect,e)}}}select(e){return new a0({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new a0({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new a0({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new on(e,this.session,this.dialect)}insert(e){return new oi(e,this.session,this.dialect)}delete(e){return new nS(e,this.session,this.dialect)}refreshMaterializedView(e){return new op(e,this.session,this.dialect)}authToken;execute(e){let t="string"==typeof e?ni.raw(e):e.getSQL(),i=this.dialect.sqlToQuery(t),r=this.session.prepareQuery(i,void 0,void 0,!1);return new oc(()=>r.execute(void 0,this.authToken),t,i,e=>r.mapResult(e,!0))}transaction(e,t){return this.session.transaction(e,t)}}class od{constructor(e){this.query=e}authToken;getQuery(){return this.query}mapResult(e,t){return e}setToken(e){return this.authToken=e,this}static [rv]="PgPreparedQuery";joinsNotNullableMap}class oh{constructor(e){this.dialect=e}static [rv]="PgSession";execute(e,t){return rQ("drizzle.operation",()=>rQ("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(t).execute(void 0,t))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,t){return Number((await this.execute(e,t))[0].count)}}class of extends ou{constructor(e,t,i,r=0){super(e,t,i),this.schema=i,this.nestedIndex=r}static [rv]="PgTransaction";rollback(){throw new nC}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),ni.raw(t.join(" "))}setTransaction(e){return this.session.execute(ni`set transaction ${this.getTransactionConfigSQL(e)}`)}}class om extends od{constructor(e,t,i,r,n,s,a,o){super({sql:t,params:i}),this.client=e,this.params=i,this.logger=r,this.fields=n,this._isResponseInArrayMode=a,this.customResultMapper=o,this.rawQueryConfig={name:s,text:t,types:{getTypeParser:(e,t)=>e===rg.builtins.TIMESTAMPTZ||e===rg.builtins.TIMESTAMP||e===rg.builtins.DATE||e===rg.builtins.INTERVAL?e=>e:rg.getTypeParser(e,t)}},this.queryConfig={name:s,text:t,rowMode:"array",types:{getTypeParser:(e,t)=>e===rg.builtins.TIMESTAMPTZ||e===rg.builtins.TIMESTAMP||e===rg.builtins.DATE||e===rg.builtins.INTERVAL?e=>e:rg.getTypeParser(e,t)}}}static [rv]="NeonPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){let t=na(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,t);let{fields:i,client:r,rawQueryConfig:n,queryConfig:s,joinsNotNullableMap:a,customResultMapper:o}=this;if(!i&&!o)return r.query(n,t);let l=await r.query(s,t);return o?o(l.rows):l.rows.map(e=>(function(e,t,i){let r={},n=e.reduce((e,{path:n,field:s},a)=>{let o;o=ry(s,rS)?s:ry(s,r8)?s.decoder:s.sql.decoder;let l=e;for(let[e,c]of n.entries())if(e<n.length-1)c in l||(l[c]={}),l=l[c];else{let e=t[a],p=l[c]=null===e?null:o.mapFromDriverValue(e);if(i&&ry(s,rS)&&2===n.length){let e=n[0];e in r?"string"==typeof r[e]&&r[e]!==s.table[rT]&&(r[e]=!1):r[e]=null===p&&s.table[rT]}}return e},{});if(i&&Object.keys(r).length>0)for(let[e,t]of Object.entries(r))"string"!=typeof t||i[t]||(n[e]=null);return n})(i,e,a))}all(e={}){let t=na(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,t),this.client.query(this.rawQueryConfig,t).then(e=>e.rows)}values(e={}){let t=na(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,t),this.client.query(this.queryConfig,t).then(e=>e.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}}class og extends oh{constructor(e,t,i,r={}){super(t),this.client=e,this.schema=i,this.options=r,this.logger=r.logger??new r_}static [rv]="NeonSession";logger;prepareQuery(e,t,i,r,n){return new om(this.client,e.sql,e.params,this.logger,t,i,r,n)}async query(e,t){return this.logger.logQuery(e,t),await this.client.query({rowMode:"array",text:e,values:t})}async queryObjects(e,t){return this.client.query(e,t)}async count(e){return Number((await this.execute(e)).rows[0].count)}async transaction(e,t={}){let i=this.client instanceof rm?new og(await this.client.connect(),this.dialect,this.schema,this.options):this,r=new ov(this.dialect,i,this.schema);await r.execute(ni`begin ${r.getTransactionConfigSQL(t)}`);try{let t=await e(r);return await r.execute(ni`commit`),t}catch(e){throw await r.execute(ni`rollback`),e}finally{this.client instanceof rm&&i.client.release()}}}class ov extends of{static [rv]="NeonTransaction";async transaction(e){let t=`sp${this.nestedIndex+1}`,i=new ov(this.dialect,this.session,this.schema,this.nestedIndex+1);await i.execute(ni.raw(`savepoint ${t}`));try{let r=await e(i);return await i.execute(ni.raw(`release savepoint ${t}`)),r}catch(e){throw await i.execute(ni.raw(`rollback to savepoint ${t}`)),e}}}class oy{constructor(e,t,i={}){this.client=e,this.dialect=t,this.options=i}static [rv]="NeonDriver";createSession(e){return new og(this.client,this.dialect,e,{logger:this.options.logger})}}class ob extends ou{static [rv]="NeonServerlessDatabase"}function ox(e,t={}){let i,r,n=new aJ({casing:t.casing});if(!0===t.logger?i=new rx:!1!==t.logger&&(i=t.logger),t.schema){let e=function(e,t){1===Object.keys(e).length&&"default"in e&&!ry(e.default,r1)&&(e=e.default);let i={},r={},n={};for(let[s,a]of Object.entries(e))if(ry(a,r1)){let e=r6(a),t=r[e];for(let r of(i[e]=s,n[s]={tsName:s,dbName:a[r1.Symbol.Name],schema:a[r1.Symbol.Schema],columns:a[r1.Symbol.Columns],relations:t?.relations??{},primaryKey:t?.primaryKey??[]},Object.values(a[r1.Symbol.Columns])))r.primary&&n[s].primaryKey.push(r);let o=a[r1.Symbol.ExtraConfigBuilder]?.(a[r1.Symbol.ExtraConfigColumns]);if(o)for(let e of Object.values(o))ry(e,ax)&&n[s].primaryKey.push(...e.columns)}else if(ry(a,aG)){let e,s=r6(a.table),o=i[s];for(let[i,l]of Object.entries(a.config(t(a.table))))if(o){let t=n[o];t.relations[i]=l,e&&t.primaryKey.push(...e)}else s in r||(r[s]={relations:{},primaryKey:e}),r[s].relations[i]=l}return{tables:n,tableNamesMap:i}}(t.schema,aK);r={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let s=new oy(e,n,{logger:i}).createSession(r),a=new ob(n,s,r);return a.$client=e,a}function o_(...e){if("string"==typeof e[0])return ox(new rm({connectionString:e[0]}),e[1]);if(function(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.logger;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.logger;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}(e[0])){let{connection:t,client:i,ws:r,...n}=e[0];return(r&&(iF.webSocketConstructor=r),i)?ox(i,n):ox(new rm("string"==typeof t?{connectionString:t}:t),n)}return ox(e[0],e[1])}(o_||(o_={})).mock=function(e){return ox({},e)},e.s([],54033),e.i(54033),(l=u||(u={})).assertEqual=e=>{},l.assertIs=function(e){},l.assertNever=function(e){throw Error()},l.arrayToEnum=e=>{let t={};for(let i of e)t[i]=i;return t},l.getValidEnumValues=e=>{let t=l.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),i={};for(let r of t)i[r]=e[r];return l.objectValues(i)},l.objectValues=e=>l.objectKeys(e).map(function(t){return e[t]}),l.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t},l.find=(e,t)=>{for(let i of e)if(t(i))return i},l.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,l.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},l.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(d||(d={})).mergeShapes=(e,t)=>({...e,...t});let ow=u.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oS=e=>{switch(typeof e){case"undefined":return ow.undefined;case"string":return ow.string;case"number":return Number.isNaN(e)?ow.nan:ow.number;case"boolean":return ow.boolean;case"function":return ow.function;case"bigint":return ow.bigint;case"symbol":return ow.symbol;case"object":if(Array.isArray(e))return ow.array;if(null===e)return ow.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return ow.promise;if("undefined"!=typeof Map&&e instanceof Map)return ow.map;if("undefined"!=typeof Set&&e instanceof Set)return ow.set;if("undefined"!=typeof Date&&e instanceof Date)return ow.date;return ow.object;default:return ow.unknown}};e.s(["ZodParsedType",0,ow,"getParsedType",0,oS,"objectUtil",()=>d,"util",()=>u],42944);let oE=u.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oT=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ok extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},i={_errors:[]},r=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(r);else if("invalid_return_type"===n.code)r(n.returnTypeError);else if("invalid_arguments"===n.code)r(n.argumentsError);else if(0===n.path.length)i._errors.push(t(n));else{let e=i,r=0;for(;r<n.path.length;){let i=n.path[r];r===n.path.length-1?(e[i]=e[i]||{_errors:[]},e[i]._errors.push(t(n))):e[i]=e[i]||{_errors:[]},e=e[i],r++}}};return r(this),i}static assert(e){if(!(e instanceof ok))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,u.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},i=[];for(let r of this.issues)if(r.path.length>0){let i=r.path[0];t[i]=t[i]||[],t[i].push(e(r))}else i.push(e(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}ok.create=e=>new ok(e),e.s(["ZodError",()=>ok,"ZodIssueCode",0,oE,"quotelessJson",0,oT],15235);let oA=(e,t)=>{let i;switch(e.code){case oE.invalid_type:i=e.received===ow.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case oE.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,u.jsonStringifyReplacer)}`;break;case oE.unrecognized_keys:i=`Unrecognized key(s) in object: ${u.joinValues(e.keys,", ")}`;break;case oE.invalid_union:i="Invalid input";break;case oE.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${u.joinValues(e.options)}`;break;case oE.invalid_enum_value:i=`Invalid enum value. Expected ${u.joinValues(e.options)}, received '${e.received}'`;break;case oE.invalid_arguments:i="Invalid function arguments";break;case oE.invalid_return_type:i="Invalid function return type";break;case oE.invalid_date:i="Invalid date";break;case oE.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(i=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?i=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?i=`Invalid input: must end with "${e.validation.endsWith}"`:u.assertNever(e.validation):i="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case oE.too_small:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case oE.too_big:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case oE.custom:i="Invalid input";break;case oE.invalid_intersection_types:i="Intersection results could not be merged";break;case oE.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case oE.not_finite:i="Number must be finite";break;default:i=t.defaultError,u.assertNever(e)}return{message:i}},oP=oA;function oC(e){oP=e}function oO(){return oP}e.s(["getErrorMap",()=>oO,"setErrorMap",()=>oC],85676),e.i(85676),e.s(["defaultErrorMap",0,oA,"getErrorMap",()=>oO,"setErrorMap",()=>oC],76733),e.i(76733);let oR=e=>{let{data:t,path:i,errorMaps:r,issueData:n}=e,s=[...i,...n.path||[]],a={...n,path:s};if(void 0!==n.message)return{...n,path:s,message:n.message};let o="";for(let e of r.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...n,path:s,message:o}},oN=[];function oI(e,t){let i=oP,r=oR({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,i,i===oA?void 0:oA].filter(e=>!!e)});e.common.issues.push(r)}class oL{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let i=[];for(let r of t){if("aborted"===r.status)return oj;"dirty"===r.status&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){let i=[];for(let e of t){let t=await e.key,r=await e.value;i.push({key:t,value:r})}return oL.mergeObjectSync(e,i)}static mergeObjectSync(e,t){let i={};for(let r of t){let{key:t,value:n}=r;if("aborted"===t.status||"aborted"===n.status)return oj;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||r.alwaysSet)&&(i[t.value]=n.value)}return{status:e.value,value:i}}}let oj=Object.freeze({status:"aborted"}),oM=e=>({status:"dirty",value:e}),oD=e=>({status:"valid",value:e}),oB=e=>"aborted"===e.status,oU=e=>"dirty"===e.status,oq=e=>"valid"===e.status,o$=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,oM,"EMPTY_PATH",0,oN,"INVALID",0,oj,"OK",0,oD,"ParseStatus",()=>oL,"addIssueToContext",()=>oI,"isAborted",0,oB,"isAsync",0,o$,"isDirty",0,oU,"isValid",0,oq,"makeIssue",0,oR],84488),e.i(84488),e.s([],91316),e.i(91316),e.i(42944),(c=h||(h={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},c.toString=e=>"string"==typeof e?e:e?.message;class oF{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let oz=(e,t)=>{if(oq(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ok(e.common.issues);return this._error=t,this._error}}};function oH(e){if(!e)return{};let{errorMap:t,invalid_type_error:i,required_error:r,description:n}=e;if(t&&(i||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??n.defaultError}:void 0===n.data?{message:s??r??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:s??i??n.defaultError}},description:n}}class oQ{get description(){return this._def.description}_getType(e){return oS(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:oS(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new oL,ctx:{common:e.parent.common,data:e.data,parsedType:oS(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(o$(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){let i={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oS(e)},r=this._parseSync({data:e,path:i.path,parent:i});return oz(i,r)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oS(e)};if(!this["~standard"].async)try{let i=this._parseSync({data:e,path:[],parent:t});return oq(i)?{value:i.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>oq(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){let i={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oS(e)},r=this._parse({data:e,path:i.path,parent:i});return oz(i,await (o$(r)?r:Promise.resolve(r)))}refine(e,t){return this._refinement((i,r)=>{let n=e(i),s=()=>r.addIssue({code:oE.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(i):t});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(s(),!1)):!!n||(s(),!1)})}refinement(e,t){return this._refinement((i,r)=>!!e(i)||(r.addIssue("function"==typeof t?t(i,r):t),!1))}_refinement(e){return new lC({schema:this,typeName:f.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return lO.create(this,this._def)}nullable(){return lR.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ld.create(this)}promise(){return lP.create(this,this._def)}or(e){return lf.create([this,e],this._def)}and(e){return lv.create(this,e,this._def)}transform(e){return new lC({...oH(this._def),schema:this,typeName:f.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new lN({...oH(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:f.ZodDefault})}brand(){return new lM({typeName:f.ZodBranded,type:this,...oH(this._def)})}catch(e){return new lI({...oH(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:f.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return lD.create(this,e)}readonly(){return lB.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let oV=/^c[^\s-]{8,}$/i,oG=/^[0-9a-z]+$/,oZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oK=/^[a-z0-9_-]{21}$/i,oX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,oY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,o0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,o2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,o6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,o4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,o3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,o5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",o8=RegExp(`^${o5}$`);function o9(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let i=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${i}`}function o7(e){let t=`${o5}T${o9(e)}`,i=[];return i.push(e.local?"Z?":"Z"),e.offset&&i.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${i.join("|")})`,RegExp(`^${t}$`)}class le extends oQ{_parse(e){var t,i,r,n;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ow.string){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.string,received:t.parsedType}),oj}let o=new oL;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(oI(a=this._getOrReturnCtx(e,a),{code:oE.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(oI(a=this._getOrReturnCtx(e,a),{code:oE.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){let t=e.data.length>l.value,i=e.data.length<l.value;(t||i)&&(a=this._getOrReturnCtx(e,a),t?oI(a,{code:oE.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):i&&oI(a,{code:oE.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)oY.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"email",code:oE.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)s||(s=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),s.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:oE.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)oW.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:oE.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)oK.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:oE.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)oV.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:oE.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)oG.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:oE.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)oZ.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:oE.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{oI(a=this._getOrReturnCtx(e,a),{validation:"url",code:oE.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"regex",code:oE.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(oI(a=this._getOrReturnCtx(e,a),{code:oE.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(oI(a=this._getOrReturnCtx(e,a),{code:oE.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(oI(a=this._getOrReturnCtx(e,a),{code:oE.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?o7(l).test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{code:oE.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?o8.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{code:oE.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?RegExp(`^${o9(l)}$`).test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{code:oE.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?oJ.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"duration",code:oE.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(t=e.data,!(("v4"===(i=l.version)||!i)&&o0.test(t)||("v6"===i||!i)&&o2.test(t))&&1&&(oI(a=this._getOrReturnCtx(e,a),{validation:"ip",code:oE.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?!function(e,t){if(!oX.test(e))return!1;try{let[i]=e.split(".");if(!i)return!1;let r=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),n=JSON.parse(atob(r));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(oI(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:oE.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?(r=e.data,!(("v4"===(n=l.version)||!n)&&o1.test(r)||("v6"===n||!n)&&o6.test(r))&&1&&(oI(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:oE.invalid_string,message:l.message}),o.dirty())):"base64"===l.kind?o4.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"base64",code:oE.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?o3.test(e.data)||(oI(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:oE.invalid_string,message:l.message}),o.dirty()):u.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,i){return this.refinement(t=>e.test(t),{validation:t,code:oE.invalid_string,...h.errToObj(i)})}_addCheck(e){return new le({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...h.errToObj(e)})}url(e){return this._addCheck({kind:"url",...h.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...h.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...h.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...h.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...h.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...h.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...h.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...h.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...h.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...h.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...h.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...h.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...h.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...h.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...h.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...h.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...h.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...h.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...h.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...h.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...h.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...h.errToObj(t)})}nonempty(e){return this.min(1,h.errToObj(e))}trim(){return new le({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new le({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new le({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}le.create=e=>new le({checks:[],typeName:f.ZodString,coerce:e?.coerce??!1,...oH(e)});class lt extends oQ{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ow.number){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.number,received:t.parsedType}),oj}let i=new oL;for(let r of this._def.checks)"int"===r.kind?u.isInteger(e.data)||(oI(t=this._getOrReturnCtx(e,t),{code:oE.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(oI(t=this._getOrReturnCtx(e,t),{code:oE.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(oI(t=this._getOrReturnCtx(e,t),{code:oE.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"multipleOf"===r.kind?0!==function(e,t){let i=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,n=i>r?i:r;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,r.value)&&(oI(t=this._getOrReturnCtx(e,t),{code:oE.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(oI(t=this._getOrReturnCtx(e,t),{code:oE.not_finite,message:r.message}),i.dirty()):u.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,h.toString(t))}gt(e,t){return this.setLimit("min",e,!1,h.toString(t))}lte(e,t){return this.setLimit("max",e,!0,h.toString(t))}lt(e,t){return this.setLimit("max",e,!1,h.toString(t))}setLimit(e,t,i,r){return new lt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:h.toString(r)}]})}_addCheck(e){return new lt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:h.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:h.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:h.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:h.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:h.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:h.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:h.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:h.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:h.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&u.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let i of this._def.checks)if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;else"min"===i.kind?(null===t||i.value>t)&&(t=i.value):"max"===i.kind&&(null===e||i.value<e)&&(e=i.value);return Number.isFinite(t)&&Number.isFinite(e)}}lt.create=e=>new lt({checks:[],typeName:f.ZodNumber,coerce:e?.coerce||!1,...oH(e)});class li extends oQ{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ow.bigint)return this._getInvalidInput(e);let i=new oL;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(oI(t=this._getOrReturnCtx(e,t),{code:oE.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(oI(t=this._getOrReturnCtx(e,t),{code:oE.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(oI(t=this._getOrReturnCtx(e,t),{code:oE.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):u.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.bigint,received:t.parsedType}),oj}gte(e,t){return this.setLimit("min",e,!0,h.toString(t))}gt(e,t){return this.setLimit("min",e,!1,h.toString(t))}lte(e,t){return this.setLimit("max",e,!0,h.toString(t))}lt(e,t){return this.setLimit("max",e,!1,h.toString(t))}setLimit(e,t,i,r){return new li({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:h.toString(r)}]})}_addCheck(e){return new li({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:h.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:h.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:h.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:h.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:h.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}li.create=e=>new li({checks:[],typeName:f.ZodBigInt,coerce:e?.coerce??!1,...oH(e)});class lr extends oQ{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ow.boolean){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.boolean,received:t.parsedType}),oj}return oD(e.data)}}lr.create=e=>new lr({typeName:f.ZodBoolean,coerce:e?.coerce||!1,...oH(e)});class ln extends oQ{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ow.date){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.date,received:t.parsedType}),oj}if(Number.isNaN(e.data.getTime()))return oI(this._getOrReturnCtx(e),{code:oE.invalid_date}),oj;let i=new oL;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(oI(t=this._getOrReturnCtx(e,t),{code:oE.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(oI(t=this._getOrReturnCtx(e,t),{code:oE.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):u.assertNever(r);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ln({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:h.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:h.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ln.create=e=>new ln({checks:[],coerce:e?.coerce||!1,typeName:f.ZodDate,...oH(e)});class ls extends oQ{_parse(e){if(this._getType(e)!==ow.symbol){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.symbol,received:t.parsedType}),oj}return oD(e.data)}}ls.create=e=>new ls({typeName:f.ZodSymbol,...oH(e)});class la extends oQ{_parse(e){if(this._getType(e)!==ow.undefined){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.undefined,received:t.parsedType}),oj}return oD(e.data)}}la.create=e=>new la({typeName:f.ZodUndefined,...oH(e)});class lo extends oQ{_parse(e){if(this._getType(e)!==ow.null){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.null,received:t.parsedType}),oj}return oD(e.data)}}lo.create=e=>new lo({typeName:f.ZodNull,...oH(e)});class ll extends oQ{constructor(){super(...arguments),this._any=!0}_parse(e){return oD(e.data)}}ll.create=e=>new ll({typeName:f.ZodAny,...oH(e)});class lc extends oQ{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oD(e.data)}}lc.create=e=>new lc({typeName:f.ZodUnknown,...oH(e)});class lp extends oQ{_parse(e){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.never,received:t.parsedType}),oj}}lp.create=e=>new lp({typeName:f.ZodNever,...oH(e)});class lu extends oQ{_parse(e){if(this._getType(e)!==ow.undefined){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.void,received:t.parsedType}),oj}return oD(e.data)}}lu.create=e=>new lu({typeName:f.ZodVoid,...oH(e)});class ld extends oQ{_parse(e){let{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==ow.array)return oI(t,{code:oE.invalid_type,expected:ow.array,received:t.parsedType}),oj;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,n=t.data.length<r.exactLength.value;(e||n)&&(oI(t,{code:e?oE.too_big:oE.too_small,minimum:n?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(oI(t,{code:oE.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(oI(t,{code:oE.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((e,i)=>r.type._parseAsync(new oF(t,e,t.path,i)))).then(e=>oL.mergeArray(i,e));let n=[...t.data].map((e,i)=>r.type._parseSync(new oF(t,e,t.path,i)));return oL.mergeArray(i,n)}get element(){return this._def.type}min(e,t){return new ld({...this._def,minLength:{value:e,message:h.toString(t)}})}max(e,t){return new ld({...this._def,maxLength:{value:e,message:h.toString(t)}})}length(e,t){return new ld({...this._def,exactLength:{value:e,message:h.toString(t)}})}nonempty(e){return this.min(1,e)}}ld.create=(e,t)=>new ld({type:e,minLength:null,maxLength:null,exactLength:null,typeName:f.ZodArray,...oH(t)});class lh extends oQ{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=u.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ow.object){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.object,received:t.parsedType}),oj}let{status:t,ctx:i}=this._processInputParams(e),{shape:r,keys:n}=this._getCached(),s=[];if(!(this._def.catchall instanceof lp&&"strip"===this._def.unknownKeys))for(let e in i.data)n.includes(e)||s.push(e);let a=[];for(let e of n){let t=r[e],n=i.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new oF(i,n,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof lp){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}});else if("strict"===e)s.length>0&&(oI(i,{code:oE.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let r=i.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new oF(i,r,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let i=await t.key,r=await t.value;e.push({key:i,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>oL.mergeObjectSync(t,e)):oL.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return h.errToObj,new lh({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,i)=>{let r=this._def.errorMap?.(t,i).message??i.defaultError;return"unrecognized_keys"===t.code?{message:h.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new lh({...this._def,unknownKeys:"strip"})}passthrough(){return new lh({...this._def,unknownKeys:"passthrough"})}extend(e){return new lh({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lh({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:f.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new lh({...this._def,catchall:e})}pick(e){let t={};for(let i of u.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new lh({...this._def,shape:()=>t})}omit(e){let t={};for(let i of u.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new lh({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof lh){let i={};for(let r in t.shape){let n=t.shape[r];i[r]=lO.create(e(n))}return new lh({...t._def,shape:()=>i})}if(t instanceof ld)return new ld({...t._def,type:e(t.element)});if(t instanceof lO)return lO.create(e(t.unwrap()));if(t instanceof lR)return lR.create(e(t.unwrap()));if(t instanceof ly)return ly.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let i of u.objectKeys(this.shape)){let r=this.shape[i];e&&!e[i]?t[i]=r:t[i]=r.optional()}return new lh({...this._def,shape:()=>t})}required(e){let t={};for(let i of u.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let e=this.shape[i];for(;e instanceof lO;)e=e._def.innerType;t[i]=e}return new lh({...this._def,shape:()=>t})}keyof(){return lT(u.objectKeys(this.shape))}}lh.create=(e,t)=>new lh({shape:()=>e,unknownKeys:"strip",catchall:lp.create(),typeName:f.ZodObject,...oH(t)}),lh.strictCreate=(e,t)=>new lh({shape:()=>e,unknownKeys:"strict",catchall:lp.create(),typeName:f.ZodObject,...oH(t)}),lh.lazycreate=(e,t)=>new lh({shape:e,unknownKeys:"strip",catchall:lp.create(),typeName:f.ZodObject,...oH(t)});class lf extends oQ{_parse(e){let{ctx:t}=this._processInputParams(e),i=this._def.options;if(t.common.async)return Promise.all(i.map(async e=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let i of e)if("dirty"===i.result.status)return t.common.issues.push(...i.ctx.common.issues),i.result;let i=e.map(e=>new ok(e.ctx.common.issues));return oI(t,{code:oE.invalid_union,unionErrors:i}),oj});{let e,r=[];for(let n of i){let i={...t,common:{...t.common,issues:[]},parent:null},s=n._parseSync({data:t.data,path:t.path,parent:i});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:i}),i.common.issues.length&&r.push(i.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=r.map(e=>new ok(e));return oI(t,{code:oE.invalid_union,unionErrors:n}),oj}}get options(){return this._def.options}}lf.create=(e,t)=>new lf({options:e,typeName:f.ZodUnion,...oH(t)});let lm=e=>{if(e instanceof lS)return lm(e.schema);if(e instanceof lC)return lm(e.innerType());if(e instanceof lE)return[e.value];if(e instanceof lk)return e.options;if(e instanceof lA)return u.objectValues(e.enum);else if(e instanceof lN)return lm(e._def.innerType);else if(e instanceof la)return[void 0];else if(e instanceof lo)return[null];else if(e instanceof lO)return[void 0,...lm(e.unwrap())];else if(e instanceof lR)return[null,...lm(e.unwrap())];else if(e instanceof lM)return lm(e.unwrap());else if(e instanceof lB)return lm(e.unwrap());else if(e instanceof lI)return lm(e._def.innerType);else return[]};class lg extends oQ{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ow.object)return oI(t,{code:oE.invalid_type,expected:ow.object,received:t.parsedType}),oj;let i=this.discriminator,r=t.data[i],n=this.optionsMap.get(r);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(oI(t,{code:oE.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),oj)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){let r=new Map;for(let i of t){let t=lm(i.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(r.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,i)}}return new lg({typeName:f.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...oH(i)})}}class lv extends oQ{_parse(e){let{status:t,ctx:i}=this._processInputParams(e),r=(e,r)=>{if(oB(e)||oB(r))return oj;let n=function e(t,i){let r=oS(t),n=oS(i);if(t===i)return{valid:!0,data:t};if(r===ow.object&&n===ow.object){let r=u.objectKeys(i),n=u.objectKeys(t).filter(e=>-1!==r.indexOf(e)),s={...t,...i};for(let r of n){let n=e(t[r],i[r]);if(!n.valid)return{valid:!1};s[r]=n.data}return{valid:!0,data:s}}if(r===ow.array&&n===ow.array){if(t.length!==i.length)return{valid:!1};let r=[];for(let n=0;n<t.length;n++){let s=e(t[n],i[n]);if(!s.valid)return{valid:!1};r.push(s.data)}return{valid:!0,data:r}}if(r===ow.date&&n===ow.date&&+t==+i)return{valid:!0,data:t};return{valid:!1}}(e.value,r.value);return n.valid?((oU(e)||oU(r))&&t.dirty(),{status:t.value,value:n.data}):(oI(i,{code:oE.invalid_intersection_types}),oj)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}lv.create=(e,t,i)=>new lv({left:e,right:t,typeName:f.ZodIntersection,...oH(i)});class ly extends oQ{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ow.array)return oI(i,{code:oE.invalid_type,expected:ow.array,received:i.parsedType}),oj;if(i.data.length<this._def.items.length)return oI(i,{code:oE.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oj;!this._def.rest&&i.data.length>this._def.items.length&&(oI(i,{code:oE.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...i.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new oF(i,e,i.path,t)):null}).filter(e=>!!e);return i.common.async?Promise.all(r).then(e=>oL.mergeArray(t,e)):oL.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ly({...this._def,rest:e})}}ly.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ly({items:e,typeName:f.ZodTuple,rest:null,...oH(t)})};class lb extends oQ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ow.object)return oI(i,{code:oE.invalid_type,expected:ow.object,received:i.parsedType}),oj;let r=[],n=this._def.keyType,s=this._def.valueType;for(let e in i.data)r.push({key:n._parse(new oF(i,e,i.path,e)),value:s._parse(new oF(i,i.data[e],i.path,e)),alwaysSet:e in i.data});return i.common.async?oL.mergeObjectAsync(t,r):oL.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return new lb(t instanceof oQ?{keyType:e,valueType:t,typeName:f.ZodRecord,...oH(i)}:{keyType:le.create(),valueType:e,typeName:f.ZodRecord,...oH(t)})}}class lx extends oQ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ow.map)return oI(i,{code:oE.invalid_type,expected:ow.map,received:i.parsedType}),oj;let r=this._def.keyType,n=this._def.valueType,s=[...i.data.entries()].map(([e,t],s)=>({key:r._parse(new oF(i,e,i.path,[s,"key"])),value:n._parse(new oF(i,t,i.path,[s,"value"]))}));if(i.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let i of s){let r=await i.key,n=await i.value;if("aborted"===r.status||"aborted"===n.status)return oj;("dirty"===r.status||"dirty"===n.status)&&t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let i of s){let r=i.key,n=i.value;if("aborted"===r.status||"aborted"===n.status)return oj;("dirty"===r.status||"dirty"===n.status)&&t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}}}}lx.create=(e,t,i)=>new lx({valueType:t,keyType:e,typeName:f.ZodMap,...oH(i)});class l_ extends oQ{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ow.set)return oI(i,{code:oE.invalid_type,expected:ow.set,received:i.parsedType}),oj;let r=this._def;null!==r.minSize&&i.data.size<r.minSize.value&&(oI(i,{code:oE.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&i.data.size>r.maxSize.value&&(oI(i,{code:oE.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let n=this._def.valueType;function s(e){let i=new Set;for(let r of e){if("aborted"===r.status)return oj;"dirty"===r.status&&t.dirty(),i.add(r.value)}return{status:t.value,value:i}}let a=[...i.data.values()].map((e,t)=>n._parse(new oF(i,e,i.path,t)));return i.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new l_({...this._def,minSize:{value:e,message:h.toString(t)}})}max(e,t){return new l_({...this._def,maxSize:{value:e,message:h.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}l_.create=(e,t)=>new l_({valueType:e,minSize:null,maxSize:null,typeName:f.ZodSet,...oH(t)});class lw extends oQ{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ow.function)return oI(t,{code:oE.invalid_type,expected:ow.function,received:t.parsedType}),oj;function i(e,i){return oR({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,oP,oA].filter(e=>!!e),issueData:{code:oE.invalid_arguments,argumentsError:i}})}function r(e,i){return oR({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,oP,oA].filter(e=>!!e),issueData:{code:oE.invalid_return_type,returnTypeError:i}})}let n={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof lP){let e=this;return oD(async function(...t){let a=new ok([]),o=await e._def.args.parseAsync(t,n).catch(e=>{throw a.addIssue(i(t,e)),a}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw a.addIssue(r(l,e)),a})})}{let e=this;return oD(function(...t){let a=e._def.args.safeParse(t,n);if(!a.success)throw new ok([i(t,a.error)]);let o=Reflect.apply(s,this,a.data),l=e._def.returns.safeParse(o,n);if(!l.success)throw new ok([r(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new lw({...this._def,args:ly.create(e).rest(lc.create())})}returns(e){return new lw({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new lw({args:e||ly.create([]).rest(lc.create()),returns:t||lc.create(),typeName:f.ZodFunction,...oH(i)})}}class lS extends oQ{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}lS.create=(e,t)=>new lS({getter:e,typeName:f.ZodLazy,...oH(t)});class lE extends oQ{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return oI(t,{received:t.data,code:oE.invalid_literal,expected:this._def.value}),oj}return{status:"valid",value:e.data}}get value(){return this._def.value}}function lT(e,t){return new lk({values:e,typeName:f.ZodEnum,...oH(t)})}lE.create=(e,t)=>new lE({value:e,typeName:f.ZodLiteral,...oH(t)});class lk extends oQ{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),i=this._def.values;return oI(t,{expected:u.joinValues(i),received:t.parsedType,code:oE.invalid_type}),oj}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),i=this._def.values;return oI(t,{received:t.data,code:oE.invalid_enum_value,options:i}),oj}return oD(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return lk.create(e,{...this._def,...t})}exclude(e,t=this._def){return lk.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}lk.create=lT;class lA extends oQ{_parse(e){let t=u.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ow.string&&i.parsedType!==ow.number){let e=u.objectValues(t);return oI(i,{expected:u.joinValues(e),received:i.parsedType,code:oE.invalid_type}),oj}if(this._cache||(this._cache=new Set(u.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=u.objectValues(t);return oI(i,{received:i.data,code:oE.invalid_enum_value,options:e}),oj}return oD(e.data)}get enum(){return this._def.values}}lA.create=(e,t)=>new lA({values:e,typeName:f.ZodNativeEnum,...oH(t)});class lP extends oQ{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==ow.promise&&!1===t.common.async?(oI(t,{code:oE.invalid_type,expected:ow.promise,received:t.parsedType}),oj):oD((t.parsedType===ow.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}lP.create=(e,t)=>new lP({type:e,typeName:f.ZodPromise,...oH(t)});class lC extends oQ{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===f.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:e=>{oI(i,e),e.fatal?t.abort():t.dirty()},get path(){return i.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===r.type){let e=r.transform(i.data,n);if(i.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return oj;let r=await this._def.schema._parseAsync({data:e,path:i.path,parent:i});return"aborted"===r.status?oj:"dirty"===r.status||"dirty"===t.value?oM(r.value):r});{if("aborted"===t.value)return oj;let r=this._def.schema._parseSync({data:e,path:i.path,parent:i});return"aborted"===r.status?oj:"dirty"===r.status||"dirty"===t.value?oM(r.value):r}}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,n);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==i.common.async)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(i=>"aborted"===i.status?oj:("dirty"===i.status&&t.dirty(),e(i.value).then(()=>({status:t.value,value:i.value}))));{let r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===r.status?oj:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type)if(!1!==i.common.async)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(e=>oq(e)?Promise.resolve(r.transform(e.value,n)).then(e=>({status:t.value,value:e})):oj);else{let e=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!oq(e))return oj;let s=r.transform(e.value,n);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}u.assertNever(r)}}lC.create=(e,t,i)=>new lC({schema:e,typeName:f.ZodEffects,effect:t,...oH(i)}),lC.createWithPreprocess=(e,t,i)=>new lC({schema:t,effect:{type:"preprocess",transform:e},typeName:f.ZodEffects,...oH(i)});class lO extends oQ{_parse(e){return this._getType(e)===ow.undefined?oD(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lO.create=(e,t)=>new lO({innerType:e,typeName:f.ZodOptional,...oH(t)});class lR extends oQ{_parse(e){return this._getType(e)===ow.null?oD(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lR.create=(e,t)=>new lR({innerType:e,typeName:f.ZodNullable,...oH(t)});class lN extends oQ{_parse(e){let{ctx:t}=this._processInputParams(e),i=t.data;return t.parsedType===ow.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}lN.create=(e,t)=>new lN({innerType:e,typeName:f.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...oH(t)});class lI extends oQ{_parse(e){let{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return o$(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ok(i.common.issues)},input:i.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ok(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}lI.create=(e,t)=>new lI({innerType:e,typeName:f.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...oH(t)});class lL extends oQ{_parse(e){if(this._getType(e)!==ow.nan){let t=this._getOrReturnCtx(e);return oI(t,{code:oE.invalid_type,expected:ow.nan,received:t.parsedType}),oj}return{status:"valid",value:e.data}}}lL.create=e=>new lL({typeName:f.ZodNaN,...oH(e)});let lj=Symbol("zod_brand");class lM extends oQ{_parse(e){let{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class lD extends oQ{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?oj:"dirty"===e.status?(t.dirty(),oM(e.value)):this._def.out._parseAsync({data:e.value,path:i.path,parent:i})})();{let e=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?oj:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:i.path,parent:i})}}static create(e,t){return new lD({in:e,out:t,typeName:f.ZodPipeline})}}class lB extends oQ{_parse(e){let t=this._def.innerType._parse(e),i=e=>(oq(e)&&(e.value=Object.freeze(e.value)),e);return o$(t)?t.then(e=>i(e)):i(t)}unwrap(){return this._def.innerType}}function lU(e,t){let i="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof i?{message:i}:i}function lq(e,t={},i){return e?ll.create().superRefine((r,n)=>{let s=e(r);if(s instanceof Promise)return s.then(e=>{if(!e){let e=lU(t,r),s=e.fatal??i??!0;n.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=lU(t,r),s=e.fatal??i??!0;n.addIssue({code:"custom",...e,fatal:s})}}):ll.create()}lB.create=(e,t)=>new lB({innerType:e,typeName:f.ZodReadonly,...oH(t)});let l$={object:lh.lazycreate};(p=f||(f={})).ZodString="ZodString",p.ZodNumber="ZodNumber",p.ZodNaN="ZodNaN",p.ZodBigInt="ZodBigInt",p.ZodBoolean="ZodBoolean",p.ZodDate="ZodDate",p.ZodSymbol="ZodSymbol",p.ZodUndefined="ZodUndefined",p.ZodNull="ZodNull",p.ZodAny="ZodAny",p.ZodUnknown="ZodUnknown",p.ZodNever="ZodNever",p.ZodVoid="ZodVoid",p.ZodArray="ZodArray",p.ZodObject="ZodObject",p.ZodUnion="ZodUnion",p.ZodDiscriminatedUnion="ZodDiscriminatedUnion",p.ZodIntersection="ZodIntersection",p.ZodTuple="ZodTuple",p.ZodRecord="ZodRecord",p.ZodMap="ZodMap",p.ZodSet="ZodSet",p.ZodFunction="ZodFunction",p.ZodLazy="ZodLazy",p.ZodLiteral="ZodLiteral",p.ZodEnum="ZodEnum",p.ZodEffects="ZodEffects",p.ZodNativeEnum="ZodNativeEnum",p.ZodOptional="ZodOptional",p.ZodNullable="ZodNullable",p.ZodDefault="ZodDefault",p.ZodCatch="ZodCatch",p.ZodPromise="ZodPromise",p.ZodBranded="ZodBranded",p.ZodPipeline="ZodPipeline",p.ZodReadonly="ZodReadonly";let lF=(e,t={message:`Input not instance of ${e.name}`})=>lq(t=>t instanceof e,t),lz=le.create,lH=lt.create,lQ=lL.create,lV=li.create,lG=lr.create,lZ=ln.create,lW=ls.create,lK=la.create,lX=lo.create,lJ=ll.create,lY=lc.create,l0=lp.create,l1=lu.create,l2=ld.create,l6=lh.create,l4=lh.strictCreate,l3=lf.create,l5=lg.create,l8=lv.create,l9=ly.create,l7=lb.create,ce=lx.create,ct=l_.create,ci=lw.create,cr=lS.create,cn=lE.create,cs=lk.create,ca=lA.create,co=lP.create,cl=lC.create,cc=lO.create,cp=lR.create,cu=lC.createWithPreprocess,cd=lD.create,ch=()=>lz().optional(),cf=()=>lH().optional(),cm=()=>lG().optional(),cg={string:e=>le.create({...e,coerce:!0}),number:e=>lt.create({...e,coerce:!0}),boolean:e=>lr.create({...e,coerce:!0}),bigint:e=>li.create({...e,coerce:!0}),date:e=>ln.create({...e,coerce:!0})};e.s(["BRAND",0,lj,"NEVER",0,oj,"Schema",()=>oQ,"ZodAny",()=>ll,"ZodArray",()=>ld,"ZodBigInt",()=>li,"ZodBoolean",()=>lr,"ZodBranded",()=>lM,"ZodCatch",()=>lI,"ZodDate",()=>ln,"ZodDefault",()=>lN,"ZodDiscriminatedUnion",()=>lg,"ZodEffects",()=>lC,"ZodEnum",()=>lk,"ZodFirstPartyTypeKind",()=>f,"ZodFunction",()=>lw,"ZodIntersection",()=>lv,"ZodLazy",()=>lS,"ZodLiteral",()=>lE,"ZodMap",()=>lx,"ZodNaN",()=>lL,"ZodNativeEnum",()=>lA,"ZodNever",()=>lp,"ZodNull",()=>lo,"ZodNullable",()=>lR,"ZodNumber",()=>lt,"ZodObject",()=>lh,"ZodOptional",()=>lO,"ZodPipeline",()=>lD,"ZodPromise",()=>lP,"ZodReadonly",()=>lB,"ZodRecord",()=>lb,"ZodSchema",()=>oQ,"ZodSet",()=>l_,"ZodString",()=>le,"ZodSymbol",()=>ls,"ZodTransformer",()=>lC,"ZodTuple",()=>ly,"ZodType",()=>oQ,"ZodUndefined",()=>la,"ZodUnion",()=>lf,"ZodUnknown",()=>lc,"ZodVoid",()=>lu,"any",()=>lJ,"array",()=>l2,"bigint",()=>lV,"boolean",()=>lG,"coerce",0,cg,"custom",()=>lq,"date",()=>lZ,"datetimeRegex",()=>o7,"discriminatedUnion",()=>l5,"effect",()=>cl,"enum",()=>cs,"function",()=>ci,"instanceof",()=>lF,"intersection",()=>l8,"late",0,l$,"lazy",()=>cr,"literal",()=>cn,"map",()=>ce,"nan",()=>lQ,"nativeEnum",()=>ca,"never",()=>l0,"null",()=>lX,"nullable",()=>cp,"number",()=>lH,"object",()=>l6,"oboolean",()=>cm,"onumber",()=>cf,"optional",()=>cc,"ostring",()=>ch,"pipeline",()=>cd,"preprocess",()=>cu,"promise",()=>co,"record",()=>l7,"set",()=>ct,"strictObject",()=>l4,"string",()=>lz,"symbol",()=>lW,"transformer",()=>cl,"tuple",()=>l9,"undefined",()=>lK,"union",()=>l3,"unknown",()=>lY,"void",()=>l1],17958),e.i(17958),e.i(15235),e.s(["BRAND",0,lj,"DIRTY",0,oM,"EMPTY_PATH",0,oN,"INVALID",0,oj,"NEVER",0,oj,"OK",0,oD,"ParseStatus",()=>oL,"Schema",()=>oQ,"ZodAny",()=>ll,"ZodArray",()=>ld,"ZodBigInt",()=>li,"ZodBoolean",()=>lr,"ZodBranded",()=>lM,"ZodCatch",()=>lI,"ZodDate",()=>ln,"ZodDefault",()=>lN,"ZodDiscriminatedUnion",()=>lg,"ZodEffects",()=>lC,"ZodEnum",()=>lk,"ZodError",()=>ok,"ZodFirstPartyTypeKind",()=>f,"ZodFunction",()=>lw,"ZodIntersection",()=>lv,"ZodIssueCode",0,oE,"ZodLazy",()=>lS,"ZodLiteral",()=>lE,"ZodMap",()=>lx,"ZodNaN",()=>lL,"ZodNativeEnum",()=>lA,"ZodNever",()=>lp,"ZodNull",()=>lo,"ZodNullable",()=>lR,"ZodNumber",()=>lt,"ZodObject",()=>lh,"ZodOptional",()=>lO,"ZodParsedType",0,ow,"ZodPipeline",()=>lD,"ZodPromise",()=>lP,"ZodReadonly",()=>lB,"ZodRecord",()=>lb,"ZodSchema",()=>oQ,"ZodSet",()=>l_,"ZodString",()=>le,"ZodSymbol",()=>ls,"ZodTransformer",()=>lC,"ZodTuple",()=>ly,"ZodType",()=>oQ,"ZodUndefined",()=>la,"ZodUnion",()=>lf,"ZodUnknown",()=>lc,"ZodVoid",()=>lu,"addIssueToContext",()=>oI,"any",()=>lJ,"array",()=>l2,"bigint",()=>lV,"boolean",()=>lG,"coerce",0,cg,"custom",()=>lq,"date",()=>lZ,"datetimeRegex",()=>o7,"defaultErrorMap",0,oA,"discriminatedUnion",()=>l5,"effect",()=>cl,"enum",()=>cs,"function",()=>ci,"getErrorMap",()=>oO,"getParsedType",0,oS,"instanceof",()=>lF,"intersection",()=>l8,"isAborted",0,oB,"isAsync",0,o$,"isDirty",0,oU,"isValid",0,oq,"late",0,l$,"lazy",()=>cr,"literal",()=>cn,"makeIssue",0,oR,"map",()=>ce,"nan",()=>lQ,"nativeEnum",()=>ca,"never",()=>l0,"null",()=>lX,"nullable",()=>cp,"number",()=>lH,"object",()=>l6,"objectUtil",()=>d,"oboolean",()=>cm,"onumber",()=>cf,"optional",()=>cc,"ostring",()=>ch,"pipeline",()=>cd,"preprocess",()=>cu,"promise",()=>co,"quotelessJson",0,oT,"record",()=>l7,"set",()=>ct,"setErrorMap",()=>oC,"strictObject",()=>l4,"string",()=>lz,"symbol",()=>lW,"transformer",()=>cl,"tuple",()=>l9,"undefined",()=>lK,"union",()=>l3,"unknown",()=>lY,"util",()=>u,"void",()=>l1],35907);var cv=e.i(35907),cv=cv;let cy={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:0xffffff,INT32_MIN:-0x80000000,INT32_MAX:0x7fffffff,INT32_UNSIGNED_MAX:0xffffffff,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-0x8000000000000000n,INT64_MAX:0x7fffffffffffffffn,INT64_UNSIGNED_MAX:0xffffffffffffffffn};function cb(e,t){return t.includes(e.columnType)}let cx=cv.union([cv.string(),cv.number(),cv.boolean(),cv.null()]),c_=cv.union([cx,cv.record(cv.any()),cv.array(cv.any())]),cw=cv.custom(e=>e instanceof Buffer);function cS(e){return r2(e)?nx(e):e[rV].selectedFields}let cE={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},cT=(e,t)=>(function e(t,i,r,n){let s={};for(let[a,o]of Object.entries(t)){if(!ry(o,rS)&&!ry(o,r8)&&!ry(o,r8.Aliased)&&"object"==typeof o){let t=r2(o)||"object"==typeof o&&null!==o&&no in o?cS(o):o;s[a]=e(t,i[a]??{},r,n);continue}let t=i[a];if(void 0!==t&&"function"!=typeof t){s[a]=t;continue}let l=ry(o,rS)?o:void 0,c=l?function e(t,i){let r,n=i?.zodInstance??cv,s=i?.coerce??{};return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0&&(r=t.enumValues.length?n.enum(t.enumValues):n.string()),r||(cb(t,["PgGeometry","PgPointTuple"])?r=n.tuple([n.number(),n.number()]):cb(t,["PgGeometryObject","PgPointObject"])?r=n.object({x:n.number(),y:n.number()}):cb(t,["PgHalfVector","PgVector"])?(r=n.array(n.number()),r=t.dimensions?r.length(t.dimensions):r):cb(t,["PgLine"])?r=n.tuple([n.number(),n.number(),n.number()]):cb(t,["PgLineABC"])?r=n.object({a:n.number(),b:n.number(),c:n.number()}):cb(t,["PgArray"])?(r=n.array(e(t.baseColumn,n)),r=t.size?r.length(t.size):r):"array"===t.dataType?r=n.array(n.any()):"number"===t.dataType?r=function(e,t,i){let r,n,s=e.getSQLType().includes("unsigned"),a=!1;cb(e,["MySqlTinyInt","SingleStoreTinyInt"])?(r=s?0:cy.INT8_MIN,n=s?cy.INT8_UNSIGNED_MAX:cy.INT8_MAX,a=!0):cb(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(r=s?0:cy.INT16_MIN,n=s?cy.INT16_UNSIGNED_MAX:cy.INT16_MAX,a=!0):cb(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(r=s?0:cy.INT24_MIN,n=s?cy.INT24_UNSIGNED_MAX:cy.INT24_MAX,a=cb(e,["MySqlMediumInt","SingleStoreMediumInt"])):cb(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(r=s?0:cy.INT32_MIN,n=s?cy.INT32_UNSIGNED_MAX:cy.INT32_MAX,a=!0):cb(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(r=s?0:cy.INT48_MIN,n=s?cy.INT48_UNSIGNED_MAX:cy.INT48_MAX):cb(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=(s=s||cb(e,["MySqlSerial","SingleStoreSerial"]))?0:Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,a=!0):cb(e,["MySqlYear","SingleStoreYear"])?(r=1901,n=2155,a=!0):(r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER);let o=!0===i||i?.number?t.coerce.number():t.number();return o=o.min(r).max(n),a?o.int():o}(t,n,s):"bigint"===t.dataType?r=function(e,t,i){let r=e.getSQLType().includes("unsigned"),n=r?0n:cy.INT64_MIN,s=r?cy.INT64_UNSIGNED_MAX:cy.INT64_MAX;return(!0===i||i?.bigint?t.coerce.bigint():t.bigint()).min(n).max(s)}(t,n,s):"boolean"===t.dataType?r=!0===s||s.boolean?n.coerce.boolean():n.boolean():"date"===t.dataType?r=!0===s||s.date?n.coerce.date():n.date():"string"===t.dataType?r=function(e,t,i){let r,n;if(cb(e,["PgUUID"]))return t.string().uuid();let s=!1;cb(e,["PgVarchar","SQLiteText"])?r=e.length:cb(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??cy.INT16_UNSIGNED_MAX:cb(e,["MySqlText","SingleStoreText"])&&(r="longtext"===e.textType?cy.INT32_UNSIGNED_MAX:"mediumtext"===e.textType?cy.INT24_UNSIGNED_MAX:"text"===e.textType?cy.INT16_UNSIGNED_MAX:cy.INT8_UNSIGNED_MAX),cb(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,s=!0),cb(e,["PgBinaryVector"])&&(n=/^[01]+$/,r=e.dimensions);let a=!0===i||i?.string?t.coerce.string():t.string();return a=n?a.regex(n):a,r&&s?a.length(r):r?a.max(r):a}(t,n,s):"json"===t.dataType?r=c_:"custom"===t.dataType?r=n.any():"buffer"===t.dataType&&(r=cw)),r||(r=n.any()),r}(l,n):cv.any(),p="function"==typeof t?t(c):c;!r.never(l)&&(s[a]=p,l&&(r.nullable(l)&&(s[a]=s[a].nullable()),r.optional(l)&&(s[a]=s[a].optional())))}return cv.object(s)})(cS(e),t??{},cE),ck=ab("users",{id:ar("id").primaryKey().default(ni`gen_random_uuid()`),username:ae("username").notNull().unique(),password:ae("password").notNull()}),cA=cT(ck).pick({username:!0,password:!0}),cP=ab("contact_messages",{id:ar("id").primaryKey().default(ni`gen_random_uuid()`),title:ae("title").notNull(),purpose:ae("purpose").notNull(),content:ae("content").notNull(),createdAt:nJ("created_at").defaultNow().notNull()}),cC=cT(cP).omit({id:!0,createdAt:!0});e.s(["contactMessages",0,cP,"insertContactMessageSchema",0,cC,"insertUserSchema",0,cA,"users",0,ck],90337);var cO=e.i(90337);if(!process.env.DATABASE_URL)throw Error("DATABASE_URL must be set. Did you forget to provision a database?");let cR=o_({client:new rm({connectionString:process.env.DATABASE_URL}),schema:cO}),cN=e.i(29508).default.createTransport({host:process.env.SMTP_HOST||"smtp.gmail.com",port:parseInt(process.env.SMTP_PORT||"587"),secure:!1,auth:{user:process.env.SMTP_USER,pass:process.env.SMTP_PASS}});async function cI(e){try{let t=await e.json(),i=cC.parse(t),[r]=await cR.insert(cP).values(i).returning();return process.env.SMTP_USER&&process.env.SMTP_PASS&&await cN.sendMail({from:process.env.SMTP_USER,to:"manager@teragraph.io",subject:`[TeraGraph Contact] ${i.purpose}: ${i.title}`,html:`
          <h2>New Contact Message</h2>
          <p><strong>Title:</strong> ${i.title}</p>
          <p><strong>Purpose:</strong> ${i.purpose}</p>
          <p><strong>Message:</strong></p>
          <p>${i.content.replace(/\n/g,"<br>")}</p>
          <hr>
          <p><small>Submitted at: ${new Date().toISOString()}</small></p>
        `}),tT.NextResponse.json({success:!0,message:r})}catch(e){return console.error("Contact form error:",e),tT.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Failed to process contact form"},{status:400})}}e.s(["POST",()=>cI],91242);var cL=e.i(91242);let cj=new m.AppRouteRouteModule({definition:{kind:g.APP_ROUTE,page:"/api/contact/route",pathname:"/api/contact",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/contact/route.ts",nextConfigOutput:"",userland:cL}),{workAsyncStorage:cM,workUnitAsyncStorage:cD,serverHooks:cB}=cj;function cU(){return function(e){var t;let i;if(!0===globalThis[eZ])return;let r=(t=globalThis.fetch,i=G.cache(e=>[]),function(e,r){let n,s;if(r&&r.signal)return t(e,r);if("string"!=typeof e||r){let i,a="string"==typeof e||e instanceof URL?new Request(e,r):e;if("GET"!==a.method&&"HEAD"!==a.method||a.keepalive)return t(e,r);i=Array.from(a.headers.entries()).filter(([e])=>!el.has(e.toLowerCase())),s=JSON.stringify([a.method,i,a.mode,a.redirect,a.credentials,a.referrer,a.referrerPolicy,a.integrity]),n=a.url}else s='["GET",[],null,"follow",null,null,null,null]',n=e;let a=i(n);for(let e=0,t=a.length;e<t;e+=1){let[t,i]=a[e];if(t===s)return i.then(()=>{let t=a[e][2];if(!t)throw Object.defineProperty(new ei("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[i,r]=eo(t);return a[e][2]=r,i})}let o=t(e,r),l=[s,o,null];return a.push(l),o.then(e=>{let[t,i]=eo(e);return l[2]=i,t})});globalThis.fetch=function(e,{workAsyncStorage:t,workUnitAsyncStorage:i}){let r=async function(r,n){var s,a;let o;try{(o=new URL(r instanceof Request?r.url:r)).username="",o.password=""}catch{o=void 0}let l=(null==o?void 0:o.href)??"",c=(null==n||null==(s=n.method)?void 0:s.toUpperCase())||"GET",p=(null==n||null==(a=n.next)?void 0:a.internal)===!0,u="1"===process.env.NEXT_OTEL_FETCH_DISABLED,d=p?void 0:performance.timeOrigin+performance.now(),h=t.getStore(),f=i.getStore(),m=f?(0,K.getCacheSignal)(f):null;m&&m.beginRead();let g=H().trace(p?x.internalFetch:S.fetch,{hideSpan:u,kind:M.CLIENT,spanName:["fetch",c,l].filter(Boolean).join(" "),attributes:{"http.url":l,"http.method":c,"net.peer.name":null==o?void 0:o.hostname,"net.peer.port":(null==o?void 0:o.port)||void 0}},async()=>{var t;let i,s,a,o,c,u;if(p||!h||h.isDraftMode)return e(r,n);let g=r&&"object"==typeof r&&"string"==typeof r.method,v=e=>(null==n?void 0:n[e])||(g?r[e]:null),y=e=>{var t,i,s;return void 0!==(null==n||null==(t=n.next)?void 0:t[e])?null==n||null==(i=n.next)?void 0:i[e]:g?null==(s=r.next)?void 0:s[e]:void 0},b=y("revalidate"),x=b,_=function(e,t){let i=[],r=[];for(let n=0;n<e.length;n++){let s=e[n];if("string"!=typeof s?r.push({tag:s,reason:"invalid type, must be a string"}):s.length>256?r.push({tag:s,reason:"exceeded max length of 256"}):i.push(s),i.length>128){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(n).join(", "));break}}if(r.length>0)for(let{tag:e,reason:i}of(console.warn(`Warning: invalid tags passed to ${t}: `),r))console.log(`tag: "${e}" ${i}`);return i}(y("tags")||[],`fetch ${r.toString()}`);if(f)switch(f.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":i=f}if(i&&Array.isArray(_)){let e=i.tags??(i.tags=[]);for(let t of _)e.includes(t)||e.push(t)}let w=null==f?void 0:f.implicitTags,S=h.fetchCache;f&&"unstable-cache"===f.type&&(S="force-no-store");let E=!!h.isUnstableNoStore,T=v("cache"),k="";"string"==typeof T&&void 0!==x&&("force-cache"===T&&0===x||"no-store"===T&&(x>0||!1===x))&&(s=`Specified "cache: ${T}" and "revalidate: ${x}", only one should be specified.`,T=void 0,x=void 0);let A="no-cache"===T||"no-store"===T||"force-no-store"===S||"only-no-store"===S,P=!S&&!T&&!x&&h.forceDynamic;"force-cache"===T&&void 0===x?x=!1:(A||P)&&(x=0),("no-cache"===T||"no-store"===T)&&(k=`cache: ${T}`),u=function(e,t){try{let i;if(!1===e)i=0xfffffffe;else if("number"==typeof e&&!isNaN(e)&&e>-1)i=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return i}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(x,h.route);let C=v("headers"),O="function"==typeof(null==C?void 0:C.get)?C:new Headers(C||{}),R=O.get("authorization")||O.get("cookie"),N=!["get","head"].includes((null==(t=v("method"))?void 0:t.toLowerCase())||"get"),I=void 0==S&&(void 0==T||"default"===T)&&void 0==x,L=!!((R||N)&&(null==i?void 0:i.revalidate)===0),j=!1;if(!L&&I&&(h.isBuildTimePrerendering?j=!0:L=!0),I&&void 0!==f)switch(f.type){case"prerender":case"prerender-runtime":case"prerender-client":return m&&(m.endRead(),m=null),ee(f.renderSignal,h.route,"fetch()")}switch(S){case"force-no-store":k="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===T||void 0!==u&&u>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${l} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});k="fetchCache = only-no-store";break;case"only-cache":if("no-store"===T)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${l} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===x||0===x)&&(k="fetchCache = force-cache",u=0xfffffffe)}if(void 0===u?"default-cache"!==S||E?"default-no-store"===S?(u=0,k="fetchCache = default-no-store"):E?(u=0,k="noStore call"):L?(u=0,k="auto no cache"):(k="auto cache",u=i?i.revalidate:0xfffffffe):(u=0xfffffffe,k="fetchCache = default-cache"):k||(k=`revalidate: ${u}`),!(h.forceStatic&&0===u)&&!L&&i&&u<i.revalidate){if(0===u){if(f)switch(f.type){case"prerender":case"prerender-client":case"prerender-runtime":return m&&(m.endRead(),m=null),ee(f.renderSignal,h.route,"fetch()")}en(h,f,`revalidate: 0 fetch ${r} ${h.route}`)}i&&b===u&&(i.revalidate=u)}let M="number"==typeof u&&u>0,{incrementalCache:D}=h,B=!1;if(f)switch(f.type){case"request":case"cache":case"private-cache":B=f.isHmrRefresh??!1,o=f.serverComponentsHmrCache}if(D&&(M||o))try{a=await D.generateCacheKey(l,g?r:n)}catch(e){console.error("Failed to generate cache key for",r)}let U=h.nextFetchId??1;h.nextFetchId=U+1;let q=()=>{},$=async(t,i)=>{let c=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(g){let e=r,t={body:e._ogBody||e.body};for(let i of c)t[i]=e[i];r=new Request(e.url,t)}else if(n){let{_ogBody:e,body:i,signal:r,...s}=n;n={...s,body:e||i,signal:t?void 0:r}}let p={...n,next:{...null==n?void 0:n.next,fetchType:"origin",fetchIdx:U}};return e(r,p).then(async e=>{if(!t&&d&&eW(h,{start:d,url:l,cacheReason:i||k,cacheStatus:0===u||i?"skip":"miss",cacheWarning:s,status:e.status,method:p.method||"GET"}),200===e.status&&D&&a&&(M||o)){let t=u>=0xfffffffe?31536e3:u,i=M?{fetchCache:!0,fetchUrl:l,fetchIdx:U,tags:_,isImplicitBuildTimeCache:j}:void 0;switch(null==f?void 0:f.type){case"prerender":case"prerender-client":case"prerender-runtime":return eK(e,a,i,D,t,q);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return eX(h,e,a,i,D,o,t,r,q)}}return await q(),e}).catch(e=>{throw q(),e})},F=!1,z=!1;if(a&&D){let e;if(B&&o&&(e=o.get(a),z=!0),M&&!e){q=await D.lock(a);let t=h.isOnDemandRevalidate?null:await D.get(a,{kind:eu.FETCH,revalidate:u,fetchUrl:l,fetchIdx:U,tags:_,softTags:null==w?void 0:w.tags});if(I&&f)switch(f.type){case"prerender":case"prerender-client":case"prerender-runtime":await (eJ||(eJ=new Promise(e=>{setTimeout(()=>{eJ=null,e()},0)})),eJ)}if(t?await q():c="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===ep.FETCH)if(h.isStaticGeneration&&t.isStale)F=!0;else{if(t.isStale&&(h.pendingRevalidates??={},!h.pendingRevalidates[a])){let e=$(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{h.pendingRevalidates??={},delete h.pendingRevalidates[a||""]});e.catch(console.error),h.pendingRevalidates[a]=e}e=t.value.data}}if(e){d&&eW(h,{start:d,url:l,cacheReason:k,cacheStatus:z?"hmr":"hit",cacheWarning:s,status:e.status||200,method:(null==n?void 0:n.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(h.isStaticGeneration&&n&&"object"==typeof n){let{cache:e}=n;if("no-store"===e){if(f)switch(f.type){case"prerender":case"prerender-client":case"prerender-runtime":return m&&(m.endRead(),m=null),ee(f.renderSignal,h.route,"fetch()")}en(h,f,`no-store fetch ${r} ${h.route}`)}let t="next"in n,{next:s={}}=n;if("number"==typeof s.revalidate&&i&&s.revalidate<i.revalidate){if(0===s.revalidate){if(f)switch(f.type){case"prerender":case"prerender-client":case"prerender-runtime":return ee(f.renderSignal,h.route,"fetch()")}en(h,f,`revalidate: 0 fetch ${r} ${h.route}`)}h.forceStatic&&0===s.revalidate||(i.revalidate=s.revalidate)}t&&delete n.next}if(!a||!F)return $(!1,c);{let e=a;h.pendingRevalidates??={};let t=h.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let i=$(!0,c).then(eo);return(t=i.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=h.pendingRevalidates)?void 0:t[e])&&delete h.pendingRevalidates[e]})).catch(()=>{}),h.pendingRevalidates[e]=t,i.then(e=>e[1])}});if(m)try{return await g}finally{m&&m.endRead()}return g};return r.__nextPatched=!0,r.__nextGetStaticStore=()=>t,r._nextOriginalFetch=e,globalThis[eZ]=!0,Object.defineProperty(r,"name",{value:"fetch",writable:!1}),r}(r,e)}({workAsyncStorage:cM,workUnitAsyncStorage:cD})}async function cq(e,t,i){var r;let n;cj.isDev&&(r=process.hrtime.bigint(),(n=ey(e)).devRequestTimingInternalsEnd=r,e[ev]=n);let s="/api/contact/route";s=s.replace(/\/index$/,"")||"/";let a=await cj.prepare(e,t,{srcPage:s,multiZoneDraftMode:!1});if(!a)return t.statusCode=400,t.end("Bad Request"),null==i.waitUntil||i.waitUntil.call(i,Promise.resolve()),null;let{buildId:o,params:l,nextConfig:c,parsedUrl:p,isDraftMode:u,prerenderManifest:d,routerServerContext:h,isOnDemandRevalidate:f,revalidateOnlyGenerated:m,resolvedPathname:y,clientReferenceManifest:b,serverActionsManifest:x}=a,_=eY(s),w=!!(d.dynamicRoutes[_]||d.routes[y]),S=async()=>((null==h?void 0:h.render404)?await h.render404(e,t,p,!1):t.end("This page could not be found"),null);if(w&&!u){let e=!!d.routes[y],t=d.dynamicRoutes[_];if(t&&!1===t.fallback&&!e){if(c.experimental.adapterPath)return await S();throw new tE.NoFallbackError}}let E=null;!w||cj.isDev||u||(E="/index"===(E=y)?"/":E);let T=!0===cj.isDev||!w,k=w&&!T;x&&b&&function({page:e,clientReferenceManifest:t,serverActionsManifest:i,serverModuleMap:r}){var n;let s=null==(n=globalThis[e0])?void 0:n.clientReferenceManifestsPerPage;globalThis[e0]={clientReferenceManifestsPerPage:{...s,[eY(e)]:t},serverActionsManifest:i,serverModuleMap:r}}({page:s,clientReferenceManifest:b,serverActionsManifest:x,serverModuleMap:function({serverActionsManifest:e}){return new Proxy({},{get:(t,i)=>{var r,n,s;let a,o=null==(n=e.node)||null==(r=n[i])?void 0:r.workers;if(!o)return;let l=X.workAsyncStorage.getStore();if(!(a=l?o[ek(s=l.page,"app")?s:"app"+s]:Object.values(o).at(0)))return;let{moduleId:c,async:p}=a;return{id:c,name:i,chunks:[],async:p}}})}({serverActionsManifest:x})});let A=e.method||"GET",P=H(),C=P.getActiveScopeSpan(),O={params:l,prerenderManifest:d,renderOpts:{experimental:{authInterrupts:!!c.experimental.authInterrupts},cacheComponents:!!c.cacheComponents,supportsDynamicResponse:T,incrementalCache:ey(e,"incrementalCache"),cacheLifeProfiles:c.cacheLife,waitUntil:i.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,i,r)=>cj.onRequestError(e,t,r,h)},sharedContext:{buildId:o}},R=new e9(e),N=new e7(t),I=e$.fromNodeNextRequest(R,function(e){let{errored:t,destroyed:i}=e;if(t||i)return AbortSignal.abort(t??new eU);let{signal:r}=eq(e);return r}(t));try{let r=async e=>cj.handle(I,O).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let i=P.getRootSpanAttributes();if(!i)return;if(i.get("next.span_type")!==v.handleRequest)return void console.warn(`Unexpected root span type '${i.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=i.get("next.route");if(r){let t=`${A} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${A} ${s}`)}),n=!!ey(e,"minimalMode"),a=async a=>{var o,l;let p=async({previousCacheEntry:o})=>{try{if(!n&&f&&m&&!o)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await r(a);e.fetchMetrics=O.renderOpts.fetchMetrics;let l=O.renderOpts.pendingWaitUntil;l&&i.waitUntil&&(i.waitUntil(l),l=void 0);let c=O.renderOpts.collectedTags;if(!w)return await tt(R,N,s,O.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=e_(s.headers);c&&(t[Q]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let i=void 0!==O.renderOpts.collectedRevalidate&&!(O.renderOpts.collectedRevalidate>=0xfffffffe)&&O.renderOpts.collectedRevalidate,r=void 0===O.renderOpts.collectedExpire||O.renderOpts.collectedExpire>=0xfffffffe?void 0:O.renderOpts.collectedExpire;return{value:{kind:ep.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:i,expire:r}}}}catch(t){throw(null==o?void 0:o.isStale)&&await cj.onRequestError(e,t,{routerKind:"App Router",routePath:s,routeType:"route",revalidateReason:te({isStaticGeneration:k,isOnDemandRevalidate:f})},h),t}},v=await cj.handleResponse({req:e,nextConfig:c,cacheKey:E,routeKind:g.APP_ROUTE,isFallback:!1,prerenderManifest:d,isRoutePPREnabled:!1,isOnDemandRevalidate:f,revalidateOnlyGenerated:m,responseGenerator:p,waitUntil:i.waitUntil,isMinimalMode:n});if(!w)return null;if((null==v||null==(o=v.value)?void 0:o.kind)!==ep.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==v||null==(l=v.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});n||t.setHeader("x-nextjs-cache",f?"REVALIDATED":v.isMiss?"MISS":v.isStale?"STALE":"HIT"),u&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let y=eb(v.value.headers);return n&&w||y.delete(Q),!v.cacheControl||t.getHeader("Cache-Control")||y.get("Cache-Control")||y.set("Cache-Control",function({revalidate:e,expire:t}){let i="number"==typeof e&&void 0!==t&&e<t?`, stale-while-revalidate=${t-e}`:"";return 0===e?"private, no-cache, no-store, max-age=0, must-revalidate":"number"==typeof e?`s-maxage=${e}${i}`:`s-maxage=31536000${i}`}(v.cacheControl)),await tt(R,N,new Response(v.value.body,{headers:y,status:v.value.status||200})),null};C?await a(C):await P.withPropagatedContext(e.headers,()=>P.trace(v.handleRequest,{spanName:`${A} ${s}`,kind:M.SERVER,attributes:{"http.method":A,"http.target":e.url}},a))}catch(t){if(t instanceof tE.NoFallbackError||await cj.onRequestError(e,t,{routerKind:"App Router",routePath:_,routeType:"route",revalidateReason:te({isStaticGeneration:k,isOnDemandRevalidate:f})}),w)throw t;return await tt(R,N,new Response(null,{status:500})),null}}e.s(["handler",()=>cq,"patchFetch",()=>cU,"routeModule",()=>cj,"serverHooks",()=>cB,"workAsyncStorage",()=>cM,"workUnitAsyncStorage",()=>cD],10044)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b9b572f4._.js.map